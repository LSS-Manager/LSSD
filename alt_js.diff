diff --git a/application.js b/application.alt.js
index b18bafa..409187a 100644
--- a/application.js
+++ b/application.alt.js
@@ -1,487 +1,3 @@
-function layerFactory(e) {
-    function t(t, i) {
-        var n = function () {
-                this.init && this.init.apply(this, arguments);
-            },
-            s = e.Util.create(t.prototype);
-        return e.Util.extend(s, i), (n.prototype = s), n;
-    }
-    var i = t(rbush, {
-            init: function () {
-                rbush.apply(this, arguments), (this._batch = []);
-            },
-            insert: function (e, t) {
-                return t ?
-                        (this._batch.push(e), this)
-                    :   rbush.prototype.insert.call(this, e);
-            },
-            flush: function () {
-                return this.load(this._batch), (this._batch.length = 0), this;
-            },
-        }),
-        n = t(i, {
-            toBBox: function (e) {
-                var t = e._latlng;
-                return { minX: t.lng, minY: t.lat, maxX: t.lng, maxY: t.lat };
-            },
-            compareMinX: function (e, t) {
-                return e._latlng.lng - t._latlng.lng;
-            },
-            compareMinY: function (e, t) {
-                return e._latlng.lat - t._latlng.lat;
-            },
-            searchIn: function (e) {
-                return this.search({
-                    minX: e.getWest(),
-                    minY: e.getSouth(),
-                    maxX: e.getEast(),
-                    maxY: e.getNorth(),
-                });
-            },
-            init: function () {
-                i.prototype.init.apply(this, arguments),
-                    (this._dirty = 0),
-                    (this._total = 0);
-            },
-            cleanup: function () {
-                if (this._dirty / this._total >= 0.1) {
-                    var e = this.all();
-                    this.clear(), (this._dirty = 0), this.load(e);
-                }
-                return this;
-            },
-            insert: function () {
-                return (
-                    this._dirty++,
-                    this._total++,
-                    i.prototype.insert.apply(this, arguments)
-                );
-            },
-            remove: function () {
-                return this._total--, i.prototype.remove.apply(this, arguments);
-            },
-            clear: function () {
-                return (
-                    (this._dirty = 0),
-                    (this._total = 0),
-                    rbush.prototype.clear.apply(this)
-                );
-            },
-        }),
-        s = t(i, {
-            toBBox: function (e) {
-                var t = e.options.icon.options.iconSize,
-                    i = e._point,
-                    n = t[0] / 2,
-                    s = t[1] / 2;
-                return {
-                    minX: i.x - n,
-                    minY: i.y - s,
-                    maxX: i.x + n,
-                    maxY: i.y + s,
-                };
-            },
-            compareMinX: function (e, t) {
-                return e._point.x - t._point.x;
-            },
-            compareMinY: function (e, t) {
-                return e._point.y - t._point.y;
-            },
-            searchBy: function (e) {
-                return this.search({
-                    minX: e.x,
-                    minY: e.y,
-                    maxX: e.x,
-                    maxY: e.y,
-                });
-            },
-        }),
-        a = e.Layer.extend({
-            options: e.Canvas.prototype.options,
-            initialize: function (t) {
-                e.Renderer.prototype.initialize.call(this, t),
-                    (this._pointsIdx = new s()),
-                    (this._latlngsIdx = new n());
-            },
-            onAdd: function () {
-                e.Renderer.prototype.onAdd.call(this),
-                    e.DomUtil.toBack(this._container);
-            },
-            _initContainer: function () {
-                e.Canvas.prototype._initContainer.call(this),
-                    this._hideContainer(!0);
-            },
-            onRemove: function () {
-                e.Renderer.prototype.onRemove.call(this);
-            },
-            _destroyContainer: function () {
-                e.Canvas.prototype._destroyContainer.call(this),
-                    this._pointsIdx.clear();
-            },
-            getEvents: function () {
-                var e = {
-                    viewreset: this._reset,
-                    zoom: this._onZoom,
-                    moveend: this._update,
-                    click: this._onClick,
-                    mousemove: this._onMouseMove,
-                    mouseout: this._handleMouseOut,
-                };
-                return this._zoomAnimated && (e.zoomanim = this._onAnimZoom), e;
-            },
-            _onAnimZoom: function (t) {
-                e.Renderer.prototype._onAnimZoom.call(this, t);
-            },
-            _onZoom: function () {
-                e.Renderer.prototype._onZoom.call(this);
-            },
-            _updateTransform: function (t, i) {
-                e.Renderer.prototype._updateTransform.call(this, t, i);
-            },
-            _updatePaths: e.Util.falseFn,
-            _update: function () {
-                e.Canvas.prototype._update.call(this), this._draw();
-            },
-            _reset: function () {
-                this._update(), this._updateTransform(this._center, this._zoom);
-            },
-            _redraw: function () {
-                e.Util.requestAnimFrame(e.Canvas.prototype._redraw, this);
-            },
-            _clear: function () {
-                e.Canvas.prototype._clear.call(this);
-            },
-            _draw: function () {
-                var e = this._redrawBounds;
-                if (e) {
-                    var t = e.getSize();
-                    this._ctx.beginPath(),
-                        this._ctx.rect(e.min.x, e.min.y, t.x, t.y),
-                        this._ctx.clip();
-                }
-                (this._drawing = !0), this._latlngsIdx.cleanup();
-                var i = this._map.getBounds().pad(this.options.padding),
-                    n = !0;
-                this._latlngsIdx.searchIn(i).forEach(function (e) {
-                    e._map || (e._map = this._map),
-                        this._drawMarker(e),
-                        this._pointsIdx.insert(e, !0),
-                        (n = !1);
-                }, this),
-                    (this._drawing = !1),
-                    this._pointsIdx.clear().flush(),
-                    this._hideContainer(n);
-            },
-            _drawMarker: function (e) {
-                (e._point = this._map.latLngToLayerPoint(e.getLatLng())),
-                    (this._imageLookup = this._imageLookup || new Map());
-                var t = e.options.icon.options.iconUrl,
-                    i = this._imageLookup[t];
-                if (e.canvas_img) i.loaded && this._drawImage(e);
-                else if (i)
-                    (e.canvas_img = i.img),
-                        i.loaded ? this._drawImage(e) : i.queue.push(e);
-                else {
-                    var n = new Image();
-                    (n.src = t),
-                        (e.canvas_img = n),
-                        (i = { loaded: !1, img: n, queue: [e] }),
-                        (this._imageLookup[t] = i),
-                        (n.onload = function () {
-                            (i.loaded = !0),
-                                i.queue.forEach(function (e) {
-                                    this.hasLayer(e) && this._drawImage(e);
-                                }, this);
-                        }.bind(this));
-                }
-            },
-            _drawImage: function (e) {
-                const t = e.options.icon.options,
-                    i = e._point.subtract(t.iconAnchor),
-                    n = e.canvas_img.width,
-                    s = e.canvas_img.height;
-                (this._ctx.globalAlpha = 1),
-                    e.options.opacity &&
-                        (this._ctx.globalAlpha = e.options.opacity),
-                    this._ctx.drawImage(e.canvas_img, i.x, i.y, n, s);
-            },
-            _onClick: function (t) {
-                if ('dblclick' !== t.type) {
-                    var i,
-                        n = t.layerPoint || this._map.mouseEventToLayerPoint(t),
-                        s = this._pointsIdx && this._pointsIdx.searchBy(n);
-                    s &&
-                        s.forEach(function (e) {
-                            e.options.interactive &&
-                                !this._map._draggableMoved(e) &&
-                                (i = e);
-                        }, this),
-                        i && (e.DomEvent.fakeStop(t), this._fireEvent([i], t));
-                } else this._onDblClick(t);
-            },
-            _onDblClick: function (e) {
-                this._map._fireDOMEvent(e, 'dblclick');
-            },
-            _onMouseMove: function (e) {
-                if (
-                    this._map &&
-                    !this._map.dragging.moving() &&
-                    !this._map._animatingZoom
-                ) {
-                    var t = e.layerPoint || this._map.mouseEventToLayerPoint(e);
-                    this._handleMouseHover(e, t);
-                }
-            },
-            _handleMouseHover: function (t, i) {
-                if (!this._mouseHoverThrottled) {
-                    var n,
-                        s = this._pointsIdx && this._pointsIdx.searchBy(i);
-                    s &&
-                        s.forEach(function (e) {
-                            e.options.interactive && (n = e);
-                        }, this),
-                        n !== this._hoveredLayer &&
-                            (this._handleMouseOut(t),
-                            n &&
-                                (e.DomUtil.addClass(
-                                    this._container,
-                                    'leaflet-interactive'
-                                ),
-                                this._fireEvent([n], t, 'mouseover'),
-                                (this._hoveredLayer = n))),
-                        this._hoveredLayer &&
-                            this._fireEvent([this._hoveredLayer], t),
-                        (this._mouseHoverThrottled = !0),
-                        setTimeout(
-                            e.bind(function () {
-                                this._mouseHoverThrottled = !1;
-                            }, this),
-                            32
-                        );
-                }
-            },
-            _handleMouseOut: function (t) {
-                e.Canvas.prototype._handleMouseOut.call(this, t);
-            },
-            _fireEvent: function (t, i, n) {
-                i.layerPoint ?
-                    t[0].fire(n || i.type, i, !0)
-                :   e.Canvas.prototype._fireEvent.call(this, t, i, n);
-            },
-            _addMarker: function (t, i, n, s) {
-                if (!(t instanceof e.Marker))
-                    throw new Error("Layer isn't a marker");
-                (t._map = this._map),
-                    e.Util.stamp(t),
-                    t.addEventParent(this),
-                    n &&
-                        (this._drawMarker(t),
-                        this._pointsIdx.insert(t, s),
-                        this._hideContainer(!1)),
-                    this._latlngsIdx.insert(t, s);
-            },
-            addMarker: function (e, t) {
-                (t = t ? t.toString() : '0'),
-                    (this._groupIDs = this._groupIDs || {});
-                var i = e.getLatLng(),
-                    n =
-                        this._map &&
-                        this._map
-                            .getBounds()
-                            .pad(this.options.padding)
-                            .contains(i);
-                return (
-                    this._addMarker(e, i, n),
-                    (this._groupIDs[t] = (this._groupIDs[t] || 0) + 1),
-                    (e._canvasGroupID = t),
-                    this
-                );
-            },
-            addLayer: function (e, t) {
-                return this.addMarker(e, t);
-            },
-            addMarkers: function (e, t) {
-                (t = t ? t.toString() : '0'),
-                    (this._groupIDs = this._groupIDs || {}),
-                    (this._groupIDs[t] = this._groupIDs[t] || 0);
-                var i =
-                    this._map &&
-                    this._map.getBounds().pad(this.options.padding);
-                return (
-                    e.forEach(function (e) {
-                        var n = e.getLatLng(),
-                            s = i && i.contains(n);
-                        this._addMarker(e, n, s, !0),
-                            this._groupIDs[t]++,
-                            (e._canvasGroupID = t);
-                    }, this),
-                    this._pointsIdx.flush(),
-                    this._latlngsIdx.flush(),
-                    this
-                );
-            },
-            addLayers: function (e, t) {
-                return this.addMarkers(e, t);
-            },
-            removeGroups: function (e) {
-                return (
-                    e.forEach(function (e) {
-                        this._removeGroup(e);
-                    }, this),
-                    this._redraw(),
-                    this
-                );
-            },
-            removeGroup: function (e) {
-                return this._removeGroup(e), this._redraw(), this;
-            },
-            _removeGroup: function (e) {
-                (e = e.toString()),
-                    this._groupIDs &&
-                        this._groupIDs[e] &&
-                        (delete this._groupIDs[e],
-                        this._latlngsIdx
-                            .all()
-                            .filter(function (t) {
-                                return t._canvasGroupID === e;
-                            })
-                            .forEach(function (e) {
-                                this.removeMarker(e, !1, !0);
-                            }, this));
-            },
-            removeMarker: function (e, t, i) {
-                if (i || this.hasLayer(e))
-                    return (
-                        this._latlngsIdx.remove(e),
-                        t &&
-                            this._map &&
-                            this._map
-                                .getBounds()
-                                .pad(this.options.padding)
-                                .contains(e.getLatLng()) &&
-                            this._redraw(),
-                        e.removeEventParent(this),
-                        this
-                    );
-            },
-            removeLayer: function (e) {
-                return this.removeMarker(e, !0);
-            },
-            clearLayers: function () {
-                return (
-                    this._latlngsIdx.clear(),
-                    this._pointsIdx.clear(),
-                    this._clear(),
-                    this
-                );
-            },
-            hasLayer: function (t) {
-                return t && t._eventParents[e.Util.stamp(this)];
-            },
-            _hideContainer: function (e) {
-                this._isEmpty !== e &&
-                    ((this._isEmpty = e),
-                    this._container &&
-                        (this._container.style.display =
-                            e ? 'none' : 'initial'));
-            },
-            _changeOpacity(e) {
-                this._ctx.globalAlpha = e;
-            },
-        });
-    return (
-        (e.canvasIconLayer = function (e) {
-            return new a(e);
-        }),
-        a
-    );
-}
-function isMapKitMap() {
-    return 'undefined' != typeof mapkit;
-}
-function isLeaflet() {
-    return 'undefined' == typeof mapkit && void 0 !== map;
-}
-function mapIsVisible(e) {
-    if (xy_map) return xy_map.isVisible(e);
-    if (isMapKitMap()) {
-        const t = parseFloat(map.region.center.latitude),
-            i = parseFloat(map.region.span.latitudeDelta),
-            n = t - i,
-            s = t + i,
-            a = parseFloat(map.region.center.longitude),
-            o = parseFloat(map.region.span.longitudeDelta),
-            r = a - o,
-            l = a + o;
-        return n <= e[0] && s >= e[0] && r <= e[1] && l >= e[1];
-    }
-    return map.getBounds().pad(0.5).contains(e);
-}
-function zoom_change() {
-    building_maps_redraw(), building_load_alliance();
-}
-function map_moved() {
-    building_maps_redraw(), building_load_alliance();
-}
-function mapMouseWheel(e) {
-    const t = window.event || e;
-    var i = Math.max(
-        -1,
-        Math.min(1, t.wheelDelta || -t.detail || -1 * t.deltaY)
-    );
-    if (0 == i) return t.preventDefault(), !0;
-    let n = Date.now();
-    if (mapTimerLastScroll > n - 50) return t.preventDefault(), !0;
-    (mapTimerLastScroll = n), this.actSize || (this.actSize = 1);
-    var s = xy_map.getRegion(),
-        a =
-            (parseFloat(s.span.latitudeDelta),
-            parseFloat(s.span.longitudeDelta)),
-        o = a,
-        r = xy_map.getCenter(),
-        l = 0,
-        c = 0,
-        d = { x: t.pageX, y: t.pageY },
-        u = new DOMPoint(d.x, d.y),
-        h = map.convertPointOnPageToCoordinate(u);
-    (l = (h.latitude - r.latitude) / 8), (c = (h.longitude - r.longitude) / 8);
-    var p = l + r.latitude,
-        m = c + r.longitude;
-    i > 0 ?
-        (a -= a / 8)
-    :   ((a += a / 4), (p = r.latitude - 2 * l), (m = r.longitude - 2 * c));
-    var _ = new mapkit.Coordinate(
-            parseFloat(p.toFixed(4)),
-            parseFloat(m.toFixed(4))
-        ),
-        f = new mapkit.CoordinateSpan(0.001, parseFloat(a.toFixed(4))),
-        g = new mapkit.CoordinateRegion(_, f);
-    return (
-        xy_map.setRegion(g),
-        parseFloat(xy_map.getRegion().span.longitudeDelta) == o &&
-            (i > 0 ? (a -= a / 2) : (a += a / 2),
-            (f = new mapkit.CoordinateSpan(0.001, parseFloat(a.toFixed(4)))),
-            (g = new mapkit.CoordinateRegion(_, f)),
-            xy_map.setRegion(g)),
-        t.preventDefault(),
-        !1
-    );
-}
-function mapExpand(e) {
-    (mapViewExpandedWindow = window.open(
-        '/?mapview=true',
-        'mapWindow',
-        'width=600,height=400,status=yes,scrollbars=yes,resizable=yes'
-    )),
-        e ? $('#map').hide() : $('#map_outer').hide(),
-        $('#map_expand_button').hide(),
-        $('#map_adress_search').hide(),
-        (mapViewExpanded = !0),
-        $('#restore_map').show(),
-        $('#arrow_location_select').hide(),
-        $('#radio_outer').removeClass('col-sm-4'),
-        $('#radio_outer').addClass('col-sm-12');
-}
 function massMissionMarkerAdd(e) {
     let t = new Map();
     const i = document.createElement('template'),
@@ -496,20 +12,17 @@ function massMissionMarkerAdd(e) {
         });
     for (let e of t.values()) {
         let t = mission_markers_per_id.get(e.id);
-        if (void 0 !== t) {
-            if (xy_map.mapProvider !== MapProviders.LEAFLET_CANVAS) {
-                const i = map_filters_service.getFilterLayerByMissionParams(e);
-                xy_map.addMarkerToLayer(i, t);
-            }
-            missionMarkerAdd(e);
-        }
+        void 0 === t ||
+            (isMapKitMap() ?
+                map.addAnnotation(t)
+            :   t.addTo(map_filters_service.getFilterLayerByMissionParams(e)),
+            missionMarkerAdd(e));
     }
-    xy_map.mapProvider === MapProviders.LEAFLET_CANVAS &&
-        xy_map.addMarkers(null, [...mission_markers_per_id.values()]),
-        tutorial.callNewMissionListener(!0),
+    tutorial.callNewMissionListener(!0),
         '' !==
             $(document.getElementById('search_input_field_missions')).val() &&
-            searchMission();
+            searchMission(),
+        (t = null);
 }
 function processMissionElement(e, t, i) {
     const n = parseSearchValue(e),
@@ -556,7 +69,7 @@ function processMissionElement(e, t, i) {
     const k = mission_markers_per_id.get(y.id);
     if (
         (k &&
-            (isMapKitMap() ?
+            ('undefined' != typeof mapkit ?
                 ((k.url = { 1: u }),
                 (k.opacity = 1),
                 (k.title = y.caption),
@@ -567,27 +80,46 @@ function processMissionElement(e, t, i) {
                 k.setTooltipContent(d)),
             (k.vehicle_state = y.vehicle_state),
             (w = !0)),
-        !w)
+        !w && 'undefined' != typeof L)
     ) {
-        (y.markerType = 'm'),
-            (y.zIndexOffset = 1e4),
-            (y.flavour_url = flavouredAsset(u)),
-            (y.caption_address = d),
-            (y.tooltipParams = { permanent: mission_label, opacity: 1 });
-        let e = xy_map.createMapMarker(y, missionMarkerClick);
-        (e.mission_id = y.id),
-            (e.user_id = y.user_id),
-            (e.vehicle_state = y.vehicle_state),
-            (e.krankentransport = y.kt),
-            (e.sicherheitswache = y.sw),
-            (e.ct = y.ct),
-            (e.pt = y.pt),
-            (e.involved = !0),
-            mission_markers.push(e),
-            mission_markers_per_id.set(e.mission_id, e);
+        var x;
+        if ('undefined' != typeof mapkit)
+            ((x = new mapkit.ImageAnnotation(
+                new mapkit.Coordinate(y.latitude, y.longitude),
+                { url: { 1: u } }
+            )).title = y.caption),
+                (x.subtitle = y.address),
+                missionMarkerBulkAdd || map.addAnnotation(x),
+                (x.element.className = 'mapkit-marker'),
+                x.addEventListener('select', function () {
+                    $(document.getElementById('alarm_button_' + y.id)).click(),
+                        setTimeout(mapkitDeselectAnnotation, 1e3);
+                });
+        else
+            iconMapGenerate(
+                u,
+                (x = L.marker([y.latitude, y.longitude], {
+                    zIndexOffset: 1e4,
+                    title: y.name,
+                    icon: icon_empty,
+                }).bindTooltip(d, { permanent: mission_label, opacity: 1 }))
+            ),
+                x.on('click', function () {
+                    $(document.getElementById('alarm_button_' + y.id)).click();
+                });
+        (x.mission_id = y.id),
+            (x.user_id = y.user_id),
+            (x.vehicle_state = y.vehicle_state),
+            (x.krankentransport = y.kt),
+            (x.sicherheitswache = y.sw),
+            (x.ct = y.ct),
+            (x.pt = y.pt),
+            (x.involved = !0),
+            mission_markers.push(x),
+            mission_markers_per_id.set(x.mission_id, x);
     }
     if ((y.date_end > 0 && missionTimerStart(y), y.water_damage_pump_value)) {
-        var x =
+        var T =
             "<div class='small' id='pumping_" +
             y.id +
             "'>" +
@@ -597,7 +129,7 @@ function processMissionElement(e, t, i) {
             "' class='progress pumping_progress'><div id='pumping_bar_" +
             y.id +
             "' class='progress-bar progress-bar-info";
-        (x +=
+        (T +=
             "' style='width: " +
             y.live_current_water_damage_pump_value +
             "%;'><div id='pumping_bar_striper_" +
@@ -607,7 +139,7 @@ function processMissionElement(e, t, i) {
             "'></div></div></div><div  id='patients_missing_" +
             y.id +
             "'"),
-            $('#mission_pump_progress_' + y.id).html(x);
+            $('#mission_pump_progress_' + y.id).html(T);
     }
     y.pumping_date_end > 0 &&
         ($('#pumping_bar_striper_' + y.id).addClass(
@@ -623,10 +155,6 @@ function processMissionElement(e, t, i) {
             y.live_current_water_damage_pump_value <= 0 &&
             missionFinish(y);
 }
-function missionMarkerClick(e) {
-    $(document.getElementById('alarm_button_' + e.target.mission_id)).click(),
-        setTimeout(mapkitDeselectAnnotation, 1e3);
-}
 function missionMarkerAdd() {}
 function missionMarkerAddSingle(e) {
     if (window.massAllianceMissionAdd || window.massMissionAdd)
@@ -673,10 +201,9 @@ function missionMarkerAddSingle(e) {
                 (-1 !== String(o).indexOf('//') ?
                     (e.app_icon_path = o)
                 :   (e.app_icon_path = currentHostname() + o)),
-            mobileBridgeAdd('mission', e)),
-        (e.plain_caption = e.caption);
+            mobileBridgeAdd('mission', e));
     var d = e.caption;
-    isParamPresent(e, 'captionOld') &&
+    '' != e.captionOld &&
         (d =
             "<small id='mission_old_caption_" +
             e.id +
@@ -684,7 +211,7 @@ function missionMarkerAddSingle(e) {
             e.captionOld +
             '</s></small> ' +
             d),
-        isParamPresent(e, 'address') &&
+        '' != e.address &&
             ((d =
                 d +
                 ", <small  id='mission_address_" +
@@ -705,30 +232,58 @@ function missionMarkerAddSingle(e) {
     $(document.getElementById('mission_' + e.id)).length > 0 ?
         updateExistingMissionElement(e, t, i, o, a, c, h, u, d)
     :   addNewMissionElement(e, t, a, h, c, d, o, u, i);
-    const p = mission_markers_per_id.get(e.id);
-    if (p)
-        (e.flavour_url = flavouredAsset(o)),
-            xy_map.updateMarker(e, p),
-            (p.vehicle_state = e.vehicle_state),
-            !0;
-    else {
-        (e.markerType = 'm'),
-            (e.zIndexOffset = 1e4),
-            (e.flavour_url = flavouredAsset(o)),
-            (e.caption_address = d),
-            (e.tooltipParams = { permanent: mission_label, opacity: 1 });
-        let t = map_filters_service.getFilterLayerByMissionParams(e),
-            i = xy_map.createMapMarkerAddAddToMap(e, missionMarkerClick, t);
-        (i.mission_id = e.id),
-            (i.user_id = e.user_id),
-            (i.vehicle_state = e.vehicle_state),
-            (i.krankentransport = e.kt),
-            (i.sicherheitswache = e.sw),
-            (i.ct = e.ct),
-            (i.pt = e.pt),
-            (i.involved = !0),
-            mission_markers.push(i),
-            mission_markers_per_id.set(i.mission_id, i);
+    var p = !1;
+    const m = mission_markers_per_id.get(e.id);
+    if (
+        (m &&
+            ('undefined' != typeof mapkit ?
+                ((m.url = { 1: o }),
+                (m.opacity = 1),
+                (m.title = e.caption),
+                (m.subtitle = e.address))
+            :   (m.setIcon(icon_empty),
+                m.setOpacity(1),
+                iconMapGenerate(o, m),
+                m.setTooltipContent(d)),
+            (m.vehicle_state = e.vehicle_state),
+            (p = !0)),
+        !p && 'undefined' != typeof L)
+    ) {
+        if ('undefined' != typeof mapkit) {
+            ((_ = new mapkit.ImageAnnotation(
+                new mapkit.Coordinate(e.latitude, e.longitude),
+                { url: { 1: o } }
+            )).title = e.caption),
+                (_.subtitle = e.address),
+                map.addAnnotation(_),
+                (_.element.className = 'mapkit-marker'),
+                _.addEventListener('select', function () {
+                    $(document.getElementById('alarm_button_' + e.id)).click(),
+                        setTimeout(mapkitDeselectAnnotation, 1e3);
+                });
+        } else {
+            var _ = L.marker([e.latitude, e.longitude], {
+                zIndexOffset: 1e4,
+                title: e.name,
+                icon: icon_empty,
+            }).bindTooltip(d, { permanent: mission_label, opacity: 1 });
+            void 0 !== map &&
+                _.addTo(map_filters_service.getFilterLayerByMissionParams(e)),
+                iconMapGenerate(o, _),
+                _.on('click', function () {
+                    $(document.getElementById('alarm_button_' + e.id)).click();
+                });
+        }
+        (_.mission_id = e.id),
+            (_.user_id = e.user_id),
+            (_.vehicle_state = e.vehicle_state),
+            (_.krankentransport = e.kt),
+            (_.sicherheitswache = e.sw),
+            (_.ct = e.ct),
+            (_.pt = e.pt),
+            (_.involved = !0),
+            mission_markers.push(_),
+            mission_markers_per_id.set(_.mission_id, _);
     }
     if (
         (s &&
@@ -738,7 +293,7 @@ function missionMarkerAddSingle(e) {
         e.date_end > 0 && missionTimerStart(e),
         e.water_damage_pump_value)
     ) {
-        var m =
+        var f =
             "<div class='small' id='pumping_" +
             e.id +
             "'>" +
@@ -748,7 +303,7 @@ function missionMarkerAddSingle(e) {
             "' class='progress pumping_progress'><div id='pumping_bar_" +
             e.id +
             "' class='progress-bar progress-bar-info";
-        (m +=
+        (f +=
             "' style='width: " +
             e.live_current_water_damage_pump_value +
             "%;'><div id='pumping_bar_striper_" +
@@ -758,7 +313,7 @@ function missionMarkerAddSingle(e) {
             "'></div></div></div><div  id='patients_missing_" +
             e.id +
             "'"),
-            $('#mission_pump_progress_' + e.id).html(m);
+            $('#mission_pump_progress_' + e.id).html(f);
     }
     e.pumping_date_end > 0 &&
         ($('#pumping_bar_striper_' + e.id).addClass(
@@ -774,8 +329,8 @@ function missionMarkerAddSingle(e) {
         e.live_current_value <= 0 &&
             e.live_current_water_damage_pump_value <= 0 &&
             missionFinish(e);
-    const _ = getActiveMissionIds().includes(e.id);
-    $(document.getElementById('mission_' + e.id)).toggleClass('hidden', !_),
+    const g = getActiveMissionIds().includes(e.id);
+    $(document.getElementById('mission_' + e.id)).toggleClass('hidden', !g),
         missionMarkerBulkAdd ||
             (progressBarScrollUpdate(),
             '' !=
@@ -955,7 +510,113 @@ function prepareMissionDomElementStr(
     f
 ) {
     var g = missionParticipationFilters.started.missionIds.has(s.id);
-    return `\n            <div search_attribute='${e}'\n                 data-mission-type-filter='${t}'\n                 data-mission-state-filter='${i}'\n                 data-mission-participation-filter='${g ? 'started' : 'new'}'\n                 data-sortable-by='${JSON.stringify(n)}'\n                 id='mission_${s.id}'\n                 mission_id='${s.id}'\n                 mission_type_id='${s.mtid}'\n                 class='mission_visibility missionSideBarEntry missionSideBarEntrySearchable ${a} ${f}'\n                 latitude='${s.latitude}'\n                 longitude='${s.longitude}'\n                 target_latitude='${isParamPresent(s, 'tlat') ? s.tlat : 'null'}'\n                 target_longitude='${isParamPresent(s, 'tlng') ? s.tlng : 'null'}'\n                 data-overlay-index='${s.overlay_index}'\n                 data-additive-overlays='${s.additive_overlays || ''}'>\n              <div id='mission_panel_${s.id}'\n                   class='panel panel-default ${o} mission_panel_${r}'>\n                <div id='mission_panel_heading_${s.id}' class='panel-heading'>\n                  <a href='/missions/${s.id}?${missionFilterQueryParams}'\n                     class='btn btn-default btn-xs lightbox-open mission-alarm-button'\n                     id='alarm_button_${s.id}'> ${I18n.t('javascript.alarm')}</a>\n                  <span id='mission_participant_${s.id}'\n                        class='glyphicon glyphicon-user ${g ? '' : 'hidden'}'></span>\n                  <span id='mission_participant_new_${s.id}'\n                        class='glyphicon glyphicon-asterisk ${g ? 'hidden' : ''}'></span>\n                  <a href=''\n                     id='mission_caption_${s.id}'\n                     class='map_position_mover'\n                     target_latitude='${isParamPresent(s, 'tlat') ? s.tlat : 'null'}'\n                     target_longitude='${isParamPresent(s, 'tlng') ? s.tlng : 'null'}'\n                     data-latitude='${s.latitude}'\n                     data-longitude='${s.longitude}'>${l}</a>\n                </div>\n                <div class='panel-body'>\n                  <div class='row'>\n                    <div class='col-xs-1'>\n                      <img src='${c}'\n                           id='mission_vehicle_state_${s.id}'\n                           class='mission_vehicle_state'>\n                    </div>\n                    <div class='col-xs-11'>\n                      <div class='mission_overview_countdown'\n                           id='mission_overview_countdown_${s.id}'\n                           timeleft='${d}'></div>\n                      <div id='mission_bar_outer_${s.id}'\n                           class='progress mission_progress'>\n                        <div id='mission_bar_${s.id}'\n                             class='progress-bar progress-bar-danger'\n                             role='progressbar' aria-valuemin='0' aria-valuemax='100'\n                             style='width: ${s.live_current_value}%;'>\n                          <div class='${u}'\n                               id='mission_bar_striper_${s.id}'></div>\n                        </div>\n                      </div>\n                      <div id='mission_missing_${s.id}'\n                           class='${h}'>${p}</div>\n                      <div id='mission_missing_short_${s.id}'\n                           class='${m}'>${_}</div>\n                      <div id='mission_pump_progress_${s.id}'></div>\n                      <div id='mission_patients_${s.id}' class='row'></div>\n                      <div class='mission_prisoners'\n                           id='mission_prisoners_${s.id}'></div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            `;
+    return (
+        "<div search_attribute='" +
+        e +
+        "' data-mission-type-filter='" +
+        t +
+        "' data-mission-state-filter='" +
+        i +
+        "' data-mission-participation-filter=" +
+        (g ? 'started' : 'new') +
+        " data-sortable-by='" +
+        JSON.stringify(n) +
+        "' id='mission_" +
+        s.id +
+        "' mission_id='" +
+        s.id +
+        "' mission_type_id='" +
+        s.mtid +
+        "' class='missionSideBarEntry missionSideBarEntrySearchable " +
+        a +
+        ' ' +
+        f +
+        "' latitude='" +
+        s.latitude +
+        "' longitude='" +
+        s.longitude +
+        "' target_latitude='" +
+        s.tlat +
+        "' target_longitude='" +
+        s.tlng +
+        "' data-overlay-index='" +
+        s.overlay_index +
+        "' data-additive-overlays='" +
+        (s.additive_overlays || '') +
+        "'><div id='mission_panel_" +
+        s.id +
+        "' class='panel panel-default " +
+        o +
+        ' mission_panel_' +
+        r +
+        "'><div id='mission_panel_heading_" +
+        s.id +
+        "' class='panel-heading'><a href='/missions/" +
+        s.id +
+        '?' +
+        missionFilterQueryParams +
+        "' class='btn btn-default btn-xs lightbox-open mission-alarm-button' id='alarm_button_" +
+        s.id +
+        "'> " +
+        I18n.t('javascript.alarm') +
+        "</a> <span id='mission_participant_" +
+        s.id +
+        "' class='glyphicon glyphicon-user " +
+        (g ? '' : 'hidden') +
+        "'></span><span id='mission_participant_new_" +
+        s.id +
+        "' class='glyphicon glyphicon-asterisk " +
+        (g ? 'hidden' : '') +
+        "'></span> <a href='' id='mission_caption_" +
+        s.id +
+        "' class='map_position_mover' target_latitude='" +
+        s.tlat +
+        "' target_longitude='" +
+        s.tlng +
+        "' data-latitude='" +
+        s.latitude +
+        "' data-longitude='" +
+        s.longitude +
+        "'>" +
+        l +
+        "</a></div><div class='panel-body'><div class='row'><div class='col-xs-1'><img src='" +
+        c +
+        "' id='mission_vehicle_state_" +
+        s.id +
+        "' class='mission_vehicle_state'></div><div class='col-xs-11'><div class='mission_overview_countdown' id='mission_overview_countdown_" +
+        s.id +
+        "' timeleft='" +
+        d +
+        "'></div><div id='mission_bar_outer_" +
+        s.id +
+        "' class='progress mission_progress'><div id='mission_bar_" +
+        s.id +
+        "' class='progress-bar progress-bar-danger' role='progressbar' aria-valuemin='0' aria-valuemax='100' style='width: " +
+        s.live_current_value +
+        "%;'><div class='" +
+        u +
+        "' id='mission_bar_striper_" +
+        s.id +
+        "'></div></div></div><div id='mission_missing_" +
+        s.id +
+        "' class='" +
+        h +
+        "'>" +
+        p +
+        "</div><div id='mission_missing_short_" +
+        s.id +
+        "' class='" +
+        m +
+        "'>" +
+        _ +
+        "</div><div id='mission_pump_progress_" +
+        s.id +
+        "'></div><div id='mission_patients_" +
+        s.id +
+        "' class='row'></div><div class='mission_prisoners' id='mission_prisoners_" +
+        s.id +
+        "'></div></div></div></div></div>"
+    );
 }
 function getMissionSortableAttributes(e) {
     var t = e.created_at;
@@ -1079,8 +740,7 @@ function identifyVehicleStateUrl(e) {
 function identifyCaption(e) {
     var t = e.caption;
     return (
-        (e.plain_caption = e.caption),
-        isParamPresent(e, 'captionOld') &&
+        '' != e.captionOld &&
             (t =
                 "<small id='mission_old_caption_" +
                 e.id +
@@ -1088,7 +748,7 @@ function identifyCaption(e) {
                 e.captionOld +
                 '</s></small> ' +
                 t),
-        isParamPresent(e, 'address') &&
+        '' != e.address &&
             (t =
                 t +
                 ", <small  id='mission_address_" +
@@ -1272,179 +932,31 @@ function toggleErrorAllianceMissionsSectionsOnAsyncLoading(e) {
         $(document.getElementById('alliance_missions_loading_error')).toggle(e),
         $(document.getElementById('alliance_no_mission')).toggle(!e);
 }
-function loadMissionsFromWorker(e) {
-    try {
-        (window.missionMarkerBulkAdd = !0),
-            (window.massAllianceMissionAdd = !0),
-            (window.massMissionAdd = !0),
-            console.time('processMissionWorkerResponse'),
-            processMissionWorkerResponse(e),
-            console.timeEnd('processMissionWorkerResponse');
-    } catch (e) {
-        showErrorOnMissionsFromWorker(e);
-    }
-}
-function postRenderBlock() {
-    console.log('post render block'),
-        disableLoadingProgressBar(),
-        (window.missionMarkerBulkAdd = !1),
-        (window.massMissionAdd = !1),
-        (window.massAllianceMissionAdd = !1),
-        (window.massMissionAddCompleted = !0),
-        (window.massAllianceMissionAddCompleted = !0),
-        missionMarkerBlukDraw(),
-        missionSelectionUpdateButtons(),
-        missionSelectionLoad(),
-        updateMissionFilterQueryParams(),
-        progressBarScrollUpdate(),
-        updateMissionStateButtons(),
-        initSorting(),
-        updateNoMissionsMessages();
-}
-function showErrorOnMissionsFromWorker(e) {
-    console.log('Error loading workers missions:', e),
-        (window.missionMarkerBulkAdd = !1),
-        (window.massAllianceMissionAdd = !1),
-        (window.massAllianceMissionAddCompleted = !0),
-        toggleErrorMissionsSectionsOnAsyncLoading(!0),
-        toggleErrorAllianceMissionsSectionsOnAsyncLoading(!0);
-}
-function processMissionWorkerResponse(e) {
-    if (!e && !e.missions) return;
-    let t = [];
-    !1 === isEmptyObject(e.participation) && (t = e.participation),
-        addMissionParticipationsFromWorker(t),
-        addMarkersToMap(processAndRenderMissions(e), t),
-        tutorial.callNewMissionListener(!0),
-        '' !==
-            $(document.getElementById('search_input_field_missions')).val() &&
-            searchMission(),
-        (mission_overview_timer = setInterval(
-            mission_overview_timer_call,
-            1e3
-        )),
-        !1 === isEmptyObject(e.patient_timers) &&
-            e.patient_timers.forEach(function (e) {
-                patient_timers.push(e);
-            });
-}
-function processAndRenderMissions(e) {
-    let t = e.missions,
-        i = new Map();
-    const n = document.createElement('template'),
-        s = new Map();
-    return (
-        t.forEach(e => {
-            const t = e.target;
-            !1 === s.has(t) && s.set(t, document.createDocumentFragment());
-            const a = s.get(t);
-            processMissionElementFromWorker(e, n, a), i.set(e.id, e);
-        }),
-        s.forEach(function (e, t) {
-            document.getElementById(t).appendChild(e);
-        }),
-        postRenderBlock(),
-        i
-    );
-}
-function processAndRenderMissionsInBatches(e) {
-    console.log('batch render');
-    let t = e.missions,
-        i = new Map();
-    const n = document.createElement('template'),
-        s = new Map();
-    return (
-        t.forEach(e => {
-            const t = e.target;
-            !1 === s.has(t) && s.set(t, []);
-            s.get(t).push(processMissionElementFromWorker(e, n, null)),
-                i.set(e.id, e);
-        }),
-        s.forEach(function (e, t) {
-            renderInBatches(
-                document.getElementById(t),
-                e,
-                200,
-                postRenderBlock
-            );
-        }),
-        i
-    );
-}
-function disableLoadingProgressBar() {
-    toggleAllianceMissionsSectionsOnAsyncLoading(!1),
-        toggleMissionsSectionsOnAsyncLoading(!1);
-}
-function addMarkersToMap(e, t) {
-    for (let i of e.values()) {
-        let e = mission_markers_per_id.get(i.id);
-        if (void 0 !== e) {
-            if (
-                (t.includes(i.id) &&
-                    (e.involved ||
-                        ((e.involved = !0),
-                        missionVehiclesShowNotInvolved(i.id))),
-                xy_map.mapProvider !== MapProviders.LEAFLET_CANVAS)
-            ) {
-                const t = map_filters_service.getFilterLayerByMissionParams(
-                    i.marker_params
-                );
-                xy_map.addMarkerToLayer(t, e);
-            }
-            missionMarkerAdd(i);
-        }
-    }
-    xy_map.mapProvider === MapProviders.LEAFLET_CANVAS &&
-        xy_map.addMarkers(null, [...mission_markers_per_id.values()]);
-}
-function processMissionElementFromWorker(e, t, i) {
-    const n = t.cloneNode();
-    n.innerHTML = e.el;
-    const s = n.content;
-    return (
-        i && i.append(s),
-        missionParticipationFilters.started.missionIds.has(e.id) ||
-            missionParticipationFilters.new.missionIds.add(e.id),
-        processMissionMarkersFromWorker(e),
-        e.timer_params.date_end > 0 && missionTimerStart(e.timer_params),
-        e.pumping_date_end > 0 && startPumpProgressBar(e),
-        s
-    );
-}
-function startPumpProgressBar(e) {
-    const t = $('#pumping_bar_' + e.id);
-    'undefined' != t.data('pumping_date_end') &&
-        startProgressBar({
-            $element: t,
-            missionValue: t.data('pumping_mission_value'),
-            startTime: t.data('pumping_date_start'),
-            endTime: t.data('pumping_date_end'),
+function massBuildingMarkerAdd(e, t) {
+    const i = new Map();
+    t.forEach(e => {
+        0 == i.has(e.b) && i.set(e.b, []), i.get(e.b).push(e);
+    });
+    const n = document.createDocumentFragment(),
+        s = document.createElement('template');
+    $.each(e, function (e, t) {
+        const a = t;
+        buildingVehicleGraphicCacheAdd(a),
+            (building_marker_image = getBuildingMarkerIcon(a)),
+            (a.building_marker_image = building_marker_image),
+            (!1 === mobile_bridge_use || mixed_mobile_desktop_mode) &&
+                processBuildingElement(a, n, s, i.get(t.id)),
+            !0 === mobile_bridge_use &&
+                4 === mobile_version &&
+                sendMobileBridge(a),
+            building_markers_cache.push(a),
+            building_markers_cache_per_id.set(a.id, a);
+    }),
+        document.getElementById('building_list').appendChild(n),
+        $.each(e, function (e, t) {
+            buildingMarkerAdd(t);
         });
 }
-function processMissionMarkersFromWorker(e) {
-    const t = e.marker_params;
-    (t.markerType = 'm'),
-        (t.zIndexOffset = 1e4),
-        (t.flavour_url = flavouredAsset(t.vehicle_state_url)),
-        (t.tooltipParams = { permanent: mission_label, opacity: 1 });
-    let i = xy_map.createMapMarker(t, missionMarkerClick);
-    (i.mission_id = e.id),
-        (i.user_id = t.user_id),
-        (i.vehicle_state = t.vehicle_state),
-        (i.krankentransport = t.kt),
-        (i.sicherheitswache = t.sw),
-        (i.ct = t.ct),
-        (i.pt = t.pt),
-        (i.involved = !0),
-        mission_markers.push(i),
-        mission_markers_per_id.set(i.mission_id, i);
-}
-function addMissionParticipationsFromWorker(e) {
-    for (const t of e)
-        missionParticipationFilters.new.missionIds.delete(t),
-            missionParticipationFilters.started.missionIds.add(t);
-    updateMissionParticipationButtons(), refreshMissionsFilter();
-}
 function massBuildingMarkerAddUpdated(e, t) {
     const i = new Map();
     t.forEach(e => {
@@ -1455,7 +967,8 @@ function massBuildingMarkerAddUpdated(e, t) {
     $.each(e, function (e, t) {
         const n = t;
         buildingVehicleGraphicCacheAdd(n),
-            (n.building_marker_image = getBuildingMarkerIcon(n)),
+            (building_marker_image = getBuildingMarkerIcon(n)),
+            (n.building_marker_image = building_marker_image),
             (!1 !== mobile_bridge_use && !mixed_mobile_desktop_mode) ||
                 n.user_id !== user_id ||
                 (s += prepareBuildingDomElementStr(n, i.get(t.id))),
@@ -1463,7 +976,7 @@ function massBuildingMarkerAddUpdated(e, t) {
                 4 === mobile_version &&
                 sendMobileBridge(n),
             building_markers_cache.push(n),
-            building_markers_params_cache_per_id.set(n.id, n);
+            building_markers_cache_per_id.set(n.id, n);
     }),
         (n.innerHTML = s),
         document.getElementById('building_list').appendChild(n.content),
@@ -1471,26 +984,31 @@ function massBuildingMarkerAddUpdated(e, t) {
             buildingMarkerAdd(t);
         });
 }
+function processBuildingElement(e, t, i, n) {
+    const s = i.cloneNode();
+    (s.innerHTML = prepareBuildingDomElementStr(e, n)), t.append(s.content);
+}
 function sendMobileBridge(e) {
     (e.name = e.name.replace('%', '')),
-        -1 !== String(e.building_marker_image).indexOf('//') ?
-            (e.app_icon_path = e.building_marker_image)
-        :   (e.app_icon_path = currentHostname() + e.building_marker_image),
+        -1 !== String(building_marker_image).indexOf('//') ?
+            (e.app_icon_path = building_marker_image)
+        :   (e.app_icon_path = currentHostname() + building_marker_image),
         mobileBridgeAdd('building_add', e);
 }
 function buildingMarkerAdd() {}
 function buildingMarkerAddSingle(e) {
     if (
         (buildingVehicleGraphicCacheAdd(e),
-        building_markers_params_cache_per_id.has(e.id))
+        building_markers_cache_per_id.has(e.id))
     )
         return !0;
-    (e.building_marker_image = getBuildingMarkerIcon(e)),
+    (building_marker_image = getBuildingMarkerIcon(e)),
+        (e.building_marker_image = building_marker_image),
         (!1 === mobile_bridge_use || mixed_mobile_desktop_mode) &&
             constructBuildingListElement(e),
         !0 === mobile_bridge_use && 4 === mobile_version && sendMobileBridge(e),
         building_markers_cache.push(e),
-        building_markers_params_cache_per_id.set(e.id, e),
+        building_markers_cache_per_id.set(e.id, e),
         buildingMarkerAdd(e);
 }
 function constructBuildingListElement(e) {
@@ -1498,17 +1016,15 @@ function constructBuildingListElement(e) {
     !0 === mobile_bridge_use &&
         4 === mobile_version &&
         ((e.name = e.name.replace('%', '')),
-        (e.building_marker_image = getBuildingMarkerIcon(e)),
-        -1 !== String(e.building_marker_image).indexOf('//') ?
-            (e.app_icon_path = e.building_marker_image)
-        :   (e.app_icon_path = currentHostname() + e.building_marker_image));
+        (building_marker_image = getBuildingMarkerIcon(e)),
+        -1 !== String(building_marker_image).indexOf('//') ?
+            (e.app_icon_path = building_marker_image)
+        :   (e.app_icon_path = currentHostname() + building_marker_image));
     let t = prepareBuildingDomElementStr(e);
     buildingMarkerBulkContentCache.push(t);
 }
 function prepareBuildingDomElementStr(e, t) {
-    let i = e.building_marker_image;
-    i || (i = building_marker_image);
-    let n =
+    let i =
         "<li  search_attribute= '" +
         e.name +
         "' class='building_list building_list_li buildings_searchable' building_type_id='" +
@@ -1522,7 +1038,7 @@ function prepareBuildingDomElementStr(e, t) {
         "<img class='building_marker_image' building_id='" +
         e.id +
         "' src='" +
-        i +
+        building_marker_image +
         "'><a href='' class='map_position_mover' data-latitude='" +
         e.latitude +
         "' data-longitude='" +
@@ -1531,32 +1047,32 @@ function prepareBuildingDomElementStr(e, t) {
         e.name +
         '</a>';
     0 == e.show_vehicles_at_startpage &&
-        (n += hideVehicleBuildingHelpText(e.id)),
-        (n += '</div>');
-    let s = '<li>' + I18n.t('common.loading') + '</li>';
+        (i += hideVehicleBuildingHelpText(e.id)),
+        (i += '</div>');
+    let n = '<li>' + I18n.t('common.loading') + '</li>';
     buildingVehicleCache.has(e.id) &&
-        ((s = buildingVehicleCache.get(e.id).join('')),
+        ((n = buildingVehicleCache.get(e.id).join('')),
         buildingVehicleCache.set(e.id, []));
-    let a = 0;
+    let s = 0;
     return (
-        t && (a = 1),
-        (n =
-            n +
+        t && (s = 1),
+        (i =
+            i +
             "<ul id='vehicle_building_" +
             e.id +
             "' class='building_list_vehicles' data-vehicles-loaded='" +
-            a +
+            s +
             "' data-building_id='" +
             e.id +
             "' "),
-        0 == e.show_vehicles_at_startpage && (n += "style='display: none' "),
-        t && (s = t.map(e => prepareVehicleMarkerStr(e)).join('')),
-        (n = n + '>' + s + '</ul></li>'),
+        0 == e.show_vehicles_at_startpage && (i += "style='display: none' "),
+        t && (n = t.map(e => prepareVehicleMarkerStr(e)).join('')),
+        (i = i + '>' + n + '</ul></li>'),
         e.building_type == BUILDING_TYPE_LEITSTELLE &&
             ((leitstelle_latitude = e.latitude),
             (leitstelle_longitude = e.longitude),
             leitstelles.push([e.latitude, e.longitude])),
-        n
+        i
     );
 }
 function buildingMarkerReset() {
@@ -1572,65 +1088,67 @@ function buildingMarkerReset() {
         mobile_bridge_use && mobileBridgeAdd('building_remove_all', {}),
         (building_markers = Array()),
         (building_markers_cache = Array()),
-        (building_markers_params_cache_per_id = new Map()),
+        (building_markers_cache_per_id = new Map()),
         (buildingMarkerBulkContentCache = []);
 }
 function building_maps_redraw() {
-    if (!xy_map)
-        return void console.log('building_maps_redraw: xy_map not initialized');
     let e = [],
         t = [];
     const i = isLeaflet();
-    xy_map.mapProvider === MapProviders.LEAFLET_CANVAS ?
-        building_markers_params_cache_per_id.forEach(e => {
-            building_maps_draw(e);
-        })
-    :   ($.each(building_markers, function (n, s) {
-            xy_map.isMarkerVisible(s) ? (e.push(s.building_id), t.push(s))
-            : i ? map.removeLayer(s)
-            : map.removeAnnotation(s);
-        }),
+    $.each(building_markers, function (n, s) {
+        let a = [];
+        if (i) a = s.getLatLng();
+        else {
+            const e = s.coordinate;
+            a = [e.latitude, e.longitude];
+        }
+        mapIsVisible(a) ? (e.push(s.building_id), t.push(s))
+        : i ? map.removeLayer(s)
+        : map.removeAnnotation(s);
+    }),
         (building_markers = t),
-        building_markers_params_cache_per_id.forEach(t => {
+        building_markers_cache_per_id.forEach(t => {
             -1 === $.inArray(t.id, e) &&
-                xy_map.isVisible([t.latitude, t.longitude]) &&
+                mapIsVisible([t.latitude, t.longitude]) &&
                 building_maps_draw(t);
-        }));
-}
-function building_maps_redraw_with_anim() {
-    requestAnimationFrame(building_maps_redraw);
+        });
 }
 function building_maps_draw(e) {
+    let t,
+        i = 5e3;
     if (
-        xy_map.mapProvider === MapProviders.LEAFLET_CANVAS &&
-        building_markers_per_id.has(e.id)
-    )
-        return;
-    let t = 1e3;
-    void 0 !== e.user_id &&
-        void 0 !== user_id &&
-        user_id != e.user_id &&
-        (t = 500),
-        (e.markerType = 'b'),
-        (e.zIndexOffset = t),
-        (e.flavour_url = flavouredAsset(e.building_marker_image));
-    let i = null;
-    isLeaflet() && (i = map_filters_service.getFilterLayerByBuildingParams(e));
-    let n = null;
-    (n =
-        building_markers_per_id.has(e.id) ?
-            building_markers_per_id.get(e.id)
-        :   xy_map.createMapMarker(e, buildingMarkerClick)),
-        (n.building_id = e.id),
-        xy_map.addMarkerToLayer(i, n),
-        building_markers.push(n),
-        building_markers_per_id.set(e.id, n);
-}
-function buildingMarkerClick(e) {
-    e &&
-        e.target &&
-        e.target.building_id &&
-        lightboxOpen('/buildings/' + e.target.building_id);
+        (void 0 !== e.user_id &&
+            void 0 !== user_id &&
+            user_id != e.user_id &&
+            (i = 1e3),
+        isMapKitMap())
+    ) {
+        ((n = new mapkit.ImageAnnotation(
+            new mapkit.Coordinate(e.latitude, e.longitude),
+            { url: { 1: flavouredAsset(e.building_marker_image) } }
+        )).title = e.name),
+            n.addEventListener('select', function () {
+                lightboxOpen('/buildings/' + e.id),
+                    setTimeout(mapkitDeselectAnnotation, 1e3);
+            }),
+            map.addAnnotation(n),
+            (n.element.className = 'mapkit-marker');
+    } else {
+        t = map_filters_service.getFilterLayerByBuildingParams(e);
+        var n = L.marker([e.latitude, e.longitude], {
+            zIndexOffset: i,
+            title: e.name,
+            icon: icon_empty,
+        })
+            .bindTooltip(e.name)
+            .addTo(t);
+        void 0 !== e.opacity && n.setOpacity(e.opacity),
+            iconMapGenerate(e.building_marker_image, n),
+            n.on('click', function () {
+                lightboxOpen('/buildings/' + e.id);
+            });
+    }
+    (n.building_id = e.id), building_markers.push(n);
 }
 function buildingMarkerBulkContentCacheDraw(e = !1) {
     buildingMarkerBulkContentCache.length > 0 &&
@@ -1685,21 +1203,42 @@ function batchBuildingsVehicleLoad(building_id_array) {
         }
     );
 }
+function batchBuildingsVehicleLoadOld(building_id_array) {
+    $.post(
+        '/buildings/vehiclesMap',
+        { building_ids: building_id_array },
+        function (data) {
+            const arrLength = building_id_array.length;
+            for (var idx = 0; idx < arrLength; idx++)
+                buildingVehicleCache.set(building_id_array[idx], []);
+            eval(data);
+            for (var idx = 0; idx < arrLength; idx++) {
+                const e = building_id_array[idx];
+                let t = '';
+                buildingVehicleCache.has(e) &&
+                    ((t = buildingVehicleCache.get(e).join('')),
+                    buildingVehicleCache.set(e, [])),
+                    $(document.getElementById('vehicle_building_' + e)).html(t);
+            }
+        }
+    );
+}
 function buildingVehicleGraphicCacheAdd(e) {
     void 0 !== e.vgi &&
         '' !== e.vgi &&
         null != e.vgi &&
-        buildingVehicleGraphicCachePerId.set(e.id, e.vgi);
+        ((buildingVehicleGraphicCache[e.id] = e.vgi),
+        buildingVehicleGraphicCachePerId.set(e.id, e.vgi));
 }
 function getBuildingMarkerIcon(e) {
-    let t = '';
     return e.building_marker_image ?
             e.building_marker_image
-        :   ((t =
-                e.user_id == user_id ? e.icon
-                : e.icon_other ? e.icon_other
-                : OTHER_BUILDING_ICONS[e.building_type]),
-            flavouredAsset(t));
+        :   flavouredAsset(
+                (building_marker_image =
+                    e.user_id == user_id ? e.icon
+                    : e.icon_other ? e.icon_other
+                    : OTHER_BUILDING_ICONS[e.building_type])
+            );
 }
 function toggleBuildingSectionsOnAsyncLoading(e) {
     toggleErrorBuildingSectionsOnAsyncLoading(!1),
@@ -1711,77 +1250,6 @@ function toggleErrorBuildingSectionsOnAsyncLoading(e) {
     $(document.getElementById('buildings_loading')).toggle(!e),
         $(document.getElementById('buildings_loading_error')).toggle(e);
 }
-function loadBuildingsFromWorker(e) {
-    try {
-        (window.massBuildingAdd = !0),
-            console.time('processBuildingWorkerResponse'),
-            processBuildingWorkerResponse(e),
-            console.timeEnd('processBuildingWorkerResponse'),
-            e.buildings && $('#building_no').hide(),
-            toggleBuildingSectionsOnAsyncLoading(!1),
-            building_maps_redraw(),
-            building_load_alliance(),
-            missionMarkerDistanceUpdate(),
-            buildingSelectionLoad(),
-            setTimeout(function () {
-                checkBuildingListWrap();
-            }, 200),
-            $(document.getElementById('building_panel_body')).scroll(
-                function () {
-                    clearTimeout($.data(this, 'scrollTimerBuildings')),
-                        $.data(
-                            this,
-                            'scrollTimerBuildings',
-                            setTimeout(function () {
-                                buildingsVehicleLoadVisible();
-                            }, 200)
-                        );
-                }
-            );
-        const t = $('.building_selection');
-        t.click(function () {
-            return buildingSelection($(this)), !1;
-        }),
-            t.dblclick(function () {
-                return buildingSelectionOnly($(this)), !1;
-            });
-        const i = $('.search-station-input');
-        i.val(''),
-            i.keyup(function () {
-                filterBuildingsList(this);
-            }),
-            (window.massBuildingAdd = !1),
-            (window.massBuildingAddCompleted = !0),
-            buildingMarkerBulkContentCacheDraw(!0);
-    } catch (e) {
-        showErrorOnBuildingsFromWorker(e);
-    }
-}
-function showErrorOnBuildingsFromWorker(e) {
-    console.log('Error loading workers buildings:', e),
-        toggleErrorBuildingSectionsOnAsyncLoading(!0),
-        (window.massBuildingAdd = !1);
-}
-function processBuildingWorkerResponse(e) {
-    if (!e || !e.buildingList) return;
-    let t = e.buildingList;
-    const i = document.createElement('template');
-    if (
-        ((i.innerHTML = t),
-        document.getElementById('building_list').appendChild(i.content),
-        e.buildings)
-    ) {
-        e.buildings.forEach(e => {
-            building_markers_cache.push(e.marker_params),
-                building_markers_params_cache_per_id.set(e.id, e.marker_params),
-                buildingMarkerAdd(e);
-        });
-    }
-    e.buildingVehicleGraphicCachePerId &&
-        (buildingVehicleGraphicCachePerId = e.buildingVehicleGraphicCachePerId),
-        e.vehicle_graphics_sorted &&
-            (vehicle_graphics_sorted = e.vehicle_graphics_sorted);
-}
 function patientMarkerAddCombined(e) {
     let t =
         "<div class='col-md-12' id='mission_patient_summary_" +
@@ -2061,7 +1529,7 @@ function vehicleCreateOnMap(e, t) {
                     vehicle_graphics[t.vtid][2]
                 )));
     null == e &&
-        (isMapKitMap() ?
+        ('undefined' != typeof mapkit ?
             (((e = new mapkit.ImageAnnotation(new mapkit.Coordinate(0, 0), {
                 url: { 1: t.in },
             })).icon_normal = t.in),
@@ -2435,6 +1903,26 @@ function vehicleStepsAvail(e) {
         void 0 !== routes[e.rh][e.current_step]
     );
 }
+function isMapKitMap() {
+    return 'undefined' != typeof mapkit;
+}
+function isLeaflet() {
+    return 'undefined' == typeof mapkit && void 0 !== map;
+}
+function mapIsVisible(e) {
+    if (isMapKitMap()) {
+        const t = parseFloat(map.region.center.latitude),
+            i = parseFloat(map.region.span.latitudeDelta),
+            n = t - i,
+            s = t + i,
+            a = parseFloat(map.region.center.longitude),
+            o = parseFloat(map.region.span.longitudeDelta),
+            r = a - o,
+            l = a + o;
+        return n <= e[0] && s >= e[0] && r <= e[1] && l >= e[1];
+    }
+    return map.getBounds().contains(e);
+}
 function hide_all_except_mission(e, t, i) {
     if (!0 === mobile_bridge_use || !1 === mouse_over_disable_inactive_elements)
         return !0;
@@ -2472,8 +1960,7 @@ function hide_all_except_mission(e, t, i) {
                         title: 'Ziel',
                         icon: icon_empty,
                     }).addTo(map))
-                )),
-        xy_map.redraw();
+                ));
 }
 function show_hidden_markers() {
     if (!0 === mobile_bridge_use || !1 === mouse_over_disable_inactive_elements)
@@ -2497,15 +1984,14 @@ function show_hidden_markers() {
             :   (e.setOpacity(1),
                 mission_label ? e.openTooltip() : e.closeTooltip());
         }),
-        building_markers_params_cache_per_id.forEach(e => {
+        building_markers_cache_per_id.forEach(e => {
             e.opacity = 1;
         }),
         $.each(building_markers, function (e, t) {
             isMapKitMap() ?
                 ((t.opacity = 1), (t.visible = !0))
             :   t.setOpacity(1);
-        }),
-        xy_map.redraw();
+        });
 }
 function hide_all_except_vehicle(e) {
     if (!0 === mobile_bridge_use || !1 === mouse_over_disable_inactive_elements)
@@ -2545,15 +2031,14 @@ function hide_all_except_vehicle(e) {
                     ));
             }
         }),
-        hide_all_buildings(),
-        xy_map.redraw();
+        hide_all_buildings();
 }
 function hide_all_buildings() {
-    building_markers_params_cache_per_id.forEach(e => {
+    building_markers_cache_per_id.forEach(e => {
         e.opacity = 0.2;
     }),
         $.each(building_markers, function (e, t) {
-            isMapKitMap() ?
+            'undefined' != typeof mapkit ?
                 ((t.opacity = 0.2), (t.visible = !1))
             :   t.setOpacity(0.2);
         });
@@ -2594,10 +2079,8 @@ function mission_overview_timer_call() {
         t = new Date().getTime();
     void 0 !== mission_overview_last_count &&
         (e = t - mission_overview_last_count),
-        (mission_overview_last_count = t);
-    const i = $('.mission_overview_countdown[timeleft!=0]');
-    i.length > 0 ?
-        i.each(function () {
+        (mission_overview_last_count = t),
+        $('.mission_overview_countdown[timeleft!=0]').each(function () {
             var t = $(this).attr('timeleft');
             t > 0 &&
                 ((t -= e) <= 0 ?
@@ -2608,8 +2091,7 @@ function mission_overview_timer_call() {
                             formatTime(Math.round(t / 1e3), !1)
                     ),
                 $(this).attr('timeleft', t));
-        })
-    :   clearInterval(mission_overview_timer);
+        });
 }
 function successfullMessage(e) {
     $('#important_messages_success').html(e),
@@ -2825,9 +2307,14 @@ function mission_participation_add(e) {
 }
 function addMissionParticipations(e) {
     for (const t of e) mission_participation_add(t);
-    updateMissionStateButtons(),
-        updateMissionParticipationButtons(),
-        refreshMissionsFilter();
+    updateMissionStateButtons(), updateMissionParticipationButtons();
+    var t = filterMissionList();
+    $('.missionSideBarEntry').addClass('hidden'),
+        useMissionScrollBarOptimization &&
+            $('.missionSideBarEntry')
+                .removeClass('missionSideBarEntryScrollInvisible')
+                .css('height', 'auto'),
+        t.removeClass('hidden');
 }
 function vehicleDistance(e, t, i, n, s, a, o) {
     return (
@@ -3023,17 +2510,17 @@ function waterCalculator(e, t) {
         x = I18n.t(w.amountOnSite, { amount: number_format(parseInt(h)) }),
         T = I18n.t(w.amountApproaching, { amount: number_format(parseInt(p)) }),
         C = I18n.t(w.amountSelected, { amount: number_format(parseInt(m)) }),
-        S = I18n.t(w.amountMissing, { amount: number_format(parseInt(_)) });
+        z = I18n.t(w.amountMissing, { amount: number_format(parseInt(_)) });
     s.find('.mission_water_bar_at_mission_' + e).html(x),
         s.find('.mission_water_bar_driving_' + e).html(T),
         s.find('.mission_water_bar_selected_' + e).html(C),
-        s.find('.mission_water_bar_missing_' + e).html(S);
-    const z = [k];
-    parseInt(h) > 0 && z.push(x),
-        parseInt(p) > 0 && z.push(T),
-        parseInt(m) > 0 && z.push(C),
-        parseInt(_) > 0 && z.push(S),
-        s.attr('title', z.join(', ')),
+        s.find('.mission_water_bar_missing_' + e).html(z);
+    const S = [k];
+    parseInt(h) > 0 && S.push(x),
+        parseInt(p) > 0 && S.push(T),
+        parseInt(m) > 0 && S.push(C),
+        parseInt(_) > 0 && S.push(z),
+        s.attr('title', S.join(', ')),
         v + g + f >= 100 ?
             (s
                 .find('.mission_water_bar_selected_' + e)
@@ -3171,6 +2658,21 @@ function missionAlarmTrailerCheck(e) {
 function mapkitDeselectAnnotation() {
     map.selectedAnnotation = null;
 }
+function mapExpand(e) {
+    (mapViewExpandedWindow = window.open(
+        '/?mapview=true',
+        'mapWindow',
+        'width=600,height=400,status=yes,scrollbars=yes,resizable=yes'
+    )),
+        e ? $('#map').hide() : $('#map_outer').hide(),
+        $('#map_expand_button').hide(),
+        $('#map_adress_search').hide(),
+        (mapViewExpanded = !0),
+        $('#restore_map').show(),
+        $('#arrow_location_select').hide(),
+        $('#radio_outer').removeClass('col-sm-4'),
+        $('#radio_outer').addClass('col-sm-12');
+}
 function mapViewOnly() {
     $('#navbar-mobile-footer').hide(),
         $('#navbar-mobile-footer').removeClass('visible-xs'),
@@ -3180,7 +2682,7 @@ function mapViewOnly() {
         $('#level_upgrade_hint').hide(),
         $('#bigMapMenu').hide(),
         $('#map').height($(window).height()).width($(window).width()),
-        xy_map.invalidateSize();
+        'undefined' == typeof mapkit && map.invalidateSize();
 }
 function mapViewDesignBigMap() {
     $('#navbar-mobile-footer').hide(),
@@ -3191,7 +2693,7 @@ function mapViewDesignBigMap() {
 }
 function mapViewResize() {
     $('#map').height($(window).height()).width($(window).width()),
-        xy_map.invalidateSize();
+        'undefined' == typeof mapkit && map.invalidateSize();
 }
 function mapViewResizeDesignBigMap() {
     $('#map')
@@ -3202,7 +2704,7 @@ function mapViewResizeDesignBigMap() {
                 $(window).height() - parseInt($('#col_navbar_holder').height())
             )
             .width($(window).width()),
-        xy_map.invalidateSize();
+        'undefined' == typeof mapkit && map.invalidateSize();
 }
 function mapViewRestore() {
     mapViewExpanded &&
@@ -3577,8 +3079,14 @@ function premium(e) {
         $('#premium_c').hide('fast')),
         (user_premium = e);
 }
+function zoom_change() {
+    building_maps_redraw(), building_load_alliance();
+}
+function map_moved() {
+    building_maps_redraw(), building_load_alliance();
+}
 function building_load_alliance() {
-    if (isMapKitMap())
+    if ('undefined' != typeof mapkit)
         var min_lat =
                 parseFloat(map.region.center.latitude) -
                 parseFloat(map.region.span.latitudeDelta),
@@ -3593,7 +3101,7 @@ function building_load_alliance() {
                 parseFloat(map.region.span.longitudeDelta);
     else {
         if (
-            !xy_map.hasLayer(
+            !map.hasLayer(
                 map_filters_service.getMapFiltersLayers().alliance_members
             )
         )
@@ -3644,8 +3152,8 @@ function buildingCaption(e) {
     let t = !1;
     const i = parseInt(e);
     return (
-        building_markers_params_cache_per_id.has(i) &&
-            (t = building_markers_params_cache_per_id.get(i).name),
+        building_markers_cache_per_id.has(i) &&
+            (t = building_markers_cache_per_id.get(i).name),
         t
     );
 }
@@ -3824,13 +3332,13 @@ function missionMarkerDistanceUpdate() {
     });
 }
 function missionVehiclesShowNotInvolved(e) {
-    let t = new Date();
     (temp_vehicles_not_involved = Array()),
-        $.each(vehicles_not_involved, function (i, n) {
-            n.mid == e ?
-                ((n.dd = n.dd + Math.floor((t - n.involved_created_at) / 1e3)),
-                vehicleDrive(n))
-            :   temp_vehicles_not_involved.push(n);
+        $.each(vehicles_not_involved, function (t, i) {
+            if (i.mid == e) {
+                var n = new Date();
+                (i.dd = i.dd + Math.floor((n - i.involved_created_at) / 1e3)),
+                    vehicleDrive(i);
+            } else temp_vehicles_not_involved.push(i);
         }),
         (vehicles_not_involved = temp_vehicles_not_involved);
 }
@@ -3938,9 +3446,11 @@ function patientTimer() {
                 var n = i.params;
                 if (n.live_current_value > n.target_percent) {
                     var s = t / n.miliseconds_by_percent;
-                    const e = $('#patient_bar_' + n.id);
-                    e.visible(!0) &&
-                        e.css('width', Math.round(n.live_current_value) + '%'),
+                    $('#patient_bar_' + n.id).visible(!0) &&
+                        $('#patient_bar_' + n.id).css(
+                            'width',
+                            Math.round(n.live_current_value) + '%'
+                        ),
                         (n.live_current_value = n.live_current_value - s);
                 } else n.live_current_value < 0 && patientFinish(n);
             });
@@ -3990,7 +3500,9 @@ function missionDelete(e) {
         $('#mission_' + e).addClass('mission_deleted'),
         missionTimerDelete(e);
     var t = mission_markers_per_id.get(parseInt(e));
-    t && (mission_markers_per_id.delete(t.mission_id), xy_map.removeMarker(t));
+    t &&
+        (mission_markers_per_id.delete(t.mission_id),
+        'undefined' == typeof mapkit ? t.remove() : map.removeAnnotation(t));
     var i = [];
     $.each(mission_markers, function (t, n) {
         n.mission_id != e && i.push(n);
@@ -4070,13 +3582,13 @@ function vehicleDriveAdd(params) {
     const mission_vehicle = mission_vehicles_per_vid.get(params.id);
     if (
         (mission_vehicle &&
-            (isLeaflet() ?
+            ('undefined' == typeof mapkit ?
                 map.removeLayer(mission_vehicle)
             :   map.removeAnnotation(mission_vehicle),
             (mission_vehicle.vehicle_marker_deleted = !0),
             ('undefined' != typeof route_show && 1 != route_show) ||
                 (void 0 !== mission_vehicle.polyline &&
-                    (isLeaflet() ?
+                    ('undefined' == typeof mapkit ?
                         map.removeLayer(mission_vehicle.polyline)
                     :   map.removeOverlay(mission_vehicle.polyline)))),
         void 0 === routes[params.rh])
@@ -4967,15 +4479,6 @@ function updateNoMissionsMessages() {
                 missionTypeFilters.emergency.missionIds.length <= 0
         );
 }
-function refreshMissionsFilter() {
-    var e = filterMissionList();
-    $('.missionSideBarEntry').addClass('hidden'),
-        useMissionScrollBarOptimization &&
-            $('.missionSideBarEntry')
-                .removeClass('missionSideBarEntryScrollInvisible')
-                .css('height', 'auto'),
-        e.removeClass('hidden');
-}
 function filterMissionList() {
     var e = $('.mission_selection[data-type-filter].btn-danger')
             .map(function (e, t) {
@@ -6050,9 +5553,6 @@ function getRouteForVehicleRId(e) {
 function isIOS() {
     return navigator.userAgent.includes('"os":"iOS"');
 }
-function updateMarkerFiltersSupport(e) {
-    mobileBridgeAdd('marker_filter_state', { supported: e });
-}
 function missionPositionMarkerAdd(e) {
     1 == mobile_bridge_use && mobileBridgeAdd('poi', [e]);
 }
@@ -6824,6 +6324,125 @@ function getPrisonClassState(e, t) {
         : 'btn-success'
     );
 }
+function setupTimerNew(e) {
+    if (!e.$timer.length) return;
+    let t = e.callerId;
+    if (!t) {
+        let i = e.$timer[0].id;
+        i || (t = new Date().getTime()), (t = `timer_${i}`);
+    }
+    if (startedIntervals.has(t)) return startedIntervals.get(t);
+    let i = new Date(e.$timer.data('end-time'));
+    if (!isDateValid(i) || Date.now() >= i) return;
+    updateTimer({
+        callerId: t,
+        $timer: e.$timer,
+        endTime: i,
+        format: e.format,
+    });
+    const n = setInterval(function () {
+        Date.now() <= i ?
+            updateTimer({
+                callerId: t,
+                $timer: e.$timer,
+                endTime: i,
+                format: e.format,
+            })
+        :   (stopTimer(t), e.onTimerEnd(e.$timer));
+    }, 1e3);
+    startedIntervals.set(t, n);
+}
+function setupTimer(e) {
+    if (e.$timer.length) {
+        var t = new Date(e.$timer.data('end-time'));
+        if (isDateValid(t) && !(Date.now() >= t)) {
+            updateTimer({ $timer: e.$timer, endTime: t, format: e.format });
+            var i = setInterval(function () {
+                Date.now() <= t ?
+                    updateTimer({
+                        $timer: e.$timer,
+                        endTime: t,
+                        format: e.format,
+                    })
+                :   (clearInterval(i), e.onTimerEnd());
+            }, 1e3);
+        }
+    }
+}
+function stopTimer(e, t) {
+    t && clearInterval(t),
+        e && startedIntervals.has(e) && clearInterval(startedIntervals.get(e));
+}
+function updateTimer(e) {
+    let t = e.endTime - Date.now(),
+        i =
+            'long' == e.format ?
+                formatTime(Math.round(t / 1e3))
+            :   getFormattedDuration(t);
+    e.$timer.text(i);
+}
+function isDateValid(e) {
+    return e instanceof Date && !isNaN(e);
+}
+function displayJsAlertInfo(e, t, i) {
+    if ('' === t) return;
+    let n = 'info';
+    switch (e) {
+        case 'notice':
+        case 'success':
+            n = 'success';
+            break;
+        case 'warning':
+            n = 'warning';
+            break;
+        case 'alert':
+        case 'error':
+            n = 'danger';
+            break;
+        default:
+            n = 'info';
+    }
+    const s = `\n  <div class="alert alert-${n} alert-dismissible js-alert" role="alert">\n    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n        <span aria-hidden="true">&times;</span>\n    </button>\n    <span>\n        ${t}\n    </span>\n  </div>`;
+    i && $('.js-alert').remove(), $('#infoBox').append(s);
+}
+function getFormattedDuration(e) {
+    let t = Math.floor(e / 864e5),
+        i = Math.floor((e % 864e5) / 36e5),
+        n = Math.floor((e % 36e5) / 6e4),
+        s = Math.floor((e % 6e4) / 1e3),
+        a = '';
+    return (
+        t > 0 &&
+            (a = `${t} ${1 === t ? I18n.t('javascript.day') : I18n.t('javascript.days')} `),
+        `${a}${padding(i)}:${padding(n)}:${padding(s)}`
+    );
+}
+function padding(e) {
+    return ('0' + e.toString()).substr(-2);
+}
+function detectDevicePerformance(e) {
+    function t() {
+        i++;
+        const s = performance.now();
+        if (s - n < 1e3) requestAnimationFrame(t);
+        else {
+            const t = i / ((s - n) / 1e3);
+            let a;
+            (a =
+                t >= 50 ? 1e3 / 60
+                : t >= 30 ? 1e3 / 30
+                : 1e3 / 15),
+                vehicleAnimDebug &&
+                    console.log(
+                        `Detected FPS: ${t.toFixed(1)}, using refresh rate: ${a.toFixed(1)}ms`
+                    ),
+                e(a);
+        }
+    }
+    let i = 0,
+        n = performance.now();
+    requestAnimationFrame(t);
+}
 function refreshInputOnSliderChanges(e, t, i) {
     (document.getElementById(e).value = t.value),
         updateSliderScale(t.id, t.value, i);
@@ -7263,286 +6882,6 @@ function registerVehicleAnimate(e, t) {
 function deregisterVehicleAnim(e) {
     VehicleTickManager.deregisterObject(`vehicle_anim_${e}`);
 }
-function setupTimerNew(e) {
-    if (!e.$timer.length) return;
-    let t = e.callerId;
-    if (!t) {
-        let i = e.$timer[0].id;
-        i || (t = new Date().getTime()), (t = `timer_${i}`);
-    }
-    if (startedIntervals.has(t)) return startedIntervals.get(t);
-    let i = new Date(e.$timer.data('end-time'));
-    if (!isDateValid(i) || Date.now() >= i) return;
-    updateTimer({
-        callerId: t,
-        $timer: e.$timer,
-        endTime: i,
-        format: e.format,
-    });
-    const n = setInterval(function () {
-        Date.now() <= i ?
-            updateTimer({
-                callerId: t,
-                $timer: e.$timer,
-                endTime: i,
-                format: e.format,
-            })
-        :   (stopTimer(t), e.onTimerEnd(e.$timer));
-    }, 1e3);
-    startedIntervals.set(t, n);
-}
-function setupTimer(e) {
-    if (e.$timer.length) {
-        var t = new Date(e.$timer.data('end-time'));
-        if (isDateValid(t) && !(Date.now() >= t)) {
-            updateTimer({ $timer: e.$timer, endTime: t, format: e.format });
-            var i = setInterval(function () {
-                Date.now() <= t ?
-                    updateTimer({
-                        $timer: e.$timer,
-                        endTime: t,
-                        format: e.format,
-                    })
-                :   (clearInterval(i), e.onTimerEnd());
-            }, 1e3);
-        }
-    }
-}
-function stopTimer(e, t) {
-    t && clearInterval(t),
-        e && startedIntervals.has(e) && clearInterval(startedIntervals.get(e));
-}
-function updateTimer(e) {
-    let t = e.endTime - Date.now(),
-        i =
-            'long' == e.format ?
-                formatTime(Math.round(t / 1e3))
-            :   getFormattedDuration(t);
-    e.$timer.text(i);
-}
-function isDateValid(e) {
-    return e instanceof Date && !isNaN(e);
-}
-function displayJsAlertInfo(e, t, i) {
-    if ('' === t) return;
-    let n = 'info';
-    switch (e) {
-        case 'notice':
-        case 'success':
-            n = 'success';
-            break;
-        case 'warning':
-            n = 'warning';
-            break;
-        case 'alert':
-        case 'error':
-            n = 'danger';
-            break;
-        default:
-            n = 'info';
-    }
-    const s = `\n  <div class="alert alert-${n} alert-dismissible js-alert" role="alert">\n    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n        <span aria-hidden="true">&times;</span>\n    </button>\n    <span>\n        ${t}\n    </span>\n  </div>`;
-    i && $('.js-alert').remove(), $('#infoBox').append(s);
-}
-function getFormattedDuration(e) {
-    let t = Math.floor(e / 864e5),
-        i = Math.floor((e % 864e5) / 36e5),
-        n = Math.floor((e % 36e5) / 6e4),
-        s = Math.floor((e % 6e4) / 1e3),
-        a = '';
-    return (
-        t > 0 &&
-            (a = `${t} ${1 === t ? I18n.t('javascript.day') : I18n.t('javascript.days')} `),
-        `${a}${padding(i)}:${padding(n)}:${padding(s)}`
-    );
-}
-function padding(e) {
-    return ('0' + e.toString()).substr(-2);
-}
-function detectDevicePerformance(e) {
-    function t() {
-        i++;
-        const s = performance.now();
-        if (s - n < 1e3) requestAnimationFrame(t);
-        else {
-            const t = i / ((s - n) / 1e3);
-            let a;
-            (a =
-                t >= 50 ? 1e3 / 60
-                : t >= 30 ? 1e3 / 30
-                : 1e3 / 15),
-                vehicleAnimDebug &&
-                    console.log(
-                        `Detected FPS: ${t.toFixed(1)}, using refresh rate: ${a.toFixed(1)}ms`
-                    ),
-                e(a);
-        }
-    }
-    let i = 0,
-        n = performance.now();
-    requestAnimationFrame(t);
-}
-function isParamPresent(e, t) {
-    return (
-        e[t] &&
-        '' !== e[t] &&
-        'null' !== e[t] &&
-        null !== e[t] &&
-        void 0 !== e[t]
-    );
-}
-function isEmptyObject(e) {
-    let t;
-    for (t in e) return !1;
-    return !0;
-}
-function renderInBatches(e, t, i = 100, n) {
-    function s() {
-        console.log(`renderBatch: ${e.id}`);
-        const r = document.createDocumentFragment();
-        for (let e = 0; e < i && a < o; e++, a++) r.appendChild(t[a]);
-        e.appendChild(r),
-            a < o ?
-                requestAnimationFrame(s)
-            :   'function' == typeof n && requestAnimationFrame(n);
-    }
-    let a = 0;
-    const o = t.length;
-    s();
-}
-function startMissionsWorkerIfSupported(e, t, i) {
-    const n = selectEncoding();
-    if (!window.Worker) return !1;
-    if (missionsWorker) return missionsWorker;
-    const s = new Worker(e);
-    return (
-        (s.onmessage = function (e) {
-            console.log(
-                `Received missionsWorker message at ${performance.now()}`
-            ),
-                onMissionsWorkerMessage(e);
-        }),
-        (s.onerror = function (e) {
-            console.log(
-                `Received missionsWorker error at ${performance.now()}`
-            ),
-                onMissionsWorkerError(e);
-        }),
-        console.log(`Started missionsWorker at ${performance.now()}`),
-        s.postMessage({
-            encoding: n,
-            fetch_path: t,
-            context_params: {
-                scripts_to_import: i,
-                user_id: user_id,
-                alliance_mission_distance: alliance_mission_distance,
-                leitstelle_latitude: leitstelle_latitude,
-                mission_graphics_lookups: mission_graphics_lookups,
-                mobile_bridge_use: mobile_bridge_use,
-                mixed_mobile_desktop_mode: mixed_mobile_desktop_mode,
-                useMissionScrollBarOptimization:
-                    useMissionScrollBarOptimization,
-                missionFilterQueryParams: missionFilterQueryParams,
-            },
-        }),
-        s
-    );
-}
-function onMissionsWorkerMessage(e) {
-    console.time('parseResponse');
-    const t = parseResponse(e.data);
-    console.timeEnd('parseResponse'),
-        'missions' === t.type &&
-            (loadMissionsFromWorker(t), terminateMissionsWorker()),
-        'mobileBridge' === t.type && processMobileBridgeCall(t),
-        'error' === t.type && onMissionsWorkerError(t);
-}
-function onMissionsWorkerError(e) {
-    showErrorOnMissionsFromWorker(e), terminateMissionsWorker();
-}
-function terminateMissionsWorker() {
-    missionsWorker.terminate(), (missionsWorker = null);
-}
-function startBuildingsWorkerIfSupported(e, t, i, n, s = !1) {
-    const a = selectEncoding();
-    if (!window.Worker) return !1;
-    if (buildingsWorker) return buildingsWorker;
-    const o = new Worker(e);
-    return (
-        (o.onmessage = function (e) {
-            console.log(
-                `Received buildingsWorker message at ${performance.now()}`
-            ),
-                onBuildingsWorkerMessage(e, n);
-        }),
-        (o.onerror = function (e) {
-            console.log(
-                `Received buildingsWorker error at ${performance.now()}`
-            ),
-                onBuildingsWorkerError(e);
-        }),
-        console.log(`Started buildingsWorker at ${performance.now()}`),
-        o.postMessage({
-            encoding: a,
-            fetch_path: t,
-            context_params: {
-                scripts_to_import: i,
-                user_id: user_id,
-                mobile_bridge_use: mobile_bridge_use,
-                mixed_mobile_desktop_mode: mixed_mobile_desktop_mode,
-                building_marker_image: building_marker_image,
-                OTHER_BUILDING_ICONS: OTHER_BUILDING_ICONS,
-                flavourAssetOverrides: flavourAssetOverrides,
-                gameFlavour: gameFlavour,
-                skipElements: s,
-            },
-        }),
-        o
-    );
-}
-function onBuildingsWorkerMessage(e, t) {
-    console.time('parseBResponse');
-    const i = parseResponse(e.data);
-    console.timeEnd('parseBResponse'),
-        t && 'function' == typeof t ?
-            t(i)
-        :   ('buildings' === i.type && loadBuildingsFromWorker(i),
-            'error' === i.type && onBuildingsWorkerError(i)),
-        terminateBuildingsWorker();
-}
-function onBuildingsWorkerError(e) {
-    showErrorOnBuildingsFromWorker(e), terminateBuildingsWorker();
-}
-function terminateBuildingsWorker() {
-    buildingsWorker.terminate(), (buildingsWorker = null);
-}
-function processMobileBridgeCall(e) {
-    console.log(`processMobileBridgeCall: ${e.mission.id}`),
-        !0 === mobile_bridge_use &&
-            !1 === mixed_mobile_desktop_mode &&
-            currentMarkerTypeFilterTurnedOn(e.mission.filter_id) &&
-            (4 === mobile_version &&
-                (-1 !== String(e.vehicle_state_url).indexOf('//') ?
-                    (params.app_icon_path = e.vehicle_state_url)
-                :   (params.app_icon_path =
-                        currentHostname() + e.vehicle_state_url)),
-            mobileBridgeAdd('mission', e.mission));
-}
-function parseResponse(e) {
-    const t = e instanceof ArrayBuffer ? 'utf8' : 'none',
-        i = e;
-    switch ((console.log(`parseResponse with encoding: ${t}`), t)) {
-        case 'utf8':
-            return JSON.parse(new TextDecoder().decode(i));
-        case 'json':
-            return JSON.parse(i);
-        default:
-            return i;
-    }
-}
-function selectEncoding() {
-    return 'none';
-}
 Object.values ||
     (Object.values = function (e) {
         return Object.keys(e).map(function (t) {
@@ -8218,10 +7557,6 @@ Object.values ||
             details: 'Details',
             edit: 'Bearbeiten',
             error: 'Fehler',
-            graphic_image: {
-                upload_requirements:
-                    'Unterst\xfctzte Formate: %{formats}. Bild darf nicht gr\xf6\xdfer sein als: %{size}. Bild sollte folgenden Dimensionen entsprechen: %{dimensions}.',
-            },
             is_offline: '%{user} ist offline.',
             is_offline_long: '%{user}\xa0ist bereits l\xe4nger offline.',
             is_offline_with_duration: '%{user} ist offline: %{duration}',
@@ -8398,9 +7733,9 @@ Object.values ||
                 fire_aviation: 'Fire aviation',
                 fire_investigation: 'Fire Investigation Units',
                 fire_truck: 'Beliebiges LF oder TLF',
-                fireboat: 'Large Fireboat',
+                fireboat: 'Barco de bomberos grande',
                 flood_equipment: 'Flood Equipment',
-                fly_car: 'Fly-Car',
+                fly_car: 'Coche volador',
                 foam: 'Foam Vehicles',
                 foam_amount: 'Sonderl\xf6schmittelmenge',
                 foam_amount_only_foam_vehicles:
@@ -8432,7 +7767,7 @@ Object.values ||
                 heavy_air_tanker: 'Heavy air tanker',
                 height_rescue: 'Height Rescue Equipment',
                 helicopter_bucket: 'Au\xdfenlastbeh\xe4lter (allgemein)',
-                hems: 'HEMS',
+                hems: 'HSEM',
                 hint: {
                     foam_amount:
                         'Sum of foam in gallons. Example: if you enter 10000 - then only those vehicles will be selected that have a total of 10000 gallons of extinguishing foam.',
@@ -8502,7 +7837,7 @@ Object.values ||
                 rescue_dogs_thw: 'Anh Hund',
                 rescue_vehicle: 'Beliebiges HLF oder RW',
                 rescue_vehicle_only: 'RW',
-                rescueboat: 'Large Rescue Boat',
+                rescueboat: 'Barco de rescate grande',
                 rettungstreppe: 'Rettungstreppe',
                 riot_police: 'Riot Police Van or Riot Police Bus',
                 road_rescue_or_fire_engine: 'Road Rescue or Fire Engine',
@@ -8514,9 +7849,9 @@ Object.values ||
                 sek_zf: 'SEK - ZF',
                 sheriff_unit: 'Police Supervisor / Sheriff',
                 smoke_jumper: 'Smoke Jumper Planes',
-                swat: 'SWAT',
-                swat_armored_vehicle: 'SWAT Armoured Vehicle',
-                swat_suv: 'SWAT SUV',
+                swat: 'Fuerzas especiales (GEO)',
+                swat_armored_vehicle: 'Veh\xedculo blindado de los GEO',
+                swat_suv: 'Todoterreno de los GEO',
                 technical_rescue: 'Technical Rescue Equipment',
                 thw_anh_mzab: 'Anh MzAB',
                 thw_anh_mzb: 'Anh MzB',
@@ -8841,7 +8176,7 @@ Object.values ||
             restore_map: 'Karte wiederherstellen',
             retry: 'Neuladen',
             server_warning:
-                'Server maintenance at 18:00 EDT. 6h downtime expected.',
+                'Mantenimiento del servidor a las 00:00. Se espera un tiempo de inactividad de 6 horas.',
             show_informations:
                 'Gr\xfcn = Die Eins\xe4tze werden in der Leiste angezeigt. Rot = Die Eins\xe4tze werden nicht angezeigt.',
             sicherheitswache: 'Geplante Eins\xe4tze',
@@ -9185,10 +8520,6 @@ Object.values ||
             details: 'Details',
             edit: 'Edit',
             error: 'Error',
-            graphic_image: {
-                upload_requirements:
-                    'Supported formats: %{formats}. Image size cannot be bigger than: %{size}. Image should fit: %{dimensions}.',
-            },
             is_offline: '%{user} is offline.',
             is_offline_long: 'Long time: %{user} is offline',
             is_offline_with_duration: '%{user} is offline: %{duration}',
@@ -9344,6 +8675,8 @@ Object.values ||
                 drone: 'Any drone unit',
                 elw1_or_elw2:
                     'Battalion Chief Unit, Mobile Command Vehicle or Mobile Command-Module',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance: 'Emergency ambulance or Helicopter',
@@ -9389,6 +8722,9 @@ Object.values ||
                     rescue_dogs:
                         'The ARR selects vehicles until it has the entered number of rescue dogs or more.',
                 },
+                hlf_only: 'Veh\xedculo de rescate',
+                hlf_or_rw_and_lf:
+                    'Veh\xedculo de rescate o veh\xedculo de rescate pesado y cami\xf3n de bomberos',
                 hose_trucks: 'Hose Truck',
                 k9: 'K-9 Unit',
                 kdow_orgl: 'EMS Chief',
@@ -10083,10 +9419,6 @@ Object.values ||
             details: 'Details',
             edit: 'Edit',
             error: 'Error',
-            graphic_image: {
-                upload_requirements:
-                    'Supported formats: %{formats}. Image size cannot be bigger than: %{size}. Image should fit: %{dimensions}.',
-            },
             is_offline: '%{user} is offline.',
             is_offline_long: 'Long time: %{user} is offline',
             is_offline_with_duration: '%{user} is offline: %{duration}',
@@ -10343,7 +9675,7 @@ Object.values ||
                 sheriff_unit: 'Police Supervisor / Sheriff',
                 smoke_jumper: 'Smoke Jumper Planes',
                 swat: 'Armed Response Vehicle',
-                swat_armored_vehicle: 'SWAT Armoured Vehicle',
+                swat_armored_vehicle: 'Veh\xedculo blindado de los GEO',
                 swat_suv: 'Armed Response Vehicle (ARV)',
                 technical_rescue: 'Technical Rescue Equipment',
                 thw_mtw:
@@ -11009,10 +10341,6 @@ Object.values ||
             details: 'Details',
             edit: 'Bewerken',
             error: 'Error',
-            graphic_image: {
-                upload_requirements:
-                    'Ondersteunde formaten: %{formats}. Afbeelding mag niet groter zijn dan: %{size}. Afbeelding moet voldoen aan de volgende afmetingen: %{dimensions}.',
-            },
             is_offline: '%{user} is offline.',
             is_offline_long: '%{user} is al een lange tijd offline.',
             is_offline_with_duration: '%{user} is offline: %{duration}',
@@ -11127,8 +10455,8 @@ Object.values ||
             text_color: 'Tekstkleur',
             vehicles: {
                 ab_atemschutz_only: 'Adembeschermingshaakarmbak',
-                ab_einsatzleitung_only: 'Command-Module',
-                ab_gefahrgut_only: 'HazMat-Module',
+                ab_einsatzleitung_only: 'M\xf3dulo de mando',
+                ab_gefahrgut_only: 'M\xf3dulo Hazmat',
                 ab_oel_only: 'Haakarmbak Milieu',
                 ab_ruest: 'Haakarmbak Hulpverlening',
                 ab_ruest_rw: 'Hulpverleningsvoertuig of HVH',
@@ -11181,7 +10509,9 @@ Object.values ||
                 dozer_trailer: 'Dozer Trailer',
                 drone: 'Any drone unit',
                 elw1_or_elw2:
-                    'Battalion Chief Unit, Mobile Command Vehicle or Mobile Command-Module',
+                    'Unidad de Mando y Comunicaciones, unidad de mando o m\xf3dulo de mando m\xf3vil ',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Commandovoertuig of haakarmbak',
                 elw_airport: 'Airport Fire Officer / On Scene Commander',
                 elw_police: 'Police MCV',
@@ -11199,7 +10529,7 @@ Object.values ||
                 fire_equipment_carrier_2: 'VW-LOG',
                 fire_investigation: 'Fire Investigation Units',
                 fire_truck: 'Tankautospuit',
-                fireboat: 'Large Fireboat',
+                fireboat: 'Barco de bomberos grande',
                 flood_equipment: 'Flood Equipment',
                 fly_car: 'Rapid Responder',
                 fly_car_any: 'OVDG-RR of Rapid Responder',
@@ -11211,8 +10541,8 @@ Object.values ||
                     'Politie Noodhulp of Dienstmotor Politie',
                 fwk: 'Fire Crane Equipment',
                 gefkw: 'DB-AV',
-                gkw: 'Utility Truck',
-                grtw: 'Mass Casualty Unit',
+                gkw: 'Cami\xf3n de usos m\xfaltiples',
+                grtw: 'Unidad para m\xfaltiples v\xedctimas',
                 grukw: 'ME Flexbus',
                 gw_atemschutz_only: 'Adembeschermingsvoertuig',
                 gw_gefahrgut: 'Adviseur Gevaarlijke Stoffen',
@@ -11228,7 +10558,7 @@ Object.values ||
                 heavy_air_tanker: 'Heavy air tanker',
                 height_rescue: 'Height Rescue Equipment',
                 helicopter_bucket: 'Helicopter bucket',
-                hems: 'HEMS',
+                hems: 'HSEM',
                 hint: {
                     foam_amount:
                         'Sum of foam in gallons. Example: if you enter 10000 - then only those vehicles will be selected that have a total of 10000 gallons of extinguishing foam.',
@@ -11239,15 +10569,18 @@ Object.values ||
                     water_amount:
                         'In te voeren in Liters. Voorbeeld: Als je hier 4500 invoert zullen er voertuigen geselecteerd worden tot de gekozen waarde van 4500L is bereikt.',
                 },
+                hlf_only: 'Veh\xedculo de rescate',
+                hlf_or_rw_and_lf:
+                    'Veh\xedculo de rescate o veh\xedculo de rescate pesado y cami\xf3n de bomberos',
                 hondengeleider: 'Hondengeleider',
                 hose_trucks: 'Hose Truck',
-                k9: 'K-9 Unit',
+                k9: 'Unidad canina',
                 kdow_orgl: 'Officier van Dienst Geneeskunde',
                 kdow_orgl_any: 'OVD-G of OVDG-RR',
                 ktw_or_rtw_2: 'patient transport or ambulance',
                 large_coastal_boat: 'Large Coastal Boat',
                 lebefkw: 'ME Commandovoertuig',
-                lf_only: 'Fire Trucks',
+                lf_only: 'Camiones de bomberos',
                 long_distance_ambulance: 'Zorgambulance',
                 mask_service_unit: 'Adembeschermingsvoertuig of haakarmbak',
                 mass_casualty_equipment:
@@ -11257,7 +10590,7 @@ Object.values ||
                 mtw: 'Dienstauto / Dienstbus brandweer',
                 municipal_police:
                     'Municipal Police Car or Municipal Police Van',
-                mzb: 'Light Multi-Purpose Boat',
+                mzb: 'Barco multiusos',
                 naw_or_critical_transport: 'NAW or critical transport',
                 nef_only: 'MMT-Auto',
                 oil_unit: 'Milieu wagen of haakarmbak milieu',
@@ -11285,7 +10618,7 @@ Object.values ||
                 quint_or_dlk_and_lf: 'Quint or Platform Truck and Fire Engine',
                 rescue_vehicle: 'HV of TS-HV',
                 rescue_vehicle_only: 'Hulpverleningsvoertuig',
-                rescueboat: 'Large Rescue Boat',
+                rescueboat: 'Barco de rescate grande',
                 riot_police: 'Riot Police Van or Riot Police Bus',
                 road_rescue_or_fire_engine: 'Road Rescue or Fire Engine',
                 rth_only: 'Lifeliner',
@@ -11295,15 +10628,14 @@ Object.values ||
                 sheriff_unit: 'Police Supervisor / Sheriff',
                 smoke_jumper: 'Smoke Jumper Planes',
                 spokesman: 'Voorlichters',
-                swat: 'SWAT',
-                swat_armored_vehicle: 'SWAT Armoured Vehicle',
-                swat_suv: 'SWAT SUV',
+                swat: 'Fuerzas especiales (GEO)',
+                swat_armored_vehicle: 'Veh\xedculo blindado de los GEO',
+                swat_suv: 'Todoterreno de los GEO',
                 technical_rescue: 'Technical Rescue Equipment',
-                thw_mtw:
-                    'Mannschaftstransportwagen Technischer Zug (MTW-TZ - THW)',
-                thw_mzkw: 'Mehrzweckkraftwagen (MzKW)',
-                thw_tauchkraftwagen: 'Dive Team',
-                tlf_only: 'Tanker Truck',
+                thw_mtw: 'Cami\xf3n de transporte t\xe9cnico',
+                thw_mzkw: 'Veh\xedculo multiusos',
+                thw_tauchkraftwagen: 'Equipo de buceo',
+                tlf_only: 'Cami\xf3n cisterna',
                 traffic_car: 'Signalisatie Voertuig (DA-RWS, DA-SIG of DM-RWS)',
                 traffic_patrol: 'SIV-P of DM-P',
                 trailers: { pump: 'Pump Trailer' },
@@ -11533,7 +10865,7 @@ Object.values ||
                 technical_aid_organization: 'THW',
                 technical_aid_organization_missions:
                     'Technical Aid Organization',
-                technical_aid_organization_school: 'THW Bundesschule',
+                technical_aid_organization_school: 'Academia SAT',
                 tow_trucks: 'Berger',
                 tow_trucks_missions: 'Berger',
                 user_buildings: 'Mijn gebouwen',
@@ -11952,10 +11284,6 @@ Object.values ||
             details: 'Detalles',
             edit: 'Editar',
             error: 'Error',
-            graphic_image: {
-                upload_requirements:
-                    'Formatos compatibles: %{formats}. El tama\xf1o de la imagen no debe superar: %{size}. La imagen debe tener las siguientes dimensiones: %{dimensions}.',
-            },
             is_offline: '%{user} no est\xe1 conectado.',
             is_offline_long:
                 '%{user} no se ha conectado desde hace mucho tiempo',
@@ -12020,7 +11348,6 @@ Object.values ||
                 coastal_rescue: 'Rescate costero',
                 fbi: 'FBI & DEA',
                 firefighting: 'Bomberos',
-                mountain_rescue: 'Rescate de monta\xf1a',
                 police: 'Polic\xeda',
                 rescue: 'Rescate',
                 search_and_rescue: 'Search and Rescue',
@@ -12877,10 +12204,6 @@ Object.values ||
             details: 'Details',
             edit: 'Edit',
             error: 'Error',
-            graphic_image: {
-                upload_requirements:
-                    'Supported formats: %{formats}. Image size cannot be bigger than: %{size}. Image should fit: %{dimensions}.',
-            },
             is_offline: '%{user} is offline.',
             is_offline_long: 'Long time: %{user} is offline',
             is_offline_with_duration: '%{user} is offline: %{duration}',
@@ -13777,7 +13100,7 @@ Object.values ||
             coins_spend: 'Vill du verkligen spendera dina mynt?',
             congratulations: 'Grattis!',
             content: 'Inneh\xe5ll',
-            copy: 'Copy',
+            copy: 'Copiar',
             credits: 'Krediter',
             custom_missions: 'Storskaligt uppdrag',
             delete: 'Ta bort',
@@ -13785,10 +13108,6 @@ Object.values ||
             details: 'Detaljer',
             edit: 'Redigera',
             error: 'Fel',
-            graphic_image: {
-                upload_requirements:
-                    'St\xf6dda format: %{formats}. Bilden f\xe5r inte vara st\xf6rre \xe4n: %{size}. Bilden b\xf6r ha f\xf6ljande dimensioner: %{dimensions}.',
-            },
             is_offline: '%{user} \xe4r offline.',
             is_offline_long: 'L\xe4nge: %{user} \xe4r offline',
             is_offline_with_duration: '%{user} \xe4r offline: %{duration}',
@@ -14692,7 +14011,7 @@ Object.values ||
             coins_spend: 'Czy na pewno chcesz wyda\u0107 monety?',
             congratulations: 'Gratulacje!',
             content: 'Zawarto\u015b\u0107',
-            copy: 'Copy',
+            copy: 'Copiar',
             credits: 'Kredyty',
             custom_missions: 'Misj\u0119 sojuszu na du\u017c\u0105 skal\u0119',
             delete: 'Usu\u0144',
@@ -14700,10 +14019,6 @@ Object.values ||
             details: 'Szczeg\xf3\u0142y',
             edit: 'Edytuj',
             error: 'B\u0142\u0105d',
-            graphic_image: {
-                upload_requirements:
-                    'Obs\u0142ugiwane formaty: %{formats}. Obraz nie mo\u017ce by\u0107 wi\u0119kszy ni\u017c: %{size}. Obraz powinien mie\u0107 nast\u0119puj\u0105ce wymiary: %{dimensions}.',
-            },
             is_offline: '%{user} jest offline.',
             is_offline_long: 'Od dawna: %{user} jest offline',
             is_offline_with_duration: '%{user} jest offline: %{duration}',
@@ -14861,6 +14176,8 @@ Object.values ||
                 drone: 'Dron stra\u017cacki',
                 elw1_or_elw2:
                     'SLOp lub Samoch\xf3d dowodzenia i \u0142\u0105czno\u015bci',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance: 'Ambulans lub \u015bmig\u0142owiec LPR',
@@ -15633,7 +14950,7 @@ Object.values ||
             coins_spend: 'Vuoi davvero spendere queste monete?',
             congratulations: 'Congratulazioni!',
             content: 'Contenuto',
-            copy: 'Copy',
+            copy: 'Copiar',
             credits: 'Crediti',
             custom_missions: "Missione dell'alleanza su larga scala",
             delete: 'Elimina',
@@ -15641,10 +14958,6 @@ Object.values ||
             details: 'Dettagli',
             edit: 'Modifica',
             error: 'Errore',
-            graphic_image: {
-                upload_requirements:
-                    "Formati supportati: %{formats}. L'immagine non deve superare le dimensioni di: %{size}. L'immagine deve avere le seguenti dimensioni: %{dimensions}.",
-            },
             is_offline: '%{user} non \xe8 in linea.',
             is_offline_long: 'Ora estesa: %{user} \xe8 offline',
             is_offline_with_duration: '%{user} non \xe8 in linea: %{duration}',
@@ -15802,6 +15115,8 @@ Object.values ||
                 drone: 'Any drone unit',
                 elw1_or_elw2:
                     'Modulo - Funzionario, Veicoli comando mobile o Comando mobile ',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance: 'Automedica (VLV) o Elisoccorso',
@@ -16565,10 +15880,6 @@ Object.values ||
             details: 'D\xe9tails',
             edit: 'Modifier',
             error: 'Erreur',
-            graphic_image: {
-                upload_requirements:
-                    "Formats pris en charge : %{formats}. La taille de l'image ne doit pas d\xe9passer : %{size}. L'image doit respecter les dimensions suivantes : %{dimensions}.",
-            },
             is_offline: '%{user} est hors ligne.',
             is_offline_long:
                 'P\xe9riode prolong\xe9e\xa0: %{user} est hors ligne',
@@ -17526,10 +16837,6 @@ Object.values ||
                 '\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438',
             edit: '\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c',
             error: '\u041e\u0448\u0438\u0431\u043a\u0430',
-            graphic_image: {
-                upload_requirements:
-                    '\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u044b: %{formats}. \u0420\u0430\u0437\u043c\u0435\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c: %{size}. \u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0440\u0430\u0437\u043c\u0435\u0440\u0430\u043c: %{dimensions}.',
-            },
             is_offline: '%{user} \u043d\u0435 \u0432 \u0441\u0435\u0442\u0438.',
             is_offline_long:
                 '\u0414\u0430\u0432\u043d\u043e: %{user} \u043d\u0435 \u0432 \u0441\u0435\u0442\u0438',
@@ -17883,15 +17190,15 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 christmas: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 easter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 halloween: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 info_bubble_text:
@@ -17905,22 +17212,22 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 summer: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 valentinesday: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 winter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
             },
             arrival: '\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435',
             backalarm: '\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c',
             coins: '\u041c\u043e\u043d\u0435\u0442\u044b',
-            collapse: 'Collapse',
+            collapse: 'Colapso',
             credits: '\u041a\u0440\u0435\u0434\u0438\u0442\u044b',
             current_reward_for_you:
                 '<b>Your current reward:</b> %{credits} Credits & %{event_currency} Event Credits',
@@ -17963,7 +17270,7 @@ Object.values ||
             not_found_map:
                 '\u041c\u0430\u0448\u0438\u043d\u0430 \u043d\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435',
             not_qualified:
-                '<b>Not qualified:</b> Participate in a mission to earn the reward',
+                '<b>No cualificado:</b> Participa en una misi\xf3n para ganar la recompensa.',
             now: '\u0421\u0435\u0439\u0447\u0430\u0441',
             patient: '\u041f\u0430\u0446\u0438\u0435\u043d\u0442',
             patient_untouched:
@@ -17978,13 +17285,13 @@ Object.values ||
             pump_speed_process:
                 '\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u0442\u043a\u0430\u0447\u043a\u0438 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439 \u043e\u0442 \u0432\u043e\u0434\u044b',
             pump_speed_selected: 'Selected: %{amount} GPM',
-            qualified: '<b>Qualified:</b> You took part in the event',
+            qualified: '<b>Calificado:</b> Ha participado en el evento',
             reload: '\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e',
             sale: '\u0420\u0430\u0441\u043f\u0440\u043e\u0434\u0430\u0436\u0430',
             sale_ended:
                 '\u0410\u043a\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430',
             secounds: '\u0441\u0435\u043a.',
-            show_all: 'Show All',
+            show_all: 'Mostrar todo',
             show_less: '\u0411\u043e\u043b\u044c\u0448\u0435',
             show_more: '\u041c\u0435\u043d\u044c\u0448\u0435',
             sicherheitswache_error:
@@ -18238,7 +17545,7 @@ Object.values ||
             no_ambulance_missions:
                 '\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u041f\u0435\u0440\u0435\u0432\u043e\u0437\u043a\u0430 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u0441\u043a\u043e\u0440\u043e\u0439 \u043f\u043e\u043c\u043e\u0449\u0438 \u0438 \u0431\u043e\u043b\u044c\u043d\u0438\u0446\u044b.',
             no_critical_transport_missions:
-                'There are no Interfacillity transports. They can only occur when you have a CCTU and 2 hospitals with patients in treatment.',
+                'No hay Transporte cr\xedtico. S\xf3lo pueden producirse cuando se tiene una Ambulancia SVA y 2 hospitales con pacientes en tratamiento.',
             no_emergency_missions:
                 '\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0427\u0421. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u0427\u0421 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u044f\u0432\u0438\u0442\u044c\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u0432\u044b \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u0435\u0440\u0432\u0443\u044e \u0441\u0442\u0430\u043d\u0446\u0438\u044e.',
             no_radio_messages:
@@ -18595,7 +17902,7 @@ Object.values ||
             coins_spend: 'Er du sikker p\xe5, at du vil bruge disse m\xf8nter?',
             congratulations: 'Tillykke!',
             content: 'Indhold',
-            copy: 'Copy',
+            copy: 'Copiar',
             credits: 'Kreditter',
             custom_missions: 'Stor alliancemission',
             delete: 'Slet',
@@ -18603,10 +17910,6 @@ Object.values ||
             details: 'Detaljer',
             edit: 'Redig\xe9r',
             error: 'Fejl',
-            graphic_image: {
-                upload_requirements:
-                    'Underst\xf8ttede formater: %{formats}. Billedet m\xe5 ikke v\xe6re st\xf8rre end: %{size}. Billedet skal have f\xf8lgende dimensioner: %{dimensions}.',
-            },
             is_offline: '%{user} er offline.',
             is_offline_long: 'Lang tid: %{user} er offline',
             is_offline_with_duration: '%{user} er offline: %{duration}',
@@ -18767,6 +18070,8 @@ Object.values ||
                 drone: 'Any drone unit',
                 elw1_or_elw2:
                     'Indsatsleder Brand eller Ledelses- og kommunikationsmodul',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Indsatsleder Politi',
                 emergency_ambulance: 'Ambulance eller Rednings Helikopter',
@@ -19511,7 +18816,7 @@ Object.values ||
             coins_spend: 'Er du sikker p\xe5 at du vil bruke disse myntene?',
             congratulations: 'Gratulerer!',
             content: 'Innhold',
-            copy: 'Copy',
+            copy: 'Copiar',
             credits: 'Kreditter',
             custom_missions: 'Allianseoppdrag i stor skala',
             delete: 'Slett',
@@ -19519,10 +18824,6 @@ Object.values ||
             details: 'Info',
             edit: 'Rediger',
             error: 'Feil',
-            graphic_image: {
-                upload_requirements:
-                    'St\xf8ttede formater: %{formats}. Bildet m\xe5 ikke v\xe6re st\xf8rre enn: %{size}. Bildet b\xf8r ha f\xf8lgende dimensjoner: %{dimensions}.',
-            },
             is_offline: '%{user} er offline.',
             is_offline_long: 'Lenge: %{user} er offline',
             is_offline_with_duration: '%{user} er offline: %{duration}',
@@ -19677,6 +18978,8 @@ Object.values ||
                 dozer_trailer: 'Dozer Trailer',
                 drone: 'Any drone unit',
                 elw1_or_elw2: 'Innsatsleder brann eller innsatsst\xf8ttebil',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance: 'Ambulanse eller luftambulanse',
@@ -20428,7 +19731,7 @@ Object.values ||
             coins_spend: 'Opravdu chcete mince utratit?',
             congratulations: 'Blahop\u0159ejeme!',
             content: 'Obsah',
-            copy: 'Copy',
+            copy: 'Copiar',
             credits: 'Kredity',
             custom_missions: 'Alian\u010dn\xed mise',
             delete: 'Odstranit',
@@ -20436,10 +19739,6 @@ Object.values ||
             details: 'Podrobnosti',
             edit: 'Upravit',
             error: 'Chyba',
-            graphic_image: {
-                upload_requirements:
-                    'Podporovan\xe9 form\xe1ty: %{formats}. Obr\xe1zek nesm\xed b\xfdt v\u011bt\u0161\xed ne\u017e: %{size}. Obr\xe1zek by m\u011bl m\xedt n\xe1sleduj\xedc\xed rozm\u011bry: %{dimensions}.',
-            },
             is_offline: '%{user} je offline.',
             is_offline_long: '%{user} je u\u017e dlouho offline',
             is_offline_with_duration: '%{user} je offline: %{duration}',
@@ -20569,7 +19868,7 @@ Object.values ||
                 any_rtw: 'Any Ambulance Unit',
                 any_traffic_car: 'Vozidlo vy\u0161et\u0159ovatel\u016f DN',
                 any_traffic_unit: 'Any Traffic Unit',
-                arff: 'ARFF (Airport Fire Truck)',
+                arff: 'CBA (Cami\xf3n de bomberos de aeropuerto)',
                 battalion_chief_unit: 'Velitelsk\xfd automobil',
                 bike_police: 'DB-Bike',
                 boot: 'P\u0159\xedv\u011bs se \u010dlunem',
@@ -20648,6 +19947,9 @@ Object.values ||
                     rescue_dogs:
                         'The ARR selects vehicles until it has the entered number of rescue dogs or more.',
                 },
+                hlf_only: 'Veh\xedculo de rescate',
+                hlf_or_rw_and_lf:
+                    'Veh\xedculo de rescate o veh\xedculo de rescate pesado y cami\xf3n de bomberos',
                 hose_trucks: 'Hose Truck',
                 k9: 'Vozidlo Kynolog\u016f P\u010cR',
                 kdow_orgl: 'IP',
@@ -21374,12 +20676,13 @@ Object.values ||
             between: '%{minimum} ile %{maximum}',
             cancel: '\u0130ptal et',
             change_saved: 'De\u011fi\u015fiklikler kaydedildi',
-            click_for_more_info: 'Click here for more information.',
+            click_for_more_info:
+                'Haz clic aqu\xed para obtener m\xe1s informaci\xf3n.',
             coins_spend:
                 'Ger\xe7ekten bu alt\u0131nlar\u0131 harcamak istiyor musun?',
             congratulations: 'Tebrikler!',
             content: '\u0130\xe7erik',
-            copy: 'Copy',
+            copy: 'Copiar',
             credits: 'Krediler',
             custom_missions: 'B\xfcy\xfck \xf6l\xe7ekli bir birlik g\xf6rev',
             delete: 'Sil',
@@ -21387,10 +20690,6 @@ Object.values ||
             details: 'Ayr\u0131nt\u0131lar',
             edit: 'D\xfczenle',
             error: 'Hata',
-            graphic_image: {
-                upload_requirements:
-                    'Desteklenen formatlar: %{formats}. Resim boyutu %{size} boyutunu ge\xe7memelidir. Resim a\u015fa\u011f\u0131daki boyutlara uygun olmal\u0131d\u0131r: %{dimensions}.',
-            },
             is_offline: '%{user} \xe7evrim d\u0131\u015f\u0131.',
             is_offline_long:
                 'Uzun s\xfcre: %{user} \xe7evrim d\u0131\u015f\u0131',
@@ -21551,6 +20850,8 @@ Object.values ||
                 drone: 'Any drone unit',
                 elw1_or_elw2:
                     'Tabur Amiri Birimi, Mobil Komuta Arac\u0131 veya Mobil Komuta Mod\xfcl\xfc ',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance:
@@ -21597,6 +20898,9 @@ Object.values ||
                     rescue_dogs:
                         'The ARR selects vehicles until it has the entered number of rescue dogs or more.',
                 },
+                hlf_only: 'Veh\xedculo de rescate',
+                hlf_or_rw_and_lf:
+                    'Veh\xedculo de rescate o veh\xedculo de rescate pesado y cami\xf3n de bomberos',
                 hose_trucks: 'Hose Truck',
                 k9: 'Polis K-9 Arac\u0131',
                 kdow_orgl: 'H\u0131z\u0131r Acil Amiri',
@@ -21677,15 +20981,15 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 christmas: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 easter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 halloween: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 info_bubble_text:
@@ -21699,22 +21003,22 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 summer: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 valentinesday: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 winter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
             },
             arrival: 'Var\u0131\u015f',
             backalarm: '\u0130ptal et',
             coins: 'Alt\u0131n',
-            collapse: 'Collapse',
+            collapse: 'Colapso',
             credits: 'Krediler',
             current_reward_for_you:
                 '<b>Your current reward:</b> %{credits} Credits & %{event_currency} Event Credits',
@@ -21746,7 +21050,7 @@ Object.values ||
             new: 'Yeni',
             not_found_map: 'Ara\xe7 haritada bulunamad\u0131',
             not_qualified:
-                '<b>Not qualified:</b> Participate in a mission to earn the reward',
+                '<b>No cualificado:</b> Participa en una misi\xf3n para ganar la recompensa.',
             now: '\u015eimdi',
             patient: 'Hasta',
             patient_untouched: 'Tedavi edilmeyen hastalar',
@@ -21759,13 +21063,13 @@ Object.values ||
             pump_speed_on_site: 'On scene: %{amount} GPM',
             pump_speed_process: 'Su Hasar\u0131 Pompa S\xfcreci',
             pump_speed_selected: 'Selected: %{amount} GPM',
-            qualified: '<b>Qualified:</b> You took part in the event',
+            qualified: '<b>Calificado:</b> Ha participado en el evento',
             reload: 'Yeniden y\xfckle',
             sale: 'Sat\u0131\u015f',
             sale_ended: '\u0130ndirim sona erdi.',
             secounds: 'sn.',
-            show_all: 'Show All',
-            show_less: 'Show Less',
+            show_all: 'Mostrar todo',
+            show_less: 'Mostrar menos',
             show_more: 'Daha g\xf6ster',
             sicherheitswache_error:
                 'T\xfcm kriterler sa\u011flanmad\u0131\u011f\u0131 i\xe7in g\xfcvenlik korumas\u0131 "%{caption}" ba\u015far\u0131l\u0131 olamad\u0131.',
@@ -21794,7 +21098,7 @@ Object.values ||
             water_approaching: 'Approaching: %{amount} gal.',
             water_missing: 'Missing: %{amount} gal.',
             water_on_site: 'On scene: %{amount} gal.',
-            water_process: 'Water needed',
+            water_process: 'Agua necesaria',
             water_pumping_process: 'Gerekli pompa kapasitesi',
             water_selected: 'Selected: %{amount} gal.',
         },
@@ -21941,11 +21245,11 @@ Object.values ||
             no_alliance_missions:
                 '\u015eu anda hi\xe7bir birlik g\xf6revi yok.',
             no_alliance_missions_join:
-                'Participating in alliance missions will reward you with Credits - no matter what type of vehicle you send. By joining an alliance you can do both, share your own missions to get help from experienced alliance members and participate in other\u2019s shared missions for extra rewards.',
+                'Participar en las misiones de la alianza te recompensar\xe1 con cr\xe9ditos, independientemente del tipo de veh\xedculo que env\xedes. Al unirte a una alianza puedes hacer ambas cosas, compartir tus propias misiones para obtener ayuda de miembros experimentados de la alianza y participar en las misiones compartidas de otros para obtener recompensas extra.',
             no_ambulance_missions:
                 'Hasta nakli yoktur. Hasta nakilleri yaln\u0131zca bir ambulans\u0131n\u0131z ve bir hastaneniz oldu\u011funda ger\xe7ekle\u015febilir.',
             no_critical_transport_missions:
-                'There are no Interfacillity transports. They can only occur when you have a CCTU and 2 hospitals with patients in treatment.',
+                'No hay Transporte cr\xedtico. S\xf3lo pueden producirse cuando se tiene una Ambulancia SVA y 2 hospitales con pacientes en tratamiento.',
             no_emergency_missions:
                 '\u015eu anda hi\xe7bir acil durum g\xf6revi yok. \u0130lk istasyonunu yapt\u0131ktan sonra bir acil durum g\xf6revi alabilirsin.',
             no_radio_messages: 'Hi\xe7bir radyo mesaj\u0131 almad\u0131n.',
@@ -22291,7 +21595,7 @@ Object.values ||
             coins_spend: 'Deseja mesmo gastar estas moedas?',
             congratulations: 'Parab\xe9ns!',
             content: 'Conte\xfado',
-            copy: 'Copy',
+            copy: 'Copiar',
             credits: 'Cr\xe9ditos',
             custom_missions: 'Miss\xe3o de alian\xe7a em grande escala',
             delete: 'Apagar',
@@ -22299,10 +21603,6 @@ Object.values ||
             details: 'Detalhes',
             edit: 'Editar',
             error: 'Erro',
-            graphic_image: {
-                upload_requirements:
-                    'Formatos suportados: %{formats}. A imagem n\xe3o pode ser maior do que: %{size}. A imagem deve corresponder \xe0s seguintes dimens\xf5es: %{dimensions}.',
-            },
             is_offline: '%{user} est\xe1 offline.',
             is_offline_long: 'Tempo: %{user} est\xe1 offline',
             is_offline_with_duration: '%{user} est\xe1 offline: %{duration}',
@@ -22367,7 +21667,6 @@ Object.values ||
                 coastal_rescue: 'Coastal Rescue',
                 fbi: 'FBI & DEA',
                 firefighting: 'Bombeiros',
-                mountain_rescue: 'Salvamento em Montanha',
                 police: 'Pol\xedcia',
                 rescue: 'Pr\xe9-Hospitalar',
                 search_and_rescue: 'Search and Rescue',
@@ -22422,7 +21721,7 @@ Object.values ||
             text_color: 'Cor do Texto',
             vehicles: {
                 ab_atemschutz_only: 'M\xf3dulo SCBA',
-                ab_einsatzleitung_only: 'Command-Module',
+                ab_einsatzleitung_only: 'M\xf3dulo de mando',
                 ab_gefahrgut_only: 'M\xf3dulo de PP',
                 ab_oel_only: 'M\xf3dulo de derramamento de \xf3leo',
                 ab_ruest: 'M\xf3dulo de resgate t\xe9cnico',
@@ -22462,6 +21761,8 @@ Object.values ||
                 dozer_trailer: 'M\xe1quina de Rasto',
                 drone: 'Any drone unit',
                 elw1_or_elw2: 'VCOT / VCOC',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance: 'ABSC / Heli INEM',
@@ -22528,7 +21829,6 @@ Object.values ||
                 mountain_height_rescue: 'ESM',
                 mountain_helicopter_rescue_lift: 'Cesto-maca',
                 mountain_paramedic: 'Param\xe9dico de Montanha',
-                mountain_rescue: 'Salvamento em Montanha',
                 mountain_rescue_helicopter: 'AW101 Merlin',
                 mountain_rescue_lift: 'Cesto-maca',
                 mtw: 'MTW',
@@ -22564,7 +21864,7 @@ Object.values ||
                 search_and_rescue: 'SAR Equipments',
                 sheriff_unit: 'Police Supervisor / Sheriff',
                 smoke_jumper: 'Smoke Jumper Planes',
-                swat: 'SWAT',
+                swat: 'Fuerzas especiales (GEO)',
                 swat_armored_vehicle: 'UEP/UI - GOE/POE',
                 swat_suv: 'UEP/UI - CI/UI',
                 technical_rescue: 'Technical Rescue Equipment',
@@ -22692,8 +21992,8 @@ Object.values ||
             pump_speed_selected: 'Selecionado para o TO: %{amount} l/min',
             qualified: '<b>Qualificado:</b> Participou no evento',
             reload: 'Recarregar',
-            sale: 'Sale',
-            sale_ended: 'Sale ended',
+            sale: 'Rebajas',
+            sale_ended: 'Oferta finalizada',
             secounds: 'seg.',
             show_all: 'Mostrar tudo',
             show_less: 'Mostrar menos',
@@ -23225,7 +22525,7 @@ Object.values ||
             coins_spend: 'Deseja mesmo gastar estas moedas?',
             congratulations: 'Parab\xe9ns!',
             content: 'Conte\xfado',
-            copy: 'Copy',
+            copy: 'Copiar',
             credits: 'Cr\xe9ditos',
             custom_missions: 'Miss\xe3o de alian\xe7a em grande escala',
             delete: 'Apagar',
@@ -23233,10 +22533,6 @@ Object.values ||
             details: 'Detalhes',
             edit: 'Editar',
             error: 'Erro',
-            graphic_image: {
-                upload_requirements:
-                    'Formatos suportados: %{formatos}. A imagem n\xe3o pode ser maior que: %{tamanho}. A imagem deve ter as seguintes dimens\xf5es: %{dimens\xf5es}.',
-            },
             is_offline: '%{user} est\xe1 offline.',
             is_offline_long: 'Tempo: %{user} est\xe1 offline',
             is_offline_with_duration: '%{user} est\xe1 offline: %{duration}',
@@ -23393,6 +22689,8 @@ Object.values ||
                 drone: 'Any drone unit',
                 elw1_or_elw2:
                     'Viatura de batalh\xe3o, viatura de comando m\xf3vel ou m\xf3dulo de comando m\xf3vel ',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance:
@@ -23440,6 +22738,9 @@ Object.values ||
                     rescue_dogs:
                         'The ARR selects vehicles until it has the entered number of rescue dogs or more.',
                 },
+                hlf_only: 'Veh\xedculo de rescate',
+                hlf_or_rw_and_lf:
+                    'Veh\xedculo de rescate o veh\xedculo de rescate pesado y cami\xf3n de bomberos',
                 hose_trucks: 'Hose Truck',
                 k9: 'Unidade de A\xe7\xf5es com C\xe3es',
                 kdow_orgl: 'Chefe de SEM',
@@ -23521,15 +22822,15 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 christmas: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 easter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 halloween: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 info_bubble_text:
@@ -23543,15 +22844,15 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 summer: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 valentinesday: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 winter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
             },
@@ -23590,7 +22891,7 @@ Object.values ||
             new: 'Novo',
             not_found_map: 'O ve\xedculo n\xe3o foi encontrado no mapa',
             not_qualified:
-                '<b>Not qualified:</b> Participate in a mission to earn the reward',
+                '<b>No cualificado:</b> Participa en una misi\xf3n para ganar la recompensa.',
             now: 'Agora',
             patient: 'Paciente',
             patient_untouched: 'Pacientes n\xe3o tratados',
@@ -23609,7 +22910,7 @@ Object.values ||
             sale_ended: 'Fin de l\u2019offre sp\xe9ciale',
             secounds: 'seg.',
             show_all: 'Mostrar tudo',
-            show_less: 'Show Less',
+            show_less: 'Mostrar menos',
             show_more: 'Mostrar mais',
             sicherheitswache_error:
                 'A guarda de seguran\xe7a "%{caption}" n\xe3o teve \xeaxito porque nem todos os crit\xe9rios foram atendidos.',
@@ -23790,7 +23091,7 @@ Object.values ||
             no_ambulance_missions:
                 'N\xe3o h\xe1 transporte de doentes. O transporte de doentes s\xf3 pode ser efectuado quando existe uma ambul\xe2ncia e um hospital.',
             no_critical_transport_missions:
-                'There are no Interfacillity transports. They can only occur when you have a CCTU and 2 hospitals with patients in treatment.',
+                'No hay Transporte cr\xedtico. S\xf3lo pueden producirse cuando se tiene una Ambulancia SVA y 2 hospitales con pacientes en tratamiento.',
             no_emergency_missions:
                 'N\xe3o h\xe1 miss\xf5es de emerg\xeancia dispon\xedveis. Voc\xea pode participar de uma miss\xe3o de emerg\xeancia depois que construir o seu primeiro corpo de bombeiros.',
             no_radio_messages: 'Voc\xea n\xe3o recebeu mensagens de r\xe1dio.',
@@ -24133,7 +23434,8 @@ Object.values ||
             cancel: '\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438',
             change_saved:
                 '\u0417\u043c\u0456\u043d\u0438 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e',
-            click_for_more_info: 'Click here for more information.',
+            click_for_more_info:
+                'Haz clic aqu\xed para obtener m\xe1s informaci\xf3n.',
             coins_spend:
                 '\u0414\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0442\u0440\u0430\u0442\u0438\u0442\u0438 \u0446\u0456 \u043c\u043e\u043d\u0435\u0442\u0438?',
             congratulations: '\u0412\u0456\u0442\u0430\u043d\u043d\u044f!',
@@ -24147,10 +23449,6 @@ Object.values ||
             details: '\u041f\u043e\u0434\u0440\u043e\u0431\u0438\u0446\u0456',
             edit: '\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438',
             error: '\u041f\u043e\u043c\u0438\u043b\u043a\u0430',
-            graphic_image: {
-                upload_requirements:
-                    '\u041f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u043d\u0456 \u0444\u043e\u0440\u043c\u0430\u0442\u0438: %{formats}. \u0420\u043e\u0437\u043c\u0456\u0440 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043f\u0435\u0440\u0435\u0432\u0438\u0449\u0443\u0432\u0430\u0442\u0438: %{size}. \u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0442\u0438 \u0442\u0430\u043a\u0438\u043c \u0440\u043e\u0437\u043c\u0456\u0440\u0430\u043c: %{dimensions}.',
-            },
             is_offline:
                 '%{user} \u043d\u0435 \u0432 \u043c\u0435\u0440\u0435\u0436\u0456.',
             is_offline_long:
@@ -24333,6 +23631,8 @@ Object.values ||
                 drone: 'Any drone unit',
                 elw1_or_elw2:
                     '\u041f\u0456\u0434\u0440\u043e\u0437\u0434\u0456\u043b \u043a\u043e\u043c\u0430\u043d\u0434\u0438\u0440\u0430 \u0431\u0430\u0442\u0430\u043b\u044c\u0439\u043e\u043d\u0443, \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u0438\u0439 \u043f\u0443\u043d\u043a\u0442 \u0430\u0431\u043e \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0439 \u043c\u043e\u0434\u0443\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f ',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance:
@@ -24389,6 +23689,9 @@ Object.values ||
                     rescue_dogs:
                         'The ARR selects vehicles until it has the entered number of rescue dogs or more.',
                 },
+                hlf_only: 'Veh\xedculo de rescate',
+                hlf_or_rw_and_lf:
+                    'Veh\xedculo de rescate o veh\xedculo de rescate pesado y cami\xf3n de bomberos',
                 hose_trucks: 'Hose Truck',
                 k9: '\u041f\u0456\u0434\u0440\u043e\u0437\u0434\u0456\u043b \u043a\u0456\u043d\u043e\u043b\u043e\u0433\u0456\u0432',
                 kdow_orgl:
@@ -24491,15 +23794,15 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 christmas: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 easter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 halloween: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 info_bubble_text:
@@ -24513,22 +23816,22 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 summer: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 valentinesday: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 winter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
             },
             arrival: '\u041f\u0440\u0438\u0431\u0443\u0442\u0442\u044f',
             backalarm: '\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438',
             coins: '\u041c\u043e\u043d\u0435\u0442\u0438',
-            collapse: 'Collapse',
+            collapse: 'Colapso',
             credits: '\u041a\u0440\u0435\u0434\u0438\u0442\u0438',
             current_reward_for_you:
                 '<b>Your current reward:</b> %{credits} Credits & %{event_currency} Event Credits',
@@ -24568,7 +23871,7 @@ Object.values ||
             not_found_map:
                 '\u041c\u0430\u0448\u0438\u043d\u0443 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043d\u0430 \u043a\u0430\u0440\u0442\u0456',
             not_qualified:
-                '<b>Not qualified:</b> Participate in a mission to earn the reward',
+                '<b>No cualificado:</b> Participa en una misi\xf3n para ganar la recompensa.',
             now: '\u0417\u0430\u0440\u0430\u0437',
             patient: '\u041f\u0430\u0446\u0456\u0454\u043d\u0442',
             patient_untouched:
@@ -24583,14 +23886,14 @@ Object.values ||
             pump_speed_process:
                 '\u041f\u0440\u043e\u0446\u0435\u0441 \u0440\u043e\u0431\u043e\u0442\u0438 \u043d\u0430\u0441\u043e\u0441\u0430 \u0434\u043b\u044f \u043f\u043e\u0448\u043a\u043e\u0434\u0436\u0435\u043d\u043d\u044f \u0432\u043e\u0434\u0438',
             pump_speed_selected: 'Selected: %{amount} GPM',
-            qualified: '<b>Qualified:</b> You took part in the event',
+            qualified: '<b>Calificado:</b> Ha participado en el evento',
             reload: '\u041f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438',
             sale: '\u0420\u043e\u0437\u043f\u0440\u043e\u0434\u0430\u0436',
             sale_ended:
                 '\u0420\u043e\u0437\u043f\u0440\u043e\u0434\u0430\u0436 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e',
             secounds: '\u0441\u0435\u043a.',
-            show_all: 'Show All',
-            show_less: 'Show Less',
+            show_all: 'Mostrar todo',
+            show_less: 'Mostrar menos',
             show_more:
                 '\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435',
             sicherheitswache_error:
@@ -24628,7 +23931,7 @@ Object.values ||
             water_approaching: 'Approaching: %{amount} gal.',
             water_missing: 'Missing: %{amount} gal.',
             water_on_site: 'On scene: %{amount} gal.',
-            water_process: 'Water needed',
+            water_process: 'Agua necesaria',
             water_pumping_process:
                 '\u041d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u0430 \u043f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c \u043d\u0430\u0441\u043e\u0441\u0430',
             water_selected: 'Selected: %{amount} gal.',
@@ -24834,11 +24137,11 @@ Object.values ||
             no_alliance_missions:
                 '\u041d\u0430 \u0434\u0430\u043d\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f \u0430\u043b\u044c\u044f\u043d\u0441\u0443 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456.',
             no_alliance_missions_join:
-                'Participating in alliance missions will reward you with Credits - no matter what type of vehicle you send. By joining an alliance you can do both, share your own missions to get help from experienced alliance members and participate in other\u2019s shared missions for extra rewards.',
+                'Participar en las misiones de la alianza te recompensar\xe1 con cr\xe9ditos, independientemente del tipo de veh\xedculo que env\xedes. Al unirte a una alianza puedes hacer ambas cosas, compartir tus propias misiones para obtener ayuda de miembros experimentados de la alianza y participar en las misiones compartidas de otros para obtener recompensas extra.',
             no_ambulance_missions:
                 '\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u0430\u0446\u0456\u0454\u043d\u0442\u0456\u0432 \u043d\u0435 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f. \u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u0430\u0446\u0456\u0454\u043d\u0442\u0430 \u043c\u043e\u0436\u0435 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043b\u0438\u0448\u0435 \u0442\u043e\u0434\u0456, \u043a\u043e\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0454 \u0448\u0432\u0438\u0434\u043a\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0430 \u0442\u0430 \u043b\u0456\u043a\u0430\u0440\u043d\u044f.',
             no_critical_transport_missions:
-                'There are no Interfacillity transports. They can only occur when you have a CCTU and 2 hospitals with patients in treatment.',
+                'No hay Transporte cr\xedtico. S\xf3lo pueden producirse cuando se tiene una Ambulancia SVA y 2 hospitales con pacientes en tratamiento.',
             no_emergency_missions:
                 "\u041d\u0435\u043c\u0430\u0454 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0445 \u0437\u0430\u0432\u0434\u0430\u043d\u044c \u0434\u043b\u044f \u0435\u043a\u0441\u0442\u0440\u0435\u043d\u0438\u0445 \u0441\u043b\u0443\u0436\u0431. \u0417\u0430\u0432\u0434\u0430\u043d\u043d\u044f \u0434\u043b\u044f \u0435\u043a\u0441\u0442\u0440\u0435\u043d\u0438\u0445 \u0441\u043b\u0443\u0436\u0431 \u043c\u043e\u0436\u0435 \u0437'\u044f\u0432\u0438\u0442\u0438\u0441\u044f \u0442\u043e\u0434\u0456, \u043a\u043e\u043b\u0438 \u0432\u0438 \u0437\u0431\u0443\u0434\u0443\u0454\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u0435\u0440\u0448\u0443 \u0441\u0442\u0430\u043d\u0446\u0456\u044e.",
             no_radio_messages:
@@ -25204,10 +24507,6 @@ Object.values ||
             details: 'Detalles',
             edit: 'Editar',
             error: 'Error',
-            graphic_image: {
-                upload_requirements:
-                    'Formatos compatibles: %{formats}. El tama\xf1o de la imagen no debe superar: %{size}. La imagen debe tener las siguientes dimensiones: %{dimensions}.',
-            },
             is_offline: '%{user} no est\xe1 conectado.',
             is_offline_long:
                 '%{user} no se ha conectado desde hace mucho tiempo',
@@ -26118,10 +25417,6 @@ Object.values ||
             details: '\u8a73\u7d30',
             edit: '\u7de8\u96c6',
             error: '\u30a8\u30e9\u30fc',
-            graphic_image: {
-                upload_requirements:
-                    '\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff1a%{formats}\u3002\u753b\u50cf\u306e\u30b5\u30a4\u30ba\u306f %{size} \u3092\u8d85\u3048\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002\u753b\u50cf\u306f %{dimensions} \u306e\u5bf8\u6cd5\u306b\u6e96\u62e0\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002',
-            },
             is_offline:
                 '%{user}\u306f\u30aa\u30d5\u30e9\u30a4\u30f3\u3067\u3059\u3002',
             is_offline_long:
@@ -26195,7 +25490,8 @@ Object.values ||
                 coastal_rescue: '\u6c34\u4e0a\u8b66\u5bdf',
                 fbi: 'FBI & DEA',
                 firefighting: '\u6d88\u9632',
-                mountain_rescue: '\u5c71\u5cb3\u6551\u52a9',
+                mountain_rescue:
+                    '\u5c71\u5cb3\u6551\u52a9 (Sangaku Ky\u016bjo)',
                 police: '\u8b66\u5bdf',
                 rescue: '\u6551\u52a9',
                 search_and_rescue: 'Search and Rescue',
@@ -26302,6 +25598,8 @@ Object.values ||
                 drone: 'Any drone unit',
                 elw1_or_elw2:
                     '\u6d88\u9632\u53f8\u4ee4\u9577\u8eca\u4e21\u307e\u305f\u306f\u6307\u4ee4\u8eca',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance:
@@ -26333,8 +25631,8 @@ Object.values ||
                 gw_atemschutz_only:
                     '\u7a7a\u6c17\u5145\u586b\u7167\u660e\u8eca',
                 gw_gefahrgut: '\u5371\u967a\u7269\u53d6\u6271\u8eca\u4e21',
-                gw_hoehenrettung: 'GW-H\xf6henrettung',
-                gw_messtechnik: 'GW-Messtechnik',
+                gw_hoehenrettung: 'Cami\xf3n de rescate en altura',
+                gw_messtechnik: 'Cami\xf3n de medici\xf3n',
                 gw_wasserrettung: '\u8caf\u6c34\u8eca\u4e21',
                 gwl2wasser: 'Water Carrier or Major Foam Tender',
                 gwl2wasser_all: 'All Water Tankers',
@@ -26362,7 +25660,7 @@ Object.values ||
                     '\u4e00\u6b21\uff0f\u4e8c\u6b21\u6551\u547d\u51e6\u7f6e',
                 ktw_or_rtw_2: 'patient transport or ambulance',
                 large_coastal_boat: 'Large Coastal Boat',
-                lebefkw: 'Leichter Befehlskraftwagen (leBefKw)',
+                lebefkw: 'Veh\xedculo de mando ligero (leBefKw)',
                 lf_only: '\u6d88\u9632\u8eca',
                 long_distance_ambulance:
                     '\u4e00\u6642\u6551\u547d\u51e6\u7f6e\u6551\u6025\u8eca',
@@ -26370,14 +25668,15 @@ Object.values ||
                 mass_casualty_equipment:
                     'Mass Casualty Equipment or Medical Equipment Trailer',
                 mobile_shelter: 'Mobile shelter',
-                mountain_rescue_drone: '\u7121\u4eba\u822a\u7a7a\u6a5f\u968a',
+                mountain_rescue_drone:
+                    '\u7121\u4eba\u822a\u7a7a\u6a5f\u968a (Mujin k\u014dk\u016bki-tai)',
                 mtw: '\u6d88\u9632\u968a\u54e1\u7528\u8eca\u4e21',
                 municipal_police:
                     'Municipal Police Car or Municipal Police Van',
                 mzb: '\u591a\u76ee\u7684\u30dc\u30fc\u30c8',
                 naw_or_critical_transport: 'NAW or critical transport',
                 nef_only: '\u6551\u6025\u8eca',
-                oil_unit: 'GW-\xd6l',
+                oil_unit: 'Cami\xf3n para fuegos de aceite',
                 police_boat: 'Police Boat',
                 police_car: '\u30d1\u30c8\u30ab\u30fc',
                 police_car_3: 'NH-O',
@@ -26411,9 +25710,8 @@ Object.values ||
                 swat_armored_vehicle: 'SWAT\u88c5\u7532\u8eca\u4e21',
                 swat_suv: 'SWAT SUV',
                 technical_rescue: 'Technical Rescue Equipment',
-                thw_mtw:
-                    'Mannschaftstransportwagen Technischer Zug (MTW-TZ - THW)',
-                thw_mzkw: 'Mehrzweckkraftwagen (MzKW)',
+                thw_mtw: 'Cami\xf3n de transporte t\xe9cnico',
+                thw_mzkw: 'Veh\xedculo multiusos',
                 thw_tauchkraftwagen: '\u6f5c\u6c34\u30c1\u30fc\u30e0',
                 tlf_only: '\u30bf\u30f3\u30ab\u30fc\u30c8\u30e9\u30c3\u30af',
                 traffic_car:
@@ -26562,7 +25860,7 @@ Object.values ||
             sicherheitswache_success:
                 '\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fc\u30ac\u30fc\u30c9\u300c%{caption}\u300d\u306f\u7121\u4e8b\u884c\u308f\u308c\u307e\u3057\u305f\u3002%{credits}\u30af\u30ec\u30b8\u30c3\u30c8\u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002',
             start_alliance_mission_new: {
-                one: 'Start %{count} mission (%{price} Coins)',
+                one: 'Iniciar %{count} misi\xf3n (%{price} Monedas)',
                 other: '%{count}\u500b\u306e\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b (%{price} \u30b3\u30a4\u30f3)',
             },
             start_in: '\u958b\u59cb\u307e\u3067\uff1a ',
@@ -26669,8 +25967,10 @@ Object.values ||
                 mission_positions: '\u5230\u7740\u5730\u70b9\uff08POI\uff09',
                 mission_positions_section: 'POI',
                 missions_section: '\u30df\u30c3\u30b7\u30e7\u30f3',
-                mountain_missions: '\u5c71\u5cb3\u6551\u52a9\u4efb\u52d9',
-                mountain_rescue_heliport: '\u822a\u7a7a\u81ea\u885b\u968a',
+                mountain_missions:
+                    '\u5c71\u5cb3\u6551\u52a9\u4efb\u52d9 (Sangaku Ky\u016bjo Ninmu)',
+                mountain_rescue_heliport:
+                    '\u822a\u7a7a\u81ea\u885b\u968a (K\u014dk\u016b Jieitai)',
                 mountain_rescue_missions:
                     '\u5c71\u5cb3\u6551\u52a9\u4efb\u52d9 (Sangaku Ky\u016bjo Ninmu)',
                 police_copter_station_missions:
@@ -27138,10 +26438,6 @@ Object.values ||
             details: '\uc138\ubd80 \uc0ac\ud56d',
             edit: '\ud3b8\uc9d1',
             error: '\uc624\ub958',
-            graphic_image: {
-                upload_requirements:
-                    '\uc9c0\uc6d0\ub418\ub294 \ud615\uc2dd: %{formats}. \uc774\ubbf8\uc9c0\ub294 \ub2e4\uc74c \ud06c\uae30\ubcf4\ub2e4 \ucee4\uc11c\ub294 \uc548 \ub429\ub2c8\ub2e4: %{size}. \uc774\ubbf8\uc9c0\ub294 \ub2e4\uc74c \uce58\uc218\ub97c \ub530\ub77c\uc57c \ud569\ub2c8\ub2e4: %{dimensions}.',
-            },
             is_offline:
                 '%{user} \ub2d8\uc740 \uc624\ud504\ub77c\uc778\uc785\ub2c8\ub2e4.',
             is_offline_long:
@@ -27310,6 +26606,8 @@ Object.values ||
                 drone: 'Any drone unit',
                 elw1_or_elw2:
                     '\uc18c\ubc29\ub300\uc7a5 \uc720\ub2db, \uae30\ub3d9\ud615 \uc9c0\ud718\ucc28\ub7c9 \ub610\ub294 \uae30\ub3d9\ud615 \uc9c0\ud718 \ubaa8\ub4c8 ',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance:
@@ -27557,7 +26855,7 @@ Object.values ||
             sicherheitswache_success:
                 '"%{caption}"\uc758 \ubcf4\uc548 \uacbd\ube44\ub97c \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4. %{credits} \ud06c\ub808\ub527\uc744 \ubc1b\uc558\uc2b5\ub2c8\ub2e4.',
             start_alliance_mission_new: {
-                one: 'Start %{count} mission (%{price} Coins)',
+                one: 'Iniciar %{count} misi\xf3n (%{price} Monedas)',
                 other: '%{count} \uc784\ubb34 \uc2dc\uc791(%{price} \ucf54\uc778)',
             },
             start_in: '\uc2dc\uc791\uae4c\uc9c0: ',
@@ -27745,7 +27043,7 @@ Object.values ||
             no_ambulance_missions:
                 '\ud658\uc790 \uc774\uc1a1\uc740 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4. \uad6c\uae09\ucc28\uc640 \ubcd1\uc6d0\uc774 \uc788\ub294 \uacbd\uc6b0\uc5d0\ub9cc \ud658\uc790 \uc774\uc1a1\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.',
             no_critical_transport_missions:
-                'There are no Interfacillity transports. They can only occur when you have a CCTU and 2 hospitals with patients in treatment.',
+                'No hay Transporte cr\xedtico. S\xf3lo pueden producirse cuando se tiene una Ambulancia SVA y 2 hospitales con pacientes en tratamiento.',
             no_emergency_missions:
                 '\uc774\uc6a9\ud560 \uc218 \uc788\ub294 \uae34\uae09 \uc784\ubb34\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \uae34\uae09 \uc784\ubb34\ub294 \uccab \ubc88\uc9f8 \uad00\ud560\uc11c\ub97c \uc0dd\uc131\ud55c \ud6c4 \ubc1c\uc0dd\ud569\ub2c8\ub2e4.',
             no_radio_messages:
@@ -28103,10 +27401,6 @@ Object.values ||
             details: 'Detalii',
             edit: 'Editeaz\u0103',
             error: 'Eroare',
-            graphic_image: {
-                upload_requirements:
-                    'Formate acceptate: %{formats}. Imaginea nu trebuie s\u0103 dep\u0103\u0219easc\u0103 dimensiunea: %{size}. Imaginea trebuie s\u0103 corespund\u0103 urm\u0103toarelor dimensiuni: %{dimensions}.',
-            },
             is_offline: '%{user} este offline.',
             is_offline_long:
                 'Perioad\u0103 \xeendelungat\u0103: %{user} este offline',
@@ -28405,15 +27699,15 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 christmas: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 easter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 halloween: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 info_bubble_text:
@@ -28427,22 +27721,22 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 summer: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 valentinesday: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 winter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
             },
             arrival: 'Sosire',
             backalarm: 'Anuleaz\u0103',
             coins: 'Monede',
-            collapse: 'Collapse',
+            collapse: 'Colapso',
             credits: 'Credite',
             current_reward_for_you:
                 '<b>Your current reward:</b> %{credits} Credits & %{event_currency} Event Credits',
@@ -28474,7 +27768,7 @@ Object.values ||
             new: 'Nou',
             not_found_map: 'Vehiculul nu a fost g\u0103sit pe hart\u0103',
             not_qualified:
-                '<b>Not qualified:</b> Participate in a mission to earn the reward',
+                '<b>No cualificado:</b> Participa en una misi\xf3n para ganar la recompensa.',
             now: 'Acum',
             patient: 'Pacient',
             patient_untouched: 'Pacien\u021bi netrata\u021bi',
@@ -28488,13 +27782,13 @@ Object.values ||
             pump_speed_process:
                 'Procesul de pompare a daunelor provocate de ap\u0103',
             pump_speed_selected: 'Selected: %{amount} GPM',
-            qualified: '<b>Qualified:</b> You took part in the event',
+            qualified: '<b>Calificado:</b> Ha participado en el evento',
             reload: 'Re\xeencarc\u0103',
             sale: 'Promo\u021bie',
             sale_ended: 'Promo\u021bia s-a \xeencheiat',
             secounds: 'sec.',
             show_all: 'Arat\u0103 tot',
-            show_less: 'Show Less',
+            show_less: 'Mostrar menos',
             show_more: 'Show More',
             sicherheitswache_error:
                 'Misiunea de securizare "%{caption}" nu a avut succes, deoarece nu au fost \xeendeplinite toate criteriile.',
@@ -28524,7 +27818,7 @@ Object.values ||
             water_approaching: 'Se apropie: %{amount} l.',
             water_missing: 'Lipsesc: %{amount} l.',
             water_on_site: 'La fa\u021ba locului: %{amount} l.',
-            water_process: 'Water needed',
+            water_process: 'Agua necesaria',
             water_pumping_process: 'Capacitate de pompare necesar\u0103',
             water_selected: 'Selecta\u021bi: %{amount} l.',
         },
@@ -28679,11 +27973,11 @@ Object.values ||
             no_alliance_missions:
                 '\xcen prezent nu exist\u0103 misiuni de alian\u021b\u0103.',
             no_alliance_missions_join:
-                'Participating in alliance missions will reward you with Credits - no matter what type of vehicle you send. By joining an alliance you can do both, share your own missions to get help from experienced alliance members and participate in other\u2019s shared missions for extra rewards.',
+                'Participar en las misiones de la alianza te recompensar\xe1 con cr\xe9ditos, independientemente del tipo de veh\xedculo que env\xedes. Al unirte a una alianza puedes hacer ambas cosas, compartir tus propias misiones para obtener ayuda de miembros experimentados de la alianza y participar en las misiones compartidas de otros para obtener recompensas extra.',
             no_ambulance_missions:
                 '"Nu exist\u0103 transporturi de pacien\u021bi. Transporturile vor putea fi efectuate atunci c\xe2nd vei aveao Ambulan\u021b\u0103 de tip B (BLS) \u0219i un spital."',
             no_critical_transport_missions:
-                'There are no Interfacillity transports. They can only occur when you have a CCTU and 2 hospitals with patients in treatment.',
+                'No hay Transporte cr\xedtico. S\xf3lo pueden producirse cuando se tiene una Ambulancia SVA y 2 hospitales con pacientes en tratamiento.',
             no_emergency_missions:
                 'Nu e disponibil\u0103 nicio misiune de urgen\u021b\u0103. O misiune de urgen\u021b\u0103 poate ap\u0103rea dup\u0103 ce \u021bi-ai construit prima sta\u021bie.',
             no_radio_messages: 'Nu ai primit niciun mesaj radio.',
@@ -29038,10 +28332,6 @@ Object.values ||
             details: 'Lis\xe4tiedot',
             edit: 'Muokkaa',
             error: 'Virhe',
-            graphic_image: {
-                upload_requirements:
-                    'Tuetut tiedostomuodot: %{formats}. Kuvan koko ei saa olla suurempi kuin: %{size}. Kuvan tulisi olla seuraavien mittojen mukainen: %{dimensions}.',
-            },
             is_offline: '%{user} ei ole verkossa',
             is_offline_long: 'Kauan: %{user} ei ole verkossa',
             is_offline_with_duration: '%{user} ei ole verkossa: %{duration}',
@@ -29197,6 +28487,8 @@ Object.values ||
                 drone: 'Any drone unit',
                 elw1_or_elw2:
                     'johtoauto, johtokeskusauto tai johtokeskuskontti',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance: 'Ambulanssi tai Helikopteri',
@@ -29957,10 +29249,6 @@ Object.values ||
             details: 'Podrobnosti',
             edit: 'Upravi\u0165',
             error: 'Chyba',
-            graphic_image: {
-                upload_requirements:
-                    'Podporovan\xe9 form\xe1ty: %{formats}. Obr\xe1zok nesmie by\u0165 v\xe4\u010d\u0161\xed ako: %{size}. Obr\xe1zok by mal ma\u0165 nasleduj\xface rozmery: %{dimensions}.',
-            },
             is_offline: '%{user} je offline.',
             is_offline_long: 'Dlho: %{user} je offline',
             is_offline_with_duration: '%{user} je offline: %{duration}',
@@ -30116,6 +29404,8 @@ Object.values ||
                 drone: 'Any drone unit',
                 elw1_or_elw2:
                     'Velite\u013esk\xfd automobil, mobiln\xfd velite\u013esk\xfd automobil alebo mobiln\xfd velite\u013esk\xfd modul ',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
                 emergency_ambulance:
@@ -30247,15 +29537,15 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 christmas: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 easter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 halloween: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 info_bubble_text:
@@ -30269,22 +29559,22 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 summer: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 valentinesday: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 winter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
             },
             arrival: 'Pr\xedchod',
             backalarm: 'Zru\u0161i\u0165',
             coins: 'Mince',
-            collapse: 'Collapse',
+            collapse: 'Colapso',
             credits: 'Kredity',
             current_reward_for_you:
                 '<b>Your current reward:</b> %{credits} Credits & %{event_currency} Event Credits',
@@ -30316,7 +29606,7 @@ Object.values ||
             new: 'Nov\xfd',
             not_found_map: 'Vozidlo sa nena\u0161lo na mape',
             not_qualified:
-                '<b>Not qualified:</b> Participate in a mission to earn the reward',
+                '<b>No cualificado:</b> Participa en una misi\xf3n para ganar la recompensa.',
             now: 'Teraz',
             patient: 'Pacient',
             patient_untouched: 'Nelie\u010den\xed pacienti',
@@ -30328,13 +29618,13 @@ Object.values ||
             pump_speed_on_site: 'On scene: %{amount} GPM',
             pump_speed_process: 'Proces po\u0161kodenia \u010derpadla vodou',
             pump_speed_selected: 'Selected: %{amount} GPM',
-            qualified: '<b>Qualified:</b> You took part in the event',
+            qualified: '<b>Calificado:</b> Ha participado en el evento',
             reload: 'Znovu na\u010d\xedta\u0165',
             sale: 'Preda\u0165',
             sale_ended: 'Predaj ukon\u010den\xfd',
             secounds: 'sek.',
-            show_all: 'Show All',
-            show_less: 'Show Less',
+            show_all: 'Mostrar todo',
+            show_less: 'Mostrar menos',
             show_more: 'Show More',
             sicherheitswache_error:
                 'Ochrana "%{caption}" nebola \xfaspe\u0161n\xe1, preto\u017ee neboli splnen\xe9 v\u0161etky krit\xe9ri\xe1.',
@@ -30365,7 +29655,7 @@ Object.values ||
             water_approaching: 'Na ceste %{amount} l',
             water_missing: 'Ch\xfdba %{amount} l',
             water_on_site: 'Na mieste %{amount} l',
-            water_process: 'Water needed',
+            water_process: 'Agua necesaria',
             water_pumping_process: 'Potrebn\xe1 kapacita \u010derpadla',
             water_selected: 'Vybran\xe9 %{amount} l',
         },
@@ -30512,11 +29802,11 @@ Object.values ||
             no_alliance_missions:
                 'Moment\xe1lne nie s\xfa \u017eiadne misie aliancie.',
             no_alliance_missions_join:
-                'Participating in alliance missions will reward you with Credits - no matter what type of vehicle you send. By joining an alliance you can do both, share your own missions to get help from experienced alliance members and participate in other\u2019s shared missions for extra rewards.',
+                'Participar en las misiones de la alianza te recompensar\xe1 con cr\xe9ditos, independientemente del tipo de veh\xedculo que env\xedes. Al unirte a una alianza puedes hacer ambas cosas, compartir tus propias misiones para obtener ayuda de miembros experimentados de la alianza y participar en las misiones compartidas de otros para obtener recompensas extra.',
             no_ambulance_missions:
                 'Zatia\u013e nem\xe1te \u017eiadne po\u017eiadavky na transport pacienta, objavia sa akon\xe1hle budete vlastni\u0165 stanicu ZZS a nemocnicu.',
             no_critical_transport_missions:
-                'There are no Interfacillity transports. They can only occur when you have a CCTU and 2 hospitals with patients in treatment.',
+                'No hay Transporte cr\xedtico. S\xf3lo pueden producirse cuando se tiene una Ambulancia SVA y 2 hospitales con pacientes en tratamiento.',
             no_emergency_missions:
                 'Moment\xe1lne nie s\xfa \u017eiadne n\xfadzov\xe9 misie. N\xfadzov\xe1 misia sa m\xf4\u017ee vyskytn\xfa\u0165 iba v pr\xedpade, \u017ee vybudujete prv\xfa stanicu.',
             no_radio_messages:
@@ -30851,51 +30141,50 @@ Object.values ||
     }),
     (I18n.translations.en = {
         common: {
-            add: 'Add',
-            all: 'All',
-            around: 'Around %{target}',
-            back: 'Back',
-            between: 'Between %{minimum} and %{maximum}',
-            cancel: 'Cancel',
-            change_saved: 'Changes saved',
-            click_for_more_info: 'Click here for more information.',
-            coins_spend: 'Do you really want to spend these coins?',
-            congratulations: 'Congratulations!',
-            content: 'Content',
-            copy: 'Copy',
-            credits: 'Credits',
-            custom_missions: 'Large Scale Alliance Mission',
-            delete: 'Delete',
+            add: 'A\xf1adir',
+            all: 'Todos',
+            around: 'En %{target}',
+            back: 'Atr\xe1s',
+            between: 'Entre %{minimum} y %{maximum}',
+            cancel: 'Cancelar',
+            change_saved: 'Cambios guardados',
+            click_for_more_info:
+                'Haz clic aqu\xed para obtener m\xe1s informaci\xf3n.',
+            coins_spend: '\xbfSeguro que quieres gastar estas monedas?',
+            congratulations: '\xa1Enhorabuena!',
+            content: 'Contenido',
+            copy: 'Copiar',
+            credits: 'Cr\xe9ditos',
+            custom_missions: 'Misi\xf3n de alianza a gran escala',
+            delete: 'Eliminar',
             description: 'Description',
-            details: 'Details',
-            edit: 'Edit',
+            details: 'Detalles',
+            edit: 'Editar',
             error: 'Error',
-            graphic_image: {
-                upload_requirements:
-                    'Supported formats: %{formats}. Image size cannot be bigger than: %{size}. Image should fit: %{dimensions}.',
-            },
-            is_offline: '%{user} is offline.',
-            is_offline_long: 'Long time: %{user} is offline',
-            is_offline_with_duration: '%{user} is offline: %{duration}',
-            is_online: '%{user} is online.',
-            loading: 'Loading...',
+            is_offline: '%{user} no est\xe1 conectado.',
+            is_offline_long:
+                '%{user} no se ha conectado desde hace mucho tiempo',
+            is_offline_with_duration:
+                '%{user} no est\xe1 conectado: %{duration}',
+            is_online: '%{user} est\xe1 conectado.',
+            loading: 'Cargando...',
             message_for_education:
                 'This person will not be dispatched with the vehicle because it is missing the necessary education!',
-            name: 'Name',
+            name: 'Nombre',
             no: 'no',
-            none: 'None',
-            of: 'of',
-            off: 'Off',
-            on: 'On',
-            or: 'or',
+            none: 'Nada',
+            of: 'de',
+            off: 'No',
+            on: 'S\xed',
+            or: 'o',
             person: {
                 missing_education_for_vehicle:
                     'Personnel will only be dispatched with the vehicle if it has acquired the necessary education!',
             },
-            release_at: 'Release in',
-            save: 'Save',
-            search: 'Search',
-            show: 'Show',
+            release_at: 'Alta en',
+            save: 'Guardar',
+            search: 'Buscar',
+            show: 'Mostrar',
             time: {
                 days: {
                     plural_with_number: {
@@ -30904,30 +30193,30 @@ Object.values ||
                     },
                 },
             },
-            time_in_minutes: 'Time in minutes',
-            user_not_found: 'User not found',
-            wrong_key: 'Wrong key',
+            time_in_minutes: 'Tiempo en minutos',
+            user_not_found: 'Usuario no encontrado',
+            wrong_key: 'Tecla equivocada',
             yes: 'yes',
         },
         fms: {
-            going: 'Responding',
-            not_ready: 'Out of Service',
-            on_destination: 'At the transport destination',
-            on_place: 'On Scene',
-            patient_transported: 'Transporting Patient',
-            prisoner_transported: 'Transporting Prisoner',
-            ready_home: 'Available at Station',
-            ready_traveling: 'Clear and Available',
-            talking_wish: 'Transport Request',
+            going: 'Respondiendo',
+            not_ready: 'Fuera de servicio',
+            on_destination: 'En el destino del transporte',
+            on_place: 'Presente',
+            patient_transported: 'Transportando paciente',
+            prisoner_transported: 'Transportando preso',
+            ready_home: 'Disponible en la instalaci\xf3n',
+            ready_traveling: 'Listo y disponible',
+            talking_wish: 'Petici\xf3n de transporte',
             transporting_car: 'Transporting Vehicle',
-            waiting_for_vehicle: 'Awaiting vehicle to tow',
+            waiting_for_vehicle: 'Esperando a remolque',
         },
         intervention_order: {
             assigns_equipment_automatically: 'Assigns Equipment Automatically',
             assigns_equipment_automatically_hint:
                 'If active, the ARR can assign equipment to vehicles. Will choose the closest unit or equipment. (Does not exclusively choose equipment).',
-            automatic_text_color: 'Automatic Text Color',
-            back: 'Back',
+            automatic_text_color: 'Color de texto autom\xe1tico',
+            back: 'Atr\xe1s',
             car_carrier: 'Wrecker or Flatbed Carrier',
             categories: {
                 airport: 'Airport',
@@ -30944,65 +30233,65 @@ Object.values ||
                 traffic_police: 'Traffic Police',
                 water_rescue: 'Water Rescue',
             },
-            category: 'Category',
+            category: 'Categor\xeda',
             colour: 'Color',
-            column: 'Column',
-            column_number: 'Column number',
+            column: 'Columna',
+            column_number: 'N.\xba de columna',
             column_number_hint:
-                'If a column number is given, the Alarm and Response entry will be displayed in the corresponding column on the alert page.',
+                'Si hay un n\xfamero de columna, la entrada en las normas de alerta y respuesta se mostrar\xe1 en la columna correspondiente de la p\xe1gina de la alerta.',
             create_intervention_order:
-                'Create new Alarm and Response Regulation',
-            delete: 'Delete',
-            delete_all: 'Delete Alarm and Response Regulations completely',
+                'Crear nueva norma de alerta y respuesta',
+            delete: 'Eliminar',
+            delete_all: 'Eliminar todas las normas de alerta y respuesta',
             delete_all_confirm:
-                'Are you sure you want to delete the whole alarm and response regulation? Existing exported entries are no longer available!',
-            description: 'Name',
-            edit: 'Edit',
+                '\xbfSeguro que quieres eliminar todas las normas de alerta y respuesta? \xa1Las entradas exportadas existentes ya no est\xe1n disponibles!',
+            description: 'Nombre',
+            edit: 'Editar',
             export: {
-                export: 'Share',
-                import: 'Import',
+                export: 'Compartir',
+                import: 'Importar',
                 import_done:
-                    'The selected entries have been imported and written to your Alarm and Response plan .',
-                saved: 'Share Alarm and Response Regulations',
+                    'Las entradas seleccionadas se han importado y a\xf1adido a tu plan de alerta y respuesta.',
+                saved: 'Compartir normas de alarma y respuesta',
                 saved_text:
-                    'Your Alarm and Response Regulation has been prepared for export. Via the link another player can import the Alarm and Response Regulation. If you change your Alarm and Response Regualtion in the meantime, this change will automatically be applied in the export.',
+                    'Las normas de alerta y respuesta est\xe1n preparadas para ser exportadas. Mediante el enlace, otro jugador podr\xe1 importarlas. Mientras tanto, si cambias alguna norma, el cambio se aplicar\xe1 autom\xe1ticamente a lo exportado.',
             },
             hotkey_hint:
-                'Choose a hotkey for this vehicle selection. Press at your window mission: ALT + your hotkey (or at Firefox: ALT + SHIFT + your hotkey or at mac os: ctrl + alt + your hotkey) to choose your vehicle selection.',
-            intervention_order: 'Edit Alarm and Response Regulations',
-            name: 'Name',
+                'Elije una tecla para esta selecci\xf3n de veh\xedculos. En la ventana de la misi\xf3n, pulsa ALT + tu tecla (ALT + SHIFT + tu tecla en Firefox o CTRL + ALT + tu tecla en MacOS) para seleccionarla.',
+            intervention_order: 'Editar normas de alerta y respuesta',
+            name: 'Nombre',
             no_intervention_created:
-                "You haven't created any Alarm and Response Regulation yet.",
-            options: 'Options',
-            reset: 'Reset the previous selection in the alarm window.',
+                'Todav\xeda no has creado ninguna norma de alerta y respuesta.',
+            options: 'Opciones',
+            reset: 'Restablece la selecci\xf3n anterior en la ventana de alertas.',
             reset_hint:
-                'If you have selected the vehicle in the dispatch window, you can use this button to reset it.',
-            save: 'Save',
-            station: 'Station',
+                'Si has seleccionado el veh\xedculo en la ventana de respuesta, puedes usar este bot\xf3n para restablecer.',
+            save: 'Guardar',
+            station: 'Instalaci\xf3n',
             station_hint:
-                'When a building is selected, only vehicles of the corresponding building will be selected.',
+                'Si hay un edificio seleccionado, solo se seleccionar\xe1n los veh\xedculos de ese edificio.',
             successfully_created:
-                'Alarm and Response Regulation successfully created.',
-            successfully_deleted: 'Alarm and Response Regulation deleted',
+                'Norma de alerta y respuesta creada correctamente.',
+            successfully_deleted: 'Norma de alerta y respuesta eliminada',
             successfully_updated:
-                'Alarm and Response Regulations successfully updated.',
-            text_color: 'Text Color',
+                'Norma de alerta y respuesta actualizada correctamente.',
+            text_color: 'Color de texto',
             vehicles: {
-                ab_atemschutz_only: 'SCBA-Module',
-                ab_einsatzleitung_only: 'Command-Module',
-                ab_gefahrgut_only: 'HazMat-Module',
-                ab_oel_only: 'Oil spill-Module',
-                ab_ruest: 'Tech/Rescue-Module',
-                abl2wasser_only: 'Hose-Supply-Module',
+                ab_atemschutz_only: 'M\xf3dulo ERA',
+                ab_einsatzleitung_only: 'M\xf3dulo de mando',
+                ab_gefahrgut_only: 'M\xf3dulo Hazmat',
+                ab_oel_only: 'M\xf3dulo de vertido de crudo',
+                ab_ruest: 'M\xf3dulo tecnol\xf3gico de rescate',
+                abl2wasser_only: 'M\xf3dulo de mangueras',
                 air_tanker: 'Air tanker',
-                ambulance: 'ALS ambulance',
+                ambulance: 'UVI m\xf3vil',
                 any_rtw: 'Any Ambulance Unit',
                 any_traffic_car: 'Traffic Control Units',
                 any_traffic_unit: 'Any Traffic Unit',
-                arff: 'ARFF (Airport Fire Truck)',
-                battalion_chief_unit: 'Battalion Chief unit',
+                arff: 'CBA (Cami\xf3n de bomberos de aeropuerto)',
+                battalion_chief_unit: 'Unidad de Mando y Comunicaciones',
                 bike_police: 'DB-Bike',
-                boot: 'Light boats (General)',
+                boot: 'Botes (general)',
                 brush_air_command: 'Wildland Lead Planes',
                 brush_truck: 'Wildland fire engine',
                 brush_truck_1: 'Type 3 engine',
@@ -31024,14 +30313,17 @@ Object.values ||
                 damage_control: 'Damage Control Wagon',
                 detention_unit:
                     'Riot Police Detention Unit and Riot Police Detention Unit (large)',
-                division_chief_unit: 'Mobile Command Vehicle',
+                division_chief_unit: 'Unidad de mando',
                 dozer_trailer: 'Dozer Trailer',
                 drone: 'Any drone unit',
                 elw1_or_elw2:
-                    'Battalion Chief Unit, Mobile Command Vehicle or Mobile Command-Module',
+                    'Unidad de Mando y Comunicaciones, unidad de mando o m\xf3dulo de mando m\xf3vil ',
+                elw2_or_ab_elw:
+                    'Bomba de Rescate o Unidad de Apoyo de Rescate y Cami\xf3n de Bomberos',
                 elw3: 'Wildland MCCs',
                 elw_police: 'Police MCV',
-                emergency_ambulance: 'Emergency ambulance or Helicopter',
+                emergency_ambulance:
+                    'Ambulancia o helic\xf3ptero de emergencia',
                 emergency_welfare: 'Any Emergency Welfare Vehicle',
                 energy_supply: 'Energy Generator Trailer',
                 energy_supply_2: 'Large Energy Supply Trailer',
@@ -31042,30 +30334,30 @@ Object.values ||
                 fbi_unit: 'FBI Unit',
                 fire_aviation: 'Fire aviation',
                 fire_investigation: 'Fire Investigation Units',
-                fire_truck: 'Firetrucks',
-                fireboat: 'Large Fireboat',
+                fire_truck: 'Camiones de bomberos',
+                fireboat: 'Barco de bomberos grande',
                 flood_equipment: 'Flood Equipment',
-                fly_car: 'Fly-Car',
+                fly_car: 'Coche volador',
                 foam: 'Foam Vehicles',
                 foam_amount: 'Gallons of foam',
                 fustkw_or_civil_patrolcar: 'Police Car or Civil Patrolcar',
                 fustw_or_police_motorcycle: 'Patrol car or Police Motorcycle',
                 fwk: 'Fire Crane Equipment',
                 gefkw: 'DB-AV',
-                gkw: 'Utility Truck',
-                grtw: 'Mass Casualty Unit',
-                gw_gefahrgut: 'HazMat',
-                gw_hoehenrettung: 'GW-H\xf6henrettung',
-                gw_messtechnik: 'GW-Messtechnik',
-                gw_wasserrettung: 'Water Retention',
+                gkw: 'Cami\xf3n de usos m\xfaltiples',
+                grtw: 'Unidad para m\xfaltiples v\xedctimas',
+                gw_gefahrgut: 'Hazmat',
+                gw_hoehenrettung: 'Cami\xf3n de rescate en altura',
+                gw_messtechnik: 'Cami\xf3n de medici\xf3n',
+                gw_wasserrettung: 'Retenci\xf3n de agua',
                 gwl2wasser: 'Water Carrier or Major Foam Tender',
                 gwl2wasser_all: 'All Water Tankers',
-                gwl2wasser_only: 'Water Tankers',
+                gwl2wasser_only: 'Veh\xedculo con manguera',
                 hazmat_drone: 'Hazmat Drone',
                 heavy_air_tanker: 'Heavy air tanker',
                 height_rescue: 'Height Rescue Equipment',
                 helicopter_bucket: 'Helicopter bucket',
-                hems: 'HEMS',
+                hems: 'HSEM',
                 hint: {
                     foam_amount:
                         'Sum of foam in gallons. Example: if you enter 10000 - then only those vehicles will be selected that have a total of 10000 gallons of extinguishing foam.',
@@ -31074,27 +30366,30 @@ Object.values ||
                     rescue_dogs:
                         'The ARR selects vehicles until it has the entered number of rescue dogs or more.',
                 },
+                hlf_only: 'Veh\xedculo de rescate',
+                hlf_or_rw_and_lf:
+                    'Veh\xedculo de rescate o veh\xedculo de rescate pesado y cami\xf3n de bomberos',
                 hose_trucks: 'Hose Truck',
-                k9: 'K-9 Unit',
-                kdow_orgl: 'EMS Chief',
+                k9: 'Unidad canina',
+                kdow_orgl: 'Jefe de emergencias',
                 ktw_or_rtw_2: 'patient transport or ambulance',
                 large_coastal_boat: 'Large Coastal Boat',
-                lebefkw: 'Leichter Befehlskraftwagen (leBefKw)',
-                lf_only: 'Fire Trucks',
-                long_distance_ambulance: 'BLS ambulance',
-                mask_service_unit: 'Mobile Air Unit',
+                lebefkw: 'Veh\xedculo de mando ligero (leBefKw)',
+                lf_only: 'Camiones de bomberos',
+                long_distance_ambulance: 'Ambulancia SVB',
+                mask_service_unit: 'Unidad a\xe9rea',
                 mass_casualty_equipment:
                     'Mass Casualty Equipment or Medical Equipment Trailer',
                 mobile_shelter: 'Mobile shelter',
-                mtw: 'MTW',
+                mtw: 'Cami\xf3n de transporte',
                 municipal_police:
                     'Municipal Police Car or Municipal Police Van',
-                mzb: 'Light Multi-Purpose Boat',
+                mzb: 'Barco multiusos',
                 naw_or_critical_transport: 'NAW or critical transport',
-                nef_only: 'Ambulance',
-                oil_unit: 'GW-\xd6l',
+                nef_only: 'Ambulancia',
+                oil_unit: 'Cami\xf3n para fuegos de aceite',
                 police_boat: 'Police Boat',
-                police_car: 'Any Patrol Unit',
+                police_car: 'Coche patrulla',
                 police_car_3: 'NH-O',
                 police_car_or_service_group_leader:
                     'Patrol Car or Service Group Leader',
@@ -31103,35 +30398,34 @@ Object.values ||
                 police_horse_count: 'Police Horses',
                 police_motorcycle: 'Police Motorcycle',
                 police_spikes: 'Spike Strap Equipment',
-                polizeihubschrauber: 'Police helicopter',
+                polizeihubschrauber: 'Helic\xf3ptero de polic\xeda',
                 pump: 'Engine-Pumps',
                 pump_speed: 'Pump Capacity',
                 pump_speed_pump_only: 'Pump Capacity - Only Pumps',
                 quint_or_dlk_and_lf: 'Quint or Platform Truck and Fire Engine',
-                rescue_vehicle: 'Any Heavy Rescue unit',
-                rescue_vehicle_only: 'Heavy Rescue',
-                rescueboat: 'Large Rescue Boat',
+                rescue_vehicle: 'Furgones de \xdatiles Varios',
+                rescue_vehicle_only: 'Furg\xf3n de \xdatiles Varios',
+                rescueboat: 'Barco de rescate grande',
                 riot_police: 'Riot Police Van or Riot Police Bus',
                 road_rescue_or_fire_engine: 'Road Rescue or Fire Engine',
-                rth_only: 'Helicopter',
-                schlauchwagen: 'Water Tanker or Foam Tender',
+                rth_only: 'Helic\xf3ptero',
+                schlauchwagen: 'Cami\xf3n cisterna',
                 search_and_rescue: 'SAR Equipments',
                 sheriff_unit: 'Police Supervisor / Sheriff',
                 smoke_jumper: 'Smoke Jumper Planes',
-                swat: 'SWAT',
-                swat_armored_vehicle: 'SWAT Armoured Vehicle',
-                swat_suv: 'SWAT SUV',
+                swat: 'Fuerzas especiales (GEO)',
+                swat_armored_vehicle: 'Veh\xedculo blindado de los GEO',
+                swat_suv: 'Todoterreno de los GEO',
                 technical_rescue: 'Technical Rescue Equipment',
-                thw_mtw:
-                    'Mannschaftstransportwagen Technischer Zug (MTW-TZ - THW)',
-                thw_mzkw: 'Mehrzweckkraftwagen (MzKW)',
-                thw_tauchkraftwagen: 'Dive Team',
-                tlf_only: 'Tanker Truck',
+                thw_mtw: 'Cami\xf3n de transporte t\xe9cnico',
+                thw_mzkw: 'Veh\xedculo multiusos',
+                thw_tauchkraftwagen: 'Equipo de buceo',
+                tlf_only: 'Cami\xf3n cisterna',
                 traffic_car:
                     'Traffic Car, Fast Traffic Car, Traffic Motorcycle and Road Rescue',
                 traffic_patrol: 'Any Traffic Patrol Unit',
                 trailers: { pump: 'Pump Trailer' },
-                turntable_ladder: 'Platform trucks',
+                turntable_ladder: 'Cami\xf3n AE',
                 ventilation: 'Ventilation Units',
                 water_amount: 'Gallons of water',
                 water_amount_tlf_water_carrier:
@@ -31145,7 +30439,7 @@ Object.values ||
             },
         },
         javascript: {
-            alarm: 'Dispatch',
+            alarm: 'Enviar',
             alliance_event_pay_out_message:
                 'Complete all missions with your alliance to earn a bonus!',
             alliance_event_resource: {
@@ -31154,15 +30448,15 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 christmas: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 easter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 halloween: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 info_bubble_text:
@@ -31176,267 +30470,272 @@ Object.values ||
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 summer: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 valentinesday: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
                 winter: {
-                    currency: 'Event Tickets',
+                    currency: 'Entradas',
                     event_start_mission: 'Start Event: %{amount} Event Ticket',
                 },
             },
-            arrival: 'Arrival',
-            backalarm: 'Cancel',
-            coins: 'Coins',
-            collapse: 'Collapse',
-            credits: 'Credits',
+            arrival: 'Llegada',
+            backalarm: 'Cancelar',
+            coins: 'Monedas',
+            collapse: 'Colapso',
+            credits: 'Cr\xe9ditos',
             current_reward_for_you:
                 '<b>Your current reward:</b> %{credits} Credits & %{event_currency} Event Credits',
-            day: 'day',
-            days: 'days',
+            day: 'd\xeda',
+            days: 'd\xedas',
             event: {
                 alliance_missions_completed:
                     '<b>Completed Missions:</b> %{completedMissionsByAlliance}/%{missionsInEvent}',
                 alliance_missions_participated:
                     '<b>Participated Missions:</b>  %{completedMissions}',
             },
-            few_seconds: 'in few seconds',
-            finish_in: 'Finish in:',
+            few_seconds: 'en pocos segundos',
+            finish_in: 'Termina en:',
             foam_approaching: 'Approaching: %{amount} gal.',
             foam_missing: 'Missing: %{amount} gal.',
             foam_on_site: 'On scene: %{amount} gal.',
-            foam_process: 'Foam Needed',
+            foam_process: 'Se necesita espuma',
             foam_selected: 'Selected: %{amount} gal.',
             helpshift: {
                 confirm_close_bubble:
-                    'Do you really want to dismiss support chat? You can always reopen it from the help-menu',
+                    '\xbfDe verdad quieres cerrar el chat de ayuda? Siempre puedes reabrirlo desde el men\xfa de ayuda',
             },
             hours: 'H',
-            location_not_found: 'Not found',
-            messages: 'Messages',
+            location_not_found: 'No encontrado',
+            messages: 'Mensajes',
             minutes: 'min.',
-            missed_vehicle: 'It lacks:',
-            mission_start_in: 'Starts in:',
-            new: 'New',
-            not_found_map: "The vehicle hasn't been found on the map",
+            missed_vehicle: 'Falta:',
+            mission_start_in: 'Comienza en:',
+            new: 'Nuevo',
+            not_found_map: 'No se ha encontrado el veh\xedculo en el mapa',
             not_qualified:
-                '<b>Not qualified:</b> Participate in a mission to earn the reward',
-            now: 'Now',
-            patient: 'Patient',
-            patient_untouched: 'Untreated patients',
+                '<b>No cualificado:</b> Participa en una misi\xf3n para ganar la recompensa.',
+            now: 'Ahora',
+            patient: 'Paciente',
+            patient_untouched: 'Pacientes no tratados',
             payout_received:
                 '<b>Your have received:</b> %{credits} Credits & %{event_currency} Event Credits',
-            poi_delete: 'Are you sure you want to delete the POI: %{caption}?',
+            poi_delete: '\xbfSeguro que quieres eliminar el PI %{caption}?',
             pump_speed_approaching: 'Approaching: %{amount} GPM',
             pump_speed_missing: 'Missing: %{amount} GPM',
             pump_speed_on_site: 'On scene: %{amount} GPM',
-            pump_speed_process: 'Water Damage Pump Process',
+            pump_speed_process:
+                'Proceso de bombeo de da\xf1os causados por el agua',
             pump_speed_selected: 'Selected: %{amount} GPM',
-            qualified: '<b>Qualified:</b> You took part in the event',
-            reload: 'Reload',
-            sale: 'Sale',
-            sale_ended: 'Sale ended',
-            secounds: 'sec.',
-            show_all: 'Show All',
-            show_less: 'Show Less',
+            qualified: '<b>Calificado:</b> Ha participado en el evento',
+            reload: 'Recargar',
+            sale: 'Rebajas',
+            sale_ended: 'Oferta finalizada',
+            secounds: 'seg.',
+            show_all: 'Mostrar todo',
+            show_less: 'Mostrar menos',
             show_more: 'Show More',
             sicherheitswache_error:
-                'The security guard "%{caption}" was not successful, because not all the criteria were met.',
+                'El guardia de seguridad %{caption} no ha completado su misi\xf3n, ya que no se han cumplido todos los criterios.',
             sicherheitswache_success:
-                'The security guard "%{caption}" has been successfully carried out. Receive %{credits} Credits.',
+                'El guardia de seguridad %{caption} ha completado su misi\xf3n. Recibes %{credits} cr\xe9ditos.',
             start_alliance_mission_new: {
-                one: 'Start %{count} mission (%{price} Coins)',
-                other: 'Start %{count} missions (%{price} Coins)',
+                one: 'Iniciar %{count} misi\xf3n (%{price} Monedas)',
+                other: 'Iniciar %{count} misiones (%{price} Monedas)',
             },
-            start_in: 'Start in: ',
-            start_username: 'Starter:',
-            time_left: 'Time left:',
-            to_building: 'View Building',
+            start_in: 'Comienza en: ',
+            start_username: 'Usuario:',
+            time_left: 'Tiempo restante:',
+            to_building: 'Ver edificio',
             to_event: 'Back to events',
-            to_mission: 'View Mission',
+            to_mission: 'Ver misi\xf3n',
             total_credits_earned: '<b>Total credits earned:</b>',
             total_event_currency_earned: '<b>Total event credits earned:</b>',
-            understand: 'Acknowledge',
-            user_not_found: 'The player was not found.',
+            understand: 'Recibido',
+            user_not_found: 'No se ha encontrado al jugador.',
             vehicle_payload: {
                 apply_payload: 'Apply Payload',
                 change_payload: 'Change Payload',
                 equipment_unavailable: 'Equipment unavailable',
             },
-            vehicles_not_visible: 'Vehicles not visible. ',
+            vehicles_not_visible: 'Los veh\xedculos no est\xe1n visibles. ',
             water_approaching: 'Approaching: %{amount} gal.',
             water_missing: 'Missing: %{amount} gal.',
             water_on_site: 'On scene: %{amount} gal.',
-            water_process: 'Water needed',
+            water_process: 'Agua necesaria',
             water_pumping_process: 'Water pumping process',
             water_selected: 'Selected: %{amount} gal.',
         },
         map: {
-            alliance: 'Alliance',
+            alliance: 'Alianza',
             alliance_chat: 'Chat',
             alliance_chat_banned:
-                'You are currently banned from the alliance chat.',
-            alliance_chat_banned_admin: 'Banned by:',
-            alliance_chat_banned_timeleft: 'Time remaining:',
-            alliance_chat_radio_off: 'Alliance Radio: Off',
-            alliance_chat_radio_on: 'Alliance Radio: On',
-            alliance_event: 'Event',
-            alliance_missions: 'Alliance Missions',
-            alliance_missions_event: 'Event',
-            alliance_missions_post_loading: 'Alliance Missions are loading...',
-            ambulance: 'Patient transports',
-            anti_abuse_active_link: 'Click here for more information.',
+                'Tienes prohibido entrar al chat de la alianza.',
+            alliance_chat_banned_admin: 'Prohibici\xf3n emitida por:',
+            alliance_chat_banned_timeleft: 'Tiempo restante:',
+            alliance_chat_radio_off: 'Radio de la alianza: No',
+            alliance_chat_radio_on: 'Radio de la alianza: S\xed',
+            alliance_event: 'Evento',
+            alliance_missions: 'Misiones de alianza',
+            alliance_missions_event: 'Evento',
+            alliance_missions_post_loading:
+                'Las misiones de la Alianza se est\xe1n cargando...',
+            ambulance: 'Transporte de pacientes',
+            anti_abuse_active_link:
+                'Haz clic aqu\xed para obtener m\xe1s informaci\xf3n.',
             anti_abuse_active_text:
-                'Missions will be generated within an extended radius of 100km, since too many stations of the same type are built too close to each other.',
-            cancel_alliance_event: 'Cancel alliance event',
+                'Las misiones se generar\xe1n en un radio ampliado de 100\xa0km, ya que hay construidas demasiadas estaciones del mismo tipo muy pr\xf3ximas entre s\xed.',
+            cancel_alliance_event: 'Cancelar evento de alianza',
             cancel_alliance_event_confirm:
-                'Do you really want to cancel the alliance event?',
-            chat_history: 'Chat History',
-            congratulations: 'Congratulations! You can now be promoted.',
-            create_alliance_event: 'Start alliance event',
-            create_alliance_operation: 'Create a large scale alliance mission',
-            emergency: 'Emergency',
+                '\xbfSeguro que quieres cancelar el evento de alianza?',
+            chat_history: 'Historial de chat',
+            congratulations: '\xa1Enhorabuena! Puedes ascender.',
+            create_alliance_event: 'Comenzar evento de alianza',
+            create_alliance_operation:
+                'Crea una misi\xf3n de alianza a gran escala',
+            emergency: 'Emergencia',
             join_alliance_infos:
-                'If you are in an alliance, other players can freely give you missions.',
+                'Si est\xe1s en una alianza, otros jugadores podr\xe1n ofrecerte misiones.',
             legacy_client_notice:
                 'ONLY iOS & ANDROID USERS:<br>\nIf you are using the legacy app or an old version, please make sure to update to our updated app version. The old versions might cause problems in the future with core functions and logins.<br>\nAndroid:\xa0%{google_store_link} <br>iOS:\xa0%{ios_store_link}',
-            map: 'Map',
+            map: 'Mapa',
             map_filters: {
-                all_buildings: 'Buildings',
-                all_missions: 'Missions',
-                alliance_buildings: 'Alliance Buildings',
-                alliance_members: 'Members',
-                alliance_missions: 'Shared by Alliance',
-                ambulance_station_missions: 'Ambulance Station',
+                all_buildings: 'Edificios',
+                all_missions: 'Misiones',
+                alliance_buildings: 'Edificios de la alianza',
+                alliance_members: 'Miembros',
+                alliance_missions: 'Compartido por la alianza',
+                ambulance_station_missions: 'Parque de ambulancias',
                 ambulance_station_small_missions:
-                    'Ambulance station (Small station)',
-                building_complex: 'Building Complex',
-                buildings_section: 'Stations',
-                clinic_missions: 'Clinic',
+                    'Parque de ambulancias (peque\xf1o)',
+                building_complex: 'Complejo de edificios',
+                buildings_section: 'Instalaciones',
+                clinic_missions: 'Cl\xednica',
                 coastal_rescue: 'Coastal Rescue',
                 coastal_rescue_missions: 'Coastal Rescue',
-                dispatch_center_missions: 'Dispatch Center',
+                dispatch_center_missions: 'Centralita',
                 factory_fire_brigade_missions: 'Factory Fire Brigade',
                 federal_police_missions: 'Federal Police Station',
-                fire_school_missions: 'Fire academy',
-                firehouse_missions: 'Fire Station',
-                firehouse_small_missions: 'Fire Station (Small)',
+                fire_school_missions: 'Academia de bomberos',
+                firehouse_missions: 'Parque de bomberos',
+                firehouse_small_missions: 'Parque de bomberos (peque\xf1o)',
                 hospital_missions: 'Hospital',
-                map_filters: 'Map filters list',
-                mission_positions: 'Points of Interest (POIs)',
-                mission_positions_section: 'POIs',
-                missions_section: 'Missions',
-                police_copter_station_missions: 'Police Aviation',
+                map_filters: 'Lista de filtros de mapa',
+                mission_positions: 'Puntos de inter\xe9s (PI)',
+                mission_positions_section: 'PI',
+                missions_section: 'Misiones',
+                police_copter_station_missions: 'Helipuerto policial',
                 police_depot: 'Police Depot',
                 police_horse: 'Horse Stable',
-                police_school_missions: 'Police academy',
-                police_small_missions: 'Police station (Small station)',
-                police_special_forces: 'Police special forces',
-                police_station_missions: 'Police station',
-                prison_missions: 'Prison',
-                rapid_deployment_group: 'Rapid Setup Group (SEG)',
+                police_school_missions: 'Academia de polic\xeda',
+                police_small_missions:
+                    'Comisar\xeda de polic\xeda (peque\xf1o)',
+                police_special_forces: 'Fuerzas especiales de la polic\xeda',
+                police_station_missions: 'Comisar\xeda de polic\xeda',
+                prison_missions: 'Prisi\xf3n',
+                rapid_deployment_group:
+                    'Grupo de preparaci\xf3n r\xe1pida (GPR)',
                 rapid_deployment_group_missions: 'Rapid Deployment Group',
-                rescue_copter_station_missions: 'Medical helicopter station',
-                riot_police: 'Riot police',
-                riot_police_missions: 'Riot Police',
-                staging_area_missions: 'Staging area',
+                rescue_copter_station_missions: 'Helipuerto m\xe9dico',
+                riot_police: 'Polic\xeda antidisturbios',
+                riot_police_missions: 'Polic\xeda antidisturbios',
+                staging_area_missions: 'Zona de preparaci\xf3n',
                 swat_missions: 'GIGN',
                 technical_aid: 'Technical Aid Station',
                 technical_aid_missions: 'Technical Aid Missions',
-                technical_aid_organization: 'THW',
+                technical_aid_organization: 'SAT',
                 technical_aid_organization_missions:
                     'Technical Aid Organization',
-                technical_aid_organization_school: 'THW Bundesschule',
+                technical_aid_organization_school: 'Academia SAT',
                 tow_trucks: 'Tow Truck Stations',
                 tow_trucks_missions: 'Tow Trucks',
-                user_buildings: 'My buildings',
-                user_missions: 'My missions',
-                water_watch: 'Water rescue',
-                water_watch_missions: 'Water Rescue',
+                user_buildings: 'Mis edificios',
+                user_missions: 'Mis misiones',
+                water_watch: 'Rescate acu\xe1tico',
+                water_watch_missions: 'Rescate acu\xe1tico',
             },
-            message: 'Message',
-            mission: 'Missions',
+            message: 'Mensaje',
+            mission: 'Misiones',
             mission_filters: {
-                alliance_missions: 'Alliance Missions',
-                alliance_missions_event: 'Event',
-                alliance_shared_missions: 'Shared by Alliance',
-                ambulance: 'Patient transports',
-                attended: 'Attended Missions',
-                attended_description: 'Attended, Not all conditions fulfilled',
+                alliance_missions: 'Misiones de alianza',
+                alliance_missions_event: 'Evento',
+                alliance_shared_missions: 'Compartido por la alianza',
+                ambulance: 'Transporte de pacientes',
+                attended: 'Misiones a las que ha asistido',
+                attended_description:
+                    'Asistidos, No se cumplen todas las condiciones',
                 dropdown_collapsed_description:
-                    'Menu containing mission filters - closed',
+                    'Men\xfa con filtros de misi\xf3n - cerrado',
                 dropdown_open_description:
-                    'Menu containing mission filters - open',
-                emergency: 'Emergency',
-                finishing: 'Missions in progress',
+                    'Men\xfa que contiene los filtros de misi\xf3n - abrir',
+                emergency: 'Emergencia',
+                finishing: 'Misiones en curso',
                 finishing_description:
-                    'Missions in Progress, All conditions fulfilled',
-                new: 'New Missions',
-                new_description: 'New Missions that have not been opened yet',
-                showing: 'Showing:',
-                sicherheitswache: 'Planned Appearances',
+                    'Misiones en curso, todas las condiciones cumplidas',
+                new: 'Nuevas misiones',
+                new_description: 'Nuevas misiones que a\xfan no se han abierto',
+                showing: 'Visible:',
+                sicherheitswache: 'Misones planificadas',
                 sorting: {
-                    age_asc: 'Oldest (Shared)',
-                    age_desc: 'Newest (Shared)',
-                    caption_asc: 'A to Z',
-                    caption_desc: 'Z to A',
-                    created_at_asc: 'Oldest',
-                    created_at_desc: 'Newest',
-                    credits_asc: 'Min Credits',
-                    credits_desc: 'Max Credits',
-                    patients_desc: 'Patients',
-                    prisoners_desc: 'Prisoners',
+                    age_asc: 'El m\xe1s antiguo (Publicado)',
+                    age_desc: 'Lo m\xe1s nuevo (Publicado)',
+                    caption_asc: 'A a la Z',
+                    caption_desc: 'Z a A',
+                    created_at_asc: 'El m\xe1s antiguo',
+                    created_at_desc: 'Lo m\xe1s nuevo',
+                    credits_asc: 'Cr\xe9ditos m\xednimos',
+                    credits_desc: 'Cr\xe9ditos m\xe1ximos',
+                    patients_desc: 'Pacientes',
+                    prisoners_desc: 'Presos',
                 },
-                started: 'Started Missions',
-                started_description:
-                    'Missions that have been started, but not completed',
-                unattended: 'Unattended Missions',
-                unattended_description: 'Unattended Missions',
+                started: 'Misiones iniciadas',
+                started_description: 'Misiones iniciadas pero no completadas',
+                unattended: 'Misiones desatendidas',
+                unattended_description: 'Misiones desatendidas',
             },
             mission_speed: {
                 premium_alert: {
                     description:
-                        'You need to have a premium account for this feature.',
-                    title: 'Mission speed could not be selected',
+                        'Necesitas tener una cuenta Premium para esta funci\xf3n.',
+                    title: 'No se ha podido seleccionar la velocidad de la misi\xf3n',
                 },
             },
             missions_filtered_out:
-                'Some missions might be filtered out. Please, check your map filters.',
-            missions_post_loading: 'Missions are loading...',
-            no_alliance_chat_impossible:
-                'The Chat is a great way to link up with other more experienced players.\xa0They can both answer your questions and help you by giving you access to buildings like Hospitals and Schools',
-            no_alliance_missions: 'There are currently no alliance missions.',
+                'Algunas misiones pueden ser filtradas. Por favor, revise los filtros de su mapa.',
+            missions_post_loading: 'Las misiones se est\xe1n cargando...',
+            no_alliance_chat_impossible: 'No est\xe1s en una alianza.',
+            no_alliance_missions: 'No hay misiones de alianza.',
             no_alliance_missions_join:
-                'Participating in alliance missions will reward you with Credits - no matter what type of vehicle you send. By joining an alliance you can do both, share your own missions to get help from experienced alliance members and participate in other\u2019s shared missions for extra rewards.',
+                'Participar en las misiones de la alianza te recompensar\xe1 con cr\xe9ditos, independientemente del tipo de veh\xedculo que env\xedes. Al unirte a una alianza puedes hacer ambas cosas, compartir tus propias misiones para obtener ayuda de miembros experimentados de la alianza y participar en las misiones compartidas de otros para obtener recompensas extra.',
             no_ambulance_missions:
-                'There are no patient transports. Patient transports can only occur when you have an ambulance and a hospital.',
+                'No hay transportes para pacientes. Estar\xe1n disponibles en cuanto poseas un veh\xedculo SVB y un hospital.',
             no_critical_transport_missions:
-                'There are no Interfacillity transports. They can only occur when you have a CCTU and 2 hospitals with patients in treatment.',
+                'No hay Transporte cr\xedtico. S\xf3lo pueden producirse cuando se tiene una Ambulancia SVA y 2 hospitales con pacientes en tratamiento.',
             no_emergency_missions:
-                'There are no emergency missions available. An emergency mission can occur after you made your first station.',
-            no_radio_messages: "You didn't receive any radio messages.",
+                'No hay misiones de emergencia disponibles. Solo habr\xe1 misiones de emergencia despu\xe9s de que construyas tu primera instalaci\xf3n.',
+            no_radio_messages: 'No has recibido mensajes de radio.',
             post_loading_error:
-                'Something went wrong! Please try again and press the reload button.',
+                'Algo ha ido mal. Por favor, int\xe9ntelo de nuevo y pulse el bot\xf3n de recarga.',
             radio_messages: 'Radio',
-            restore_map: 'Restore Map',
-            retry: 'Reload',
+            restore_map: 'Restaurar mapa',
+            retry: 'Recargar',
             server_warning:
-                'Server maintenance at 18:00 EDT. 6h downtime expected.',
+                'Mantenimiento del servidor a las 00:00. Se espera un tiempo de inactividad de 6 horas.',
             show_informations:
-                "Green = The missions are shown in the list. Red = The missions aren't shown.",
-            sicherheitswache: 'Planned Appearances',
-            sorting_default: 'Default',
-            sorting_label: 'Sort by:',
-            transport: 'Transport',
+                'Verde: las misiones se mostrar\xe1n en la lista. Rojo: las misiones no se mostrar\xe1n.',
+            sicherheitswache: 'Misones planificadas',
+            sorting_default: 'Por defecto',
+            sorting_label: 'Ordenar por:',
+            transport: 'Transporte',
         },
         mission: {
-            needed_other: 'We are missing',
-            needed_personnel: 'Missing Personnel',
-            needed_vehicles: 'Missing Vehicles',
-            type: { alert: 'Dispatch' },
+            needed_other: 'Nos falta',
+            needed_personnel: 'Personal desaparecido',
+            needed_vehicles: 'Veh\xedculos desaparecidos',
+            type: { alert: 'Enviar' },
         },
         number: {
             format: {
@@ -31469,34 +30768,34 @@ Object.values ||
                     browser: {
                         build_building: {
                             add_name:
-                                'Choose a name for your station. You can rename it later.',
+                                'Seleccione un nombre para su edificio. Puedes cambiarle el nombre m\xe1s tarde.',
                             build_with_credits:
-                                'To build a station you need credits, the currency of the game. You can earn credits through missions, daily logins, tasks and events.',
+                                'Para construir un edificio necesitas cr\xe9ditos, la moneda del juego. Puedes ganar cr\xe9ditos a trav\xe9s de misiones, inicios de sesi\xf3n diarios, completando tareas y eventos.',
                             new_building:
-                                'Start the building process of your station.',
+                                'Inicie el proceso de construcci\xf3n de su edificio.',
                             select_building:
-                                'Decide if you want to build a fire station or a police station. In the beginning small stations are sufficient. You can upgrade them to normal stations later.',
+                                'Decide si quieres construir un parque de bomberos o una comisar\xeda de polic\xeda. Al principio son suficientes edificios peque\xf1os. Podr\xe1s actualizarlos a edificios normales m\xe1s adelante.',
                             select_position:
-                                'Move the location marker to the location where you want the station to be.',
+                                'Mueve el marcador al lugar exacto de tu edificio.',
                         },
                         pick_location:
-                            'Pick a location where you want to build your first station.',
+                            'Elija una ubicaci\xf3n donde desee construir su primer edificio.',
                         welcome:
-                            'Welcome to Mission Chief! Working in a dispatch centre for emergency services you deal with emergency calls to help and protect the public. In order to so, you build stations and send out several types of vehicles and trained personnel to various missions.',
+                            '\xa1Bienvenidos a Centro de Mando! Al trabajar en un centro de despacho de servicios de emergencia, usted atiende llamadas de emergencia para ayudar y proteger a la ciudadan\xeda. Para ello, construyes edificios y env\xedas varios tipos de veh\xedculos y personal capacitado a una variedad de misiones.',
                     },
                     mobile: {
                         build_building: {
                             add_name:
-                                'Choose a name for your station. You can rename it later.',
+                                'Seleccione un nombre para su edificio. Puedes cambiarle el nombre m\xe1s tarde.',
                             build_with_credits:
-                                'To build a station you need credits, the currency of the game. You can earn credits through missions, daily logins, tasks and events.',
+                                'Para construir un edificio necesitas cr\xe9ditos, la moneda del juego. Puedes ganar cr\xe9ditos a trav\xe9s de misiones, inicios de sesi\xf3n diarios, completando tareas y eventos.',
                             new_building:
-                                'Begin with building your first station. You can choose its location by entering it manually or by moving the location marker on the map. Depending on your operating system, you might have to hold the marker for a while before you can move it.',
+                                'Comience construyendo su primer edificio. Puede seleccionar su ubicaci\xf3n indicandola manualmente o moviendo el marcador de ubicaci\xf3n en el mapa. Dependiendo de su sistema operativo, es posible que deba mantener presionado el marcador por un tiempo antes de poder moverlo.',
                             select_building:
-                                'Decide if you want to build a fire station or a police station. In the beginning small stations are sufficient. You can upgrade them to normal stations later.',
+                                'Decide si quieres construir un parque de bomberos o una comisar\xeda de polic\xeda. Al principio son suficientes edificios peque\xf1os. Podr\xe1s actualizarlos a edificios normales m\xe1s adelante.',
                         },
                         welcome:
-                            'Welcome to Mission Chief! Working in a dispatch centre for emergency services you deal with emergency calls to help and protect the public. In order to so, you build stations and send out several types of vehicles and trained personnel to various missions.',
+                            '\xa1Bienvenidos a Centro de Mando! Al trabajar en un centro de despacho de servicios de emergencia, usted atiende llamadas de emergencia para ayudar y proteger a la ciudadan\xeda. Para ello, construyes edificios y env\xedas varios tipos de veh\xedculos y personal capacitado a una variedad de misiones.',
                     },
                     tooltip: {
                         ambulance_station: {
@@ -31635,75 +30934,75 @@ Object.values ||
                     detail: {
                         browser: {
                             dispatch_menu:
-                                'This is the dispatch window. Here you can send vehicles on missions.',
+                                'Esta es la ventana de gesti\xf3n de la emergencia. Aqu\xed puedes enviar veh\xedculos a misiones.',
                             dispatch_menu_buttons:
-                                'Send a vehicle to a mission by clicking the dispatch button. As soon as you have more missions you can use the button next to it to additionaly go to the next mission.',
+                                'Env\xeda un veh\xedculo a una misi\xf3n haciendo clic en el bot\xf3n de env\xedo. Tan pronto como tengas m\xe1s misiones podr\xe1s usar el bot\xf3n siguiente para pasar a la siguiente misi\xf3n.',
                             dispatch_menu_mission_general:
-                                'Here you can find general information about the mission. As long as you are not involved in the mission, <span class="glyphicon glyphicon-asterisk"></span> is displayed in front of the mission name, <span class="glyphicon glyphicon-user"></span> as soon as you have sent the first vehicle.',
+                                'Aqu\xed podr\xe1s encontrar informaci\xf3n general sobre la misi\xf3n. Siempre que no est\xe9s involucrado en la misi\xf3n, aparecer\xe1 frente a ella <span class="glyphicon glyphicon-asterisk"></span>, una vez que hayas enviado el primer veh\xedculo <span class="glyphicon glyphicon-user"></span>.',
                             dispatch_menu_mission_progress:
-                                'Here you can see the progress of the mission. As soon as personnel is on site, they get displayed here and you can see how much time is still needed for completing the mission.',
+                                'Aqu\xed puedes ver el progreso de la misi\xf3n. Aqu\xed puedes ver qu\xe9 veh\xedculos est\xe1n en el lugar y cu\xe1nto tiempo queda para completar la misi\xf3n.',
                             dispatch_menu_mission_specific:
-                                'Here you can see which vehicles are on their way to or at the mission. The number in front of a vehicle indicates its deployment status.',
+                                'Aqu\xed puede ver qu\xe9 veh\xedculos se encuentran en camino hacia o en el lugar de la misi\xf3n. El n\xfamero delante de su veh\xedculo muestra su estado.',
                             dispatch_menu_vehicle_list:
-                                'Here you can see all vehicles available for the mission. Select a vehicle by clicking on the check box next to it.',
+                                'Aqu\xed puede ver todos los veh\xedculos disponibles para la misi\xf3n. Seleccione un veh\xedculo haciendo clic en la casilla de verificaci\xf3n junto a \xe9l.',
                         },
                         mobile: {
                             dispatch_menu:
-                                'This is the dispatch window. Here you can send vehicles on missions.',
+                                'Esta es la ventana de gesti\xf3n de la emergencia. Aqu\xed puedes enviar veh\xedculos a misiones.',
                             dispatch_menu_buttons:
-                                'Send a vehicle to a mission by clicking the dispatch button. As soon as you have more missions you can use the button next to it to additionaly go to the next mission.',
+                                'Env\xeda un veh\xedculo a una misi\xf3n haciendo clic en el bot\xf3n de env\xedo. Tan pronto como tengas m\xe1s misiones podr\xe1s usar el bot\xf3n siguiente para pasar a la siguiente misi\xf3n.',
                             dispatch_menu_mission_general:
-                                'Here you can find general information about the mission. As long as you are not involved in the mission, <span class="glyphicon glyphicon-asterisk"></span> is displayed in front of the mission name, <span class="glyphicon glyphicon-user"></span> as soon as you have sent the first vehicle.',
+                                'Aqu\xed podr\xe1s encontrar informaci\xf3n general sobre la misi\xf3n. Siempre que no est\xe9s involucrado en la misi\xf3n, aparecer\xe1 frente a ella <span class="glyphicon glyphicon-asterisk"></span>, una vez que hayas enviado el primer veh\xedculo <span class="glyphicon glyphicon-user"></span>.',
                             dispatch_menu_mission_progress:
-                                'Here you can see the progress of the mission. As soon as personnel is on site, they get displayed here and you can see how much time is still needed for completing the mission.',
+                                'Aqu\xed puedes ver el progreso de la misi\xf3n. Aqu\xed puedes ver qu\xe9 veh\xedculos est\xe1n en el lugar y cu\xe1nto tiempo queda para completar la misi\xf3n.',
                             dispatch_menu_mission_specific:
-                                'Here you can see which vehicles are on their way to or at the mission. The number in front of a vehicle indicates its deployment status.',
+                                'Aqu\xed puede ver qu\xe9 veh\xedculos se encuentran en camino hacia o en el lugar de la misi\xf3n. El n\xfamero delante de su veh\xedculo muestra su estado.',
                             dispatch_menu_vehicle_list:
-                                'Here you can see all vehicles available for the mission. Select a vehicle by clicking on the check box next to it.',
+                                'Aqu\xed puede ver todos los veh\xedculos disponibles para la misi\xf3n. Seleccione un veh\xedculo haciendo clic en la casilla de verificaci\xf3n junto a \xe9l.',
                         },
                     },
                     overview: {
                         browser: {
                             dispatch_button:
-                                'Attend to the mission by first clicking on the "Dispatch" button.',
+                                'Haga clic en el bot\xf3n "Enviar" para realizar la misi\xf3n.',
                             first_mission:
-                                'Your first building is ready. You also received your first mission!',
+                                'Tu primer edificio est\xe1 listo. \xa1Tambi\xe9n recibiste tu primera misi\xf3n!',
                         },
                         mobile: {
                             dispatch_button:
-                                'Attend to the mission by first clicking on the "Dispatch" button.',
+                                'Haga clic en el bot\xf3n "Enviar" para realizar la misi\xf3n.',
                             first_mission:
-                                'Your first building is ready. You also received your first mission!',
+                                'Tu primer edificio est\xe1 listo. \xa1Tambi\xe9n recibiste tu primera misi\xf3n!',
                         },
                     },
                 },
                 rewards: {
                     browser: {
                         general:
-                            'You are now ready to start taking care of missions on your own. To help you get started with your missions and expansion, you receive %{coins} coins. Good luck!',
+                            'Ahora est\xe1 listo para ocuparse usted mismo de su misi\xf3n. Para ayudarte a comenzar con tus misiones y expansi\xf3n, recibes %{coins} monedas. \xa1Buena suerte!',
                     },
                     mobile: {
                         general:
-                            'You are now ready to start taking care of missions on your own. To help you get started with your missions and expansion, you receive %{coins} coins. Good luck!',
+                            'Ahora est\xe1 listo para ocuparse usted mismo de su misi\xf3n. Para ayudarte a comenzar con tus misiones y expansi\xf3n, recibes %{coins} monedas. \xa1Buena suerte!',
                     },
                 },
                 tips: {
                     browser: {
                         contact:
-                            'If you upgrade your stations, you get space for new vehicles.',
+                            'Si amplia su edificio, tendr\xe1 m\xe1s lugares para veh\xedculos nuevos.',
                         general:
-                            'You will receive credits for finishing a mission. By earning credits you get closer to a promotion.',
+                            'Recibir\xe1s cr\xe9ditos por terminar una misi\xf3n. Al ganar cr\xe9ditos te acercas a tu pr\xf3ximo ascenso.',
                         join_alliance:
-                            'Promotions and building stations unlock new features like mission types or vehicles.',
+                            'Obtener un ascenso a un nuevo rango y construir edificios desbloquea nuevas caracter\xedsticas como tipos de misiones y veh\xedculos.',
                         no_ambulance_missions: {
                             helpshift_id: '1884',
-                            link: 'https://xyrality.helpshift.com/hc/en/23-mission-chief/faq/1884-how-do-patient-transport-missions-work/',
-                            short: 'How do patient transport missions work?',
+                            link: 'https://xyrality.helpshift.com/hc/es/23-mission-chief/faq/1884-how-do-patient-transport-missions-work/',
+                            short: '\xbfC\xf3mo funcionan las misiones de transporte de pacientes?',
                         },
                         no_critical_transport_missions: {
                             helpshift_id: '1885',
-                            link: 'https://xyrality.helpshift.com/hc/en/23-mission-chief/faq/1885-how-do-critical-transport-missions-work/',
-                            short: 'How do critical transport missions work?',
+                            link: 'https://xyrality.helpshift.com/hc/es/23-mission-chief/faq/1885-how-do-critical-transport-missions-work/',
+                            short: '\xbfC\xf3mo funcionan las misiones de transporte cr\xedtico?',
                         },
                         radio: {
                             helpshift_id: '1540',
@@ -31711,22 +31010,22 @@ Object.values ||
                             short: 'The radio displays status updates of your vehicles. For more detailed information on each status click here.',
                         },
                         summary:
-                            'You can join an alliance to solve missions together with others. There are also regular alliance events in which all members can participate!',
+                            'Puedes unirte a una alianza para realizar misiones con otros jugadores. Tambi\xe9n hay eventos de alianza regulares en los que puedes participar.',
                     },
                     daily_bonus: {
                         helpshift_id: '1829',
-                        link: 'https://xyrality.helpshift.com/hc/en/23-mission-chief/faq/1829-what-is-the-daily-login-bonus/',
-                        short: 'What is the Daily login bonus?',
+                        link: 'https://xyrality.helpshift.com/hc/es/23-mission-chief/faq/1829-what-is-the-daily-login-bonus/',
+                        short: '\xbfQu\xe9 es el bono de inicio de sesi\xf3n diario?',
                     },
                     mobile: {
                         contact:
-                            'If you upgrade your stations, you get space for new vehicles.',
+                            'Si amplia su edificio, tendr\xe1 m\xe1s lugares para veh\xedculos nuevos.',
                         general:
-                            'You will receive credits for finishing a mission. By earning credits you get closer to a promotion.',
+                            'Recibir\xe1s cr\xe9ditos por terminar una misi\xf3n. Al ganar cr\xe9ditos te acercas a tu pr\xf3ximo ascenso.',
                         join_alliance:
-                            'Promotions and building stations unlock new features like mission types or vehicles.',
+                            'Obtener un ascenso a un nuevo rango y construir edificios desbloquea nuevas caracter\xedsticas como tipos de misiones y veh\xedculos.',
                         summary:
-                            'You can join an alliance to solve missions together with others. There are also regular alliance events in which all members can participate!',
+                            'Puedes unirte a una alianza para realizar misiones con otros jugadores. Tambi\xe9n hay eventos de alianza regulares en los que puedes participar.',
                     },
                     reminder: {
                         join_alliance:
@@ -31735,16 +31034,16 @@ Object.values ||
                 },
             },
             commons: {
-                collect: 'Collect',
+                collect: 'Recoger',
                 continue: 'No',
-                end: 'End',
-                next: 'Next',
-                prev: 'Prev',
-                skip: 'Yes',
+                end: 'Finalizar',
+                next: 'Siguiente',
+                prev: 'Anterior',
+                skip: 'S\xed',
                 skip_hint:
-                    "Do you really want to cancel the tutorial? It can't be accessed at any later time. You will not be eligible for the tutorial completion reward.",
+                    '\xbfSeguro que quieres saltarte el tutorial? Despu\xe9s, no podr\xe1s acceder a \xe9l.No podr\xe1s recibir la recompensa por completar el tutorial.',
             },
-            rewards: { log: 'Reward for finishing the tutorial.' },
+            rewards: { log: 'Recompensa por completar el tutorial.' },
         },
     }),
     /*!
@@ -31838,7 +31137,7 @@ Object.values ||
         }
         function o(e, i, n) {
             if (n === t && 1 === e.nodeType) {
-                var s = 'data-' + i.replace(ze, '-$1').toLowerCase();
+                var s = 'data-' + i.replace(Se, '-$1').toLowerCase();
                 if ('string' == typeof (n = e.getAttribute(s))) {
                     try {
                         n =
@@ -31846,7 +31145,7 @@ Object.values ||
                             ('false' !== n &&
                                 ('null' === n ? null
                                 : +n + '' === n ? +n
-                                : Se.test(n) ? de.parseJSON(n)
+                                : ze.test(n) ? de.parseJSON(n)
                                 : n));
                     } catch (e) {}
                     de.data(e, i, n);
@@ -32033,7 +31332,7 @@ Object.values ||
             var n = ft.exec(t);
             return n ? Math.max(0, n[1] - (i || 0)) + (n[2] || 'px') : t;
         }
-        function S(e, t, i, n, s) {
+        function z(e, t, i, n, s) {
             for (
                 var a =
                         i === (n ? 'border' : 'content') ? 4
@@ -32059,7 +31358,7 @@ Object.values ||
                             )));
             return o;
         }
-        function z(e, t, i) {
+        function S(e, t, i) {
             var n = !0,
                 s = 'width' === t ? e.offsetWidth : e.offsetHeight,
                 a = ct(e),
@@ -32075,7 +31374,7 @@ Object.values ||
                 (n = o && (de.support.boxSizingReliable || s === e.style[t])),
                     (s = parseFloat(s) || 0);
             }
-            return s + S(e, t, i || (o ? 'border' : 'content'), n, a) + 'px';
+            return s + z(e, t, i || (o ? 'border' : 'content'), n, a) + 'px';
         }
         function A(e) {
             var t = Y,
@@ -32155,14 +31454,14 @@ Object.values ||
                 o = e === qt;
             return s(t.dataTypes[0]) || (!a['*'] && s('*'));
         }
-        function D(e, i) {
+        function j(e, i) {
             var n,
                 s,
                 a = de.ajaxSettings.flatOptions || {};
             for (s in i) i[s] !== t && ((a[s] ? e : n || (n = {}))[s] = i[s]);
             return n && de.extend(!0, e, n), e;
         }
-        function j(e, i, n) {
+        function D(e, i, n) {
             for (
                 var s, a, o, r, l = e.contents, c = e.dataTypes;
                 '*' === c[0];
@@ -32249,12 +31548,12 @@ Object.values ||
                 return new e.XMLHttpRequest();
             } catch (e) {}
         }
-        function L() {
+        function O() {
             try {
                 return new e.ActiveXObject('Microsoft.XMLHTTP');
             } catch (e) {}
         }
-        function O() {
+        function N() {
             return (
                 setTimeout(function () {
                     Yt = t;
@@ -32262,7 +31561,7 @@ Object.values ||
                 (Yt = de.now())
             );
         }
-        function F(e, t, i) {
+        function L(e, t, i) {
             for (
                 var n, s = (ii[t] || []).concat(ii['*']), a = 0, o = s.length;
                 a < o;
@@ -32270,7 +31569,7 @@ Object.values ||
             )
                 if ((n = s[a].call(i, t, e))) return n;
         }
-        function N(e, t, i) {
+        function F(e, t, i) {
             var n,
                 s,
                 a = 0,
@@ -32281,7 +31580,7 @@ Object.values ||
                 l = function () {
                     if (s) return !1;
                     for (
-                        var t = Yt || O(),
+                        var t = Yt || N(),
                             i = Math.max(0, c.startTime + c.duration - t),
                             n = 1 - (i / c.duration || 0),
                             a = 0,
@@ -32301,7 +31600,7 @@ Object.values ||
                     opts: de.extend(!0, { specialEasing: {} }, i),
                     originalProperties: t,
                     originalOptions: i,
-                    startTime: Yt || O(),
+                    startTime: Yt || N(),
                     duration: i.duration,
                     tweens: [],
                     createTween: function (t, i) {
@@ -32331,7 +31630,7 @@ Object.values ||
             for (H(d, c.opts.specialEasing); a < o; a++)
                 if ((n = ti[a].call(c, e, d, c.opts))) return n;
             return (
-                de.map(d, F, c),
+                de.map(d, L, c),
                 de.isFunction(c.opts.start) && c.opts.start.call(e, c),
                 de.fx.timer(
                     de.extend(l, { elem: e, anim: c, queue: c.opts.queue })
@@ -32428,7 +31727,7 @@ Object.values ||
                         de.style(e, t, d[t]);
                 }),
                 d))
-                    (o = F(h ? p[n] : 0, n, c)),
+                    (o = L(h ? p[n] : 0, n, c)),
                         n in p ||
                             ((p[n] = o.start),
                             h &&
@@ -33001,7 +32300,7 @@ Object.values ||
                     )
                         return i;
                     if (1 !== (r = (t = t || B).nodeType) && 9 !== r) return [];
-                    if (O && !n) {
+                    if (N && !n) {
                         if ((s = xe.exec(e)))
                             if ((o = s[1])) {
                                 if (9 === r) {
@@ -33026,7 +32325,7 @@ Object.values ||
                                     );
                                 if (
                                     (o = s[3]) &&
-                                    z.getElementsByClassName &&
+                                    S.getElementsByClassName &&
                                     t.getElementsByClassName
                                 )
                                     return (
@@ -33037,7 +32336,7 @@ Object.values ||
                                         i
                                     );
                             }
-                        if (z.qsa && (!F || !F.test(e))) {
+                        if (S.qsa && (!L || !L.test(e))) {
                             if (
                                 ((u = d = $),
                                 (h = t),
@@ -33048,7 +32347,7 @@ Object.values ||
                                 for (
                                     c = _(e),
                                         (d = t.getAttribute('id')) ?
-                                            (u = d.replace(Se, '\\$&'))
+                                            (u = d.replace(ze, '\\$&'))
                                         :   t.setAttribute('id', u),
                                         u = "[id='" + u + "'] ",
                                         l = c.length;
@@ -33339,7 +32638,7 @@ Object.values ||
                             d = [
                                 function (e, i, n) {
                                     return (
-                                        (!a && (n || i !== D)) ||
+                                        (!a && (n || i !== j)) ||
                                         ((t = i).nodeType ?
                                             l(e, i, n)
                                         :   c(e, i, n))
@@ -33398,7 +32697,7 @@ Object.values ||
                                 f = '0',
                                 g = a && [],
                                 v = null != d,
-                                y = D,
+                                y = j,
                                 w =
                                     a ||
                                     (o &&
@@ -33408,7 +32707,7 @@ Object.values ||
                                         )),
                                 k = (V += null == y ? 1 : Math.random() || 0.1);
                             for (
-                                v && ((D = r !== B && r), (A = n));
+                                v && ((j = r !== B && r), (A = n));
                                 null != (u = w[f]);
                                 f++
                             ) {
@@ -33437,7 +32736,7 @@ Object.values ||
                                         _ + t.length > 1 &&
                                         i.uniqueSort(c);
                             }
-                            return v && ((V = k), (D = y)), g;
+                            return v && ((V = k), (j = y)), g;
                         };
                     return s ? a(r) : r;
                 }
@@ -33456,14 +32755,14 @@ Object.values ||
                         if (
                             (a = c[0] = c[0].slice(0)).length > 2 &&
                             'ID' === (o = a[0]).type &&
-                            z.getById &&
+                            S.getById &&
                             9 === t.nodeType &&
-                            O &&
+                            N &&
                             E.relative[a[1].type]
                         ) {
                             if (
                                 !(t = (E.find.ID(
-                                    o.matches[0].replace(ze, Ae),
+                                    o.matches[0].replace(Se, Ae),
                                     t
                                 ) || [])[0])
                             )
@@ -33478,7 +32777,7 @@ Object.values ||
                             if (
                                 (l = E.find[r]) &&
                                 (n = l(
-                                    o.matches[0].replace(ze, Ae),
+                                    o.matches[0].replace(Se, Ae),
                                     (ge.test(a[0].type) && t.parentNode) || t
                                 ))
                             ) {
@@ -33487,24 +32786,24 @@ Object.values ||
                                 break;
                             }
                     }
-                    return I(e, c)(n, t, !O, i, ge.test(e)), i;
+                    return I(e, c)(n, t, !N, i, ge.test(e)), i;
                 }
                 function C() {}
-                var S,
-                    z,
+                var z,
+                    S,
                     A,
                     E,
                     P,
                     M,
                     I,
-                    D,
                     j,
+                    D,
                     R,
                     B,
-                    L,
                     O,
-                    F,
                     N,
+                    L,
+                    F,
                     H,
                     q,
                     $ = 'sizzle' + -new Date(),
@@ -33607,8 +32906,8 @@ Object.values ||
                     xe = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                     Te = /^(?:input|select|textarea|button)$/i,
                     Ce = /^h\d$/i,
-                    Se = /'|\\/g,
-                    ze = new RegExp(
+                    ze = /'|\\/g,
+                    Se = new RegExp(
                         '\\\\([\\da-f]{1,6}' + le + '?|(' + le + ')|.)',
                         'ig'
                     ),
@@ -33643,12 +32942,12 @@ Object.values ||
                                 },
                     };
                 }
-                for (S in ((M = i.isXML =
+                for (z in ((M = i.isXML =
                     function (e) {
                         var t = e && (e.ownerDocument || e).documentElement;
                         return !!t && 'HTML' !== t.nodeName;
                     }),
-                (z = i.support = {}),
+                (S = i.support = {}),
                 (R = i.setDocument =
                     function (e) {
                         var t = e ? e.ownerDocument || e : W;
@@ -33656,9 +32955,9 @@ Object.values ||
                                 t !== B && 9 === t.nodeType && t.documentElement
                             ) ?
                                 ((B = t),
-                                (L = t.documentElement),
-                                (O = !M(t)),
-                                (z.attributes = o(function (e) {
+                                (O = t.documentElement),
+                                (N = !M(t)),
+                                (S.attributes = o(function (e) {
                                     return (
                                         (e.innerHTML = "<a href='#'></a>"),
                                         r(
@@ -33678,7 +32977,7 @@ Object.values ||
                                         !e.getAttribute('className')
                                     );
                                 })),
-                                (z.input = o(function (e) {
+                                (S.input = o(function (e) {
                                     return (
                                         (e.innerHTML = '<input>'),
                                         e.firstChild.setAttribute('value', ''),
@@ -33686,14 +32985,14 @@ Object.values ||
                                             e.firstChild.getAttribute('value')
                                     );
                                 })),
-                                r('value', d, z.attributes && z.input),
-                                (z.getElementsByTagName = o(function (e) {
+                                r('value', d, S.attributes && S.input),
+                                (S.getElementsByTagName = o(function (e) {
                                     return (
                                         e.appendChild(t.createComment('')),
                                         !e.getElementsByTagName('*').length
                                     );
                                 })),
-                                (z.getElementsByClassName = o(function (e) {
+                                (S.getElementsByClassName = o(function (e) {
                                     return (
                                         (e.innerHTML =
                                             "<div class='a'></div><div class='a i'></div>"),
@@ -33702,32 +33001,32 @@ Object.values ||
                                             e.getElementsByClassName('i').length
                                     );
                                 })),
-                                (z.getById = o(function (e) {
+                                (S.getById = o(function (e) {
                                     return (
-                                        (L.appendChild(e).id = $),
+                                        (O.appendChild(e).id = $),
                                         !t.getElementsByName ||
                                             !t.getElementsByName($).length
                                     );
                                 })),
-                                z.getById ?
+                                S.getById ?
                                     ((E.find.ID = function (e, t) {
                                         if (
                                             typeof t.getElementById !== Q &&
-                                            O
+                                            N
                                         ) {
                                             var i = t.getElementById(e);
                                             return i && i.parentNode ? [i] : [];
                                         }
                                     }),
                                     (E.filter.ID = function (e) {
-                                        var t = e.replace(ze, Ae);
+                                        var t = e.replace(Se, Ae);
                                         return function (e) {
                                             return e.getAttribute('id') === t;
                                         };
                                     }))
                                 :   (delete E.find.ID,
                                     (E.filter.ID = function (e) {
-                                        var t = e.replace(ze, Ae);
+                                        var t = e.replace(Se, Ae);
                                         return function (e) {
                                             var i =
                                                 typeof e.getAttributeNode !==
@@ -33737,7 +33036,7 @@ Object.values ||
                                         };
                                     })),
                                 (E.find.TAG =
-                                    z.getElementsByTagName ?
+                                    S.getElementsByTagName ?
                                         function (e, t) {
                                             if (
                                                 typeof t.getElementsByTagName !==
@@ -33761,24 +33060,24 @@ Object.values ||
                                             return a;
                                         }),
                                 (E.find.CLASS =
-                                    z.getElementsByClassName &&
+                                    S.getElementsByClassName &&
                                     function (e, t) {
                                         if (
                                             typeof t.getElementsByClassName !==
                                                 Q &&
-                                            O
+                                            N
                                         )
                                             return t.getElementsByClassName(e);
                                     }),
-                                (N = []),
                                 (F = []),
-                                (z.qsa = n(t.querySelectorAll)) &&
+                                (L = []),
+                                (S.qsa = n(t.querySelectorAll)) &&
                                     (o(function (e) {
                                         (e.innerHTML =
                                             "<select><option selected=''></option></select>"),
                                             e.querySelectorAll('[selected]')
                                                 .length ||
-                                                F.push(
+                                                L.push(
                                                     '\\[' +
                                                         le +
                                                         '*(?:value|' +
@@ -33786,7 +33085,7 @@ Object.values ||
                                                         ')'
                                                 ),
                                             e.querySelectorAll(':checked')
-                                                .length || F.push(':checked');
+                                                .length || L.push(':checked');
                                     }),
                                     o(function (e) {
                                         var i = t.createElement('input');
@@ -33796,36 +33095,36 @@ Object.values ||
                                                 .setAttribute('t', ''),
                                             e.querySelectorAll("[t^='']")
                                                 .length &&
-                                                F.push(
+                                                L.push(
                                                     '[*^$]=' +
                                                         le +
                                                         '*(?:\'\'|"")'
                                                 ),
                                             e.querySelectorAll(':enabled')
                                                 .length ||
-                                                F.push(':enabled', ':disabled'),
+                                                L.push(':enabled', ':disabled'),
                                             e.querySelectorAll('*,:x'),
-                                            F.push(',.*:');
+                                            L.push(',.*:');
                                     })),
-                                (z.matchesSelector = n(
+                                (S.matchesSelector = n(
                                     (H =
-                                        L.webkitMatchesSelector ||
-                                        L.mozMatchesSelector ||
-                                        L.oMatchesSelector ||
-                                        L.msMatchesSelector)
+                                        O.webkitMatchesSelector ||
+                                        O.mozMatchesSelector ||
+                                        O.oMatchesSelector ||
+                                        O.msMatchesSelector)
                                 )) &&
                                     o(function (e) {
-                                        (z.disconnectedMatch = H.call(
+                                        (S.disconnectedMatch = H.call(
                                             e,
                                             'div'
                                         )),
                                             H.call(e, "[s!='']:x"),
-                                            N.push('!=', pe);
+                                            F.push('!=', pe);
                                     }),
+                                (L = L.length && new RegExp(L.join('|'))),
                                 (F = F.length && new RegExp(F.join('|'))),
-                                (N = N.length && new RegExp(N.join('|'))),
                                 (q =
-                                    n(L.contains) || L.compareDocumentPosition ?
+                                    n(O.contains) || O.compareDocumentPosition ?
                                         function (e, t) {
                                             var i =
                                                     9 === e.nodeType ?
@@ -33853,7 +33152,7 @@ Object.values ||
                                                     if (t === e) return !0;
                                             return !1;
                                         }),
-                                (z.sortDetached = o(function (e) {
+                                (S.sortDetached = o(function (e) {
                                     return (
                                         1 &
                                         e.compareDocumentPosition(
@@ -33862,7 +33161,7 @@ Object.values ||
                                     );
                                 })),
                                 (J =
-                                    L.compareDocumentPosition ?
+                                    O.compareDocumentPosition ?
                                         function (e, i) {
                                             if (e === i) return (Y = !0), 0;
                                             var n =
@@ -33873,16 +33172,16 @@ Object.values ||
                                                 n ?
                                                     (
                                                         1 & n ||
-                                                        (!z.sortDetached &&
+                                                        (!S.sortDetached &&
                                                             i.compareDocumentPosition(
                                                                 e
                                                             ) === n)
                                                     ) ?
                                                         e === t || q(W, e) ? -1
                                                         : i === t || q(W, i) ? 1
-                                                        : j ?
-                                                            oe.call(j, e) -
-                                                            oe.call(j, i)
+                                                        : D ?
+                                                            oe.call(D, e) -
+                                                            oe.call(D, i)
                                                         :   0
                                                     : 4 & n ? -1
                                                     : 1
@@ -33904,9 +33203,9 @@ Object.values ||
                                                     : i === t ? 1
                                                     : a ? -1
                                                     : o ? 1
-                                                    : j ?
-                                                        oe.call(j, e) -
-                                                        oe.call(j, i)
+                                                    : D ?
+                                                        oe.call(D, e) -
+                                                        oe.call(D, i)
                                                     :   0
                                                 );
                                             if (a === o) return u(e, i);
@@ -33932,16 +33231,16 @@ Object.values ||
                     if (
                         ((e.ownerDocument || e) !== B && R(e),
                         (t = t.replace(ve, "='$1']")),
-                        z.matchesSelector &&
-                            O &&
-                            (!N || !N.test(t)) &&
-                            (!F || !F.test(t)))
+                        S.matchesSelector &&
+                            N &&
+                            (!F || !F.test(t)) &&
+                            (!L || !L.test(t)))
                     )
                         try {
                             var n = H.call(e, t);
                             if (
                                 n ||
-                                z.disconnectedMatch ||
+                                S.disconnectedMatch ||
                                 (e.document && 11 !== e.document.nodeType)
                             )
                                 return n;
@@ -33956,11 +33255,11 @@ Object.values ||
                     var n = E.attrHandle[i.toLowerCase()],
                         s =
                             n && ee.call(E.attrHandle, i.toLowerCase()) ?
-                                n(e, i, !O)
+                                n(e, i, !N)
                             :   t;
                     return (
                         s === t ?
-                            z.attributes || !O ? e.getAttribute(i)
+                            S.attributes || !N ? e.getAttribute(i)
                             : (s = e.getAttributeNode(i)) && s.specified ?
                                 s.value
                             :   null
@@ -33978,8 +33277,8 @@ Object.values ||
                         n = 0,
                         s = 0;
                     if (
-                        ((Y = !z.detectDuplicates),
-                        (j = !z.sortStable && e.slice(0)),
+                        ((Y = !S.detectDuplicates),
+                        (D = !S.sortStable && e.slice(0)),
                         e.sort(J),
                         Y)
                     ) {
@@ -34020,9 +33319,9 @@ Object.values ||
                         preFilter: {
                             ATTR: function (e) {
                                 return (
-                                    (e[1] = e[1].replace(ze, Ae)),
+                                    (e[1] = e[1].replace(Se, Ae)),
                                     (e[3] = (e[4] || e[5] || '').replace(
-                                        ze,
+                                        Se,
                                         Ae
                                     )),
                                     '~=' === e[2] && (e[3] = ' ' + e[3] + ' '),
@@ -34066,7 +33365,7 @@ Object.values ||
                         },
                         filter: {
                             TAG: function (e) {
-                                var t = e.replace(ze, Ae).toLowerCase();
+                                var t = e.replace(Se, Ae).toLowerCase();
                                 return '*' === e ?
                                         function () {
                                             return !0;
@@ -34331,13 +33630,13 @@ Object.values ||
                                 return (
                                     ye.test(e || '') ||
                                         i.error('unsupported lang: ' + e),
-                                    (e = e.replace(ze, Ae).toLowerCase()),
+                                    (e = e.replace(Se, Ae).toLowerCase()),
                                     function (t) {
                                         var i;
                                         do {
                                             if (
                                                 (i =
-                                                    O ?
+                                                    N ?
                                                         t.lang
                                                     :   t.getAttribute(
                                                             'xml:lang'
@@ -34362,7 +33661,7 @@ Object.values ||
                                 return i && i.slice(1) === t.id;
                             },
                             root: function (e) {
-                                return e === L;
+                                return e === O;
                             },
                             focus: function (e) {
                                 return (
@@ -34455,8 +33754,8 @@ Object.values ||
                         },
                     }),
                 { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }))
-                    E.pseudos[S] = h(S);
-                for (S in { submit: !0, reset: !0 }) E.pseudos[S] = p(S);
+                    E.pseudos[z] = h(z);
+                for (z in { submit: !0, reset: !0 }) E.pseudos[z] = p(z);
                 (I = i.compile =
                     function (e, t) {
                         var i,
@@ -34473,10 +33772,10 @@ Object.values ||
                     (E.pseudos.nth = E.pseudos.eq),
                     (C.prototype = E.filters = E.pseudos),
                     (E.setFilters = new C()),
-                    (z.sortStable = $.split('').sort(J).join('') === $),
+                    (S.sortStable = $.split('').sort(J).join('') === $),
                     R(),
                     [0, 0].sort(J),
-                    (z.detectDuplicates = Y),
+                    (S.detectDuplicates = Y),
                     (de.find = i),
                     (de.expr = i.selectors),
                     (de.expr[':'] = de.expr.pseudos),
@@ -34868,8 +34167,8 @@ Object.values ||
                     t
                 );
             })({}));
-        var Se = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
-            ze = /([A-Z])/g;
+        var ze = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
+            Se = /([A-Z])/g;
         de.extend({
             cache: {},
             noData: {
@@ -35048,8 +34347,8 @@ Object.values ||
             Pe = /[\t\r\n\f]/g,
             Me = /\r/g,
             Ie = /^(?:input|select|textarea|button|object)$/i,
-            De = /^(?:a|area)$/i,
-            je = /^(?:checked|selected)$/i,
+            je = /^(?:a|area)$/i,
+            De = /^(?:checked|selected)$/i,
             Re = de.support.getSetAttribute,
             Be = de.support.input;
         de.fn.extend({
@@ -35322,7 +34621,7 @@ Object.values ||
                         for (; (i = a[s++]); )
                             (n = de.propFix[i] || i),
                                 de.expr.match.bool.test(i) ?
-                                    (Be && Re) || !je.test(i) ?
+                                    (Be && Re) || !De.test(i) ?
                                         (e[n] = !1)
                                     :   (e[de.camelCase('default-' + i)] = e[
                                             n
@@ -35375,7 +34674,7 @@ Object.values ||
                                 t ? parseInt(t, 10)
                                 : (
                                     Ie.test(e.nodeName) ||
-                                    (De.test(e.nodeName) && e.href)
+                                    (je.test(e.nodeName) && e.href)
                                 ) ?
                                     0
                                 :   -1
@@ -35388,7 +34687,7 @@ Object.values ||
                 set: function (e, t, i) {
                     return (
                         !1 === t ? de.removeAttr(e, i)
-                        : (Be && Re) || !je.test(i) ?
+                        : (Be && Re) || !De.test(i) ?
                             e.setAttribute((!Re && de.propFix[i]) || i, i)
                         :   (e[de.camelCase('default-' + i)] = e[i] = !0),
                         i
@@ -35398,7 +34697,7 @@ Object.values ||
             de.each(de.expr.match.bool.source.match(/\w+/g), function (e, i) {
                 var n = de.expr.attrHandle[i] || de.find.attr;
                 de.expr.attrHandle[i] =
-                    (Be && Re) || !je.test(i) ?
+                    (Be && Re) || !De.test(i) ?
                         function (e, i, s) {
                             var a = de.expr.attrHandle[i],
                                 o =
@@ -35538,10 +34837,10 @@ Object.values ||
                                 :   e.value;
                         });
             });
-        var Le = /^(?:input|select|textarea)$/i,
-            Oe = /^key/,
-            Fe = /^(?:mouse|contextmenu)|click/,
-            Ne = /^(?:focusinfocus|focusoutblur)$/,
+        var Oe = /^(?:input|select|textarea)$/i,
+            Ne = /^key/,
+            Le = /^(?:mouse|contextmenu)|click/,
+            Fe = /^(?:focusinfocus|focusoutblur)$/,
             He = /^([^.]*)(?:\.(.+)|)$/;
         (de.event = {
             global: {},
@@ -35700,7 +34999,7 @@ Object.values ||
                     ((l = u = s = s || Y),
                     3 !== s.nodeType &&
                         8 !== s.nodeType &&
-                        !Ne.test(m + de.event.triggered) &&
+                        !Fe.test(m + de.event.triggered) &&
                         (m.indexOf('.') >= 0 &&
                             ((_ = m.split('.')), (m = _.shift()), _.sort()),
                         (r = m.indexOf(':') < 0 && 'on' + m),
@@ -35729,7 +35028,7 @@ Object.values ||
                     if (!a && !d.noBubble && !de.isWindow(s)) {
                         for (
                             c = d.delegateType || m,
-                                Ne.test(c + m) || (l = l.parentNode);
+                                Fe.test(c + m) || (l = l.parentNode);
                             l;
                             l = l.parentNode
                         )
@@ -35849,8 +35148,8 @@ Object.values ||
                 for (
                     o ||
                         (this.fixHooks[s] = o =
-                            Fe.test(s) ? this.mouseHooks
-                                : Oe.test(s) ? this.keyHooks
+                            Le.test(s) ? this.mouseHooks
+                                : Ne.test(s) ? this.keyHooks
                                 : {}),
                         n = o.props ? this.props.concat(o.props) : this.props,
                         e = new de.Event(a),
@@ -36100,7 +35399,7 @@ Object.values ||
             de.support.changeBubbles ||
                 (de.event.special.change = {
                     setup: function () {
-                        if (Le.test(this.nodeName))
+                        if (Oe.test(this.nodeName))
                             return (
                                 ('checkbox' !== this.type &&
                                     'radio' !== this.type) ||
@@ -36135,7 +35434,7 @@ Object.values ||
                             'beforeactivate._change',
                             function (e) {
                                 var t = e.target;
-                                Le.test(t.nodeName) &&
+                                Oe.test(t.nodeName) &&
                                     !de._data(t, 'changeBubbles') &&
                                     (de.event.add(
                                         t,
@@ -36169,7 +35468,7 @@ Object.values ||
                     teardown: function () {
                         return (
                             de.event.remove(this, '._change'),
-                            !Le.test(this.nodeName)
+                            !Oe.test(this.nodeName)
                         );
                     },
                 }),
@@ -37177,9 +36476,9 @@ Object.values ||
                                         mt.test(de.css(e, 'display'))
                                 ) ?
                                     de.swap(e, yt, function () {
-                                        return z(e, t, n);
+                                        return S(e, t, n);
                                     })
-                                :   z(e, t, n);
+                                :   S(e, t, n);
                     },
                     set: function (e, i, n) {
                         var s = n && ct(e);
@@ -37187,7 +36486,7 @@ Object.values ||
                             e,
                             i,
                             n ?
-                                S(
+                                z(
                                     e,
                                     t,
                                     n,
@@ -37304,8 +36603,8 @@ Object.values ||
             );
         var Tt = /%20/g,
             Ct = /\[\]$/,
-            St = /\r?\n/g,
-            zt = /^(?:submit|button|image|reset|file)$/i,
+            zt = /\r?\n/g,
+            St = /^(?:submit|button|image|reset|file)$/i,
             At = /^(?:input|select|textarea|keygen)/i;
         de.fn.extend({
             serialize: function () {
@@ -37322,7 +36621,7 @@ Object.values ||
                             this.name &&
                             !de(this).is(':disabled') &&
                             At.test(this.nodeName) &&
-                            !zt.test(e) &&
+                            !St.test(e) &&
                             (this.checked || !tt.test(e))
                         );
                     })
@@ -37334,10 +36633,10 @@ Object.values ||
                                 de.map(i, function (e) {
                                     return {
                                         name: t.name,
-                                        value: e.replace(St, '\r\n'),
+                                        value: e.replace(zt, '\r\n'),
                                     };
                                 })
-                            :   { name: t.name, value: i.replace(St, '\r\n') }
+                            :   { name: t.name, value: i.replace(zt, '\r\n') }
                         );
                     })
                     .get();
@@ -37402,14 +36701,14 @@ Object.values ||
             Pt,
             Mt = de.now(),
             It = /\?/,
-            Dt = /#.*$/,
-            jt = /([?&])_=[^&]*/,
+            jt = /#.*$/,
+            Dt = /([?&])_=[^&]*/,
             Rt = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm,
             Bt = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
-            Lt = /^(?:GET|HEAD)$/,
-            Ot = /^\/\//,
-            Ft = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
-            Nt = de.fn.load,
+            Ot = /^(?:GET|HEAD)$/,
+            Nt = /^\/\//,
+            Lt = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
+            Ft = de.fn.load,
             Ht = {},
             qt = {},
             $t = '*/'.concat('*');
@@ -37418,10 +36717,10 @@ Object.values ||
         } catch (e) {
             ((Pt = Y.createElement('a')).href = ''), (Pt = Pt.href);
         }
-        (Et = Ft.exec(Pt.toLowerCase()) || []),
+        (Et = Lt.exec(Pt.toLowerCase()) || []),
             (de.fn.load = function (e, i, n) {
-                if ('string' != typeof e && Nt)
-                    return Nt.apply(this, arguments);
+                if ('string' != typeof e && Ft)
+                    return Ft.apply(this, arguments);
                 var s,
                     a,
                     o,
@@ -37510,8 +36809,8 @@ Object.values ||
                 },
                 ajaxSetup: function (e, t) {
                     return t ?
-                            D(D(e, de.ajaxSettings), t)
-                        :   D(de.ajaxSettings, e);
+                            j(j(e, de.ajaxSettings), t)
+                        :   j(de.ajaxSettings, e);
                 },
                 ajaxPrefilter: M(Ht),
                 ajaxTransport: M(qt),
@@ -37530,7 +36829,7 @@ Object.values ||
                             (r = s || ''),
                             (k.readyState = e > 0 ? 4 : 0),
                             (a = (e >= 200 && e < 300) || 304 === e),
-                            n && (b = j(h, k, n)),
+                            n && (b = D(h, k, n)),
                             (b = R(h, b, k, a)),
                             a ?
                                 (h.ifModified &&
@@ -37629,15 +36928,15 @@ Object.values ||
                         (k.success = k.done),
                         (k.error = k.fail),
                         (h.url = ((e || h.url || Pt) + '')
-                            .replace(Dt, '')
-                            .replace(Ot, Et[1] + '//')),
+                            .replace(jt, '')
+                            .replace(Nt, Et[1] + '//')),
                         (h.type = i.method || i.type || h.method || h.type),
                         (h.dataTypes = de
                             .trim(h.dataType || '*')
                             .toLowerCase()
                             .match(he) || ['']),
                         null == h.crossDomain &&
-                            ((s = Ft.exec(h.url.toLowerCase())),
+                            ((s = Lt.exec(h.url.toLowerCase())),
                             (h.crossDomain = !(
                                 !s ||
                                 (s[1] === Et[1] &&
@@ -37659,7 +36958,7 @@ Object.values ||
                         0 == de.active++ &&
                         de.event.trigger('ajaxStart'),
                     (h.type = h.type.toUpperCase()),
-                    (h.hasContent = !Lt.test(h.type)),
+                    (h.hasContent = !Ot.test(h.type)),
                     (o = h.url),
                     h.hasContent ||
                         (h.data &&
@@ -37667,8 +36966,8 @@ Object.values ||
                             delete h.data),
                         !1 === h.cache &&
                             (h.url =
-                                jt.test(o) ?
-                                    o.replace(jt, '$1_=' + Mt++)
+                                Dt.test(o) ?
+                                    o.replace(Dt, '$1_=' + Mt++)
                                 :   o +
                                     (It.test(o) ? '&' : '?') +
                                     '_=' +
@@ -37857,7 +37156,7 @@ Object.values ||
         (de.ajaxSettings.xhr =
             e.ActiveXObject ?
                 function () {
-                    return (!this.isLocal && B()) || L();
+                    return (!this.isLocal && B()) || O();
                 }
             :   B),
             (Gt = de.ajaxSettings.xhr()),
@@ -37990,7 +37289,7 @@ Object.values ||
                     },
                 ],
             };
-        (de.Animation = de.extend(N, {
+        (de.Animation = de.extend(F, {
             tweener: function (e, t) {
                 de.isFunction(e) ? ((t = e), (e = ['*'])) : (e = e.split(' '));
                 for (var i, n = 0, s = e.length; n < s; n++)
@@ -38102,7 +37401,7 @@ Object.values ||
                     var s = de.isEmptyObject(e),
                         a = de.speed(t, i, n),
                         o = function () {
-                            var t = N(this, de.extend({}, e), a);
+                            var t = F(this, de.extend({}, e), a);
                             (o.finish = function () {
                                 t.stop(!0);
                             }),
@@ -39674,29 +38973,29 @@ Object.values ||
                                 m = i(this, 'marginLeft'),
                                 b = i(this, 'marginTop'),
                                 C = u + m + i(this, 'marginRight') + k.width,
-                                S = h + b + i(this, 'marginBottom') + k.height,
-                                z = e.extend({}, v),
+                                z = h + b + i(this, 'marginBottom') + k.height,
+                                S = e.extend({}, v),
                                 A = t(T.my, d.outerWidth(), d.outerHeight());
                             'right' === s.my[0] ?
-                                (z.left -= u)
-                            :   'center' === s.my[0] && (z.left -= u / 2),
+                                (S.left -= u)
+                            :   'center' === s.my[0] && (S.left -= u / 2),
                                 'bottom' === s.my[1] ?
-                                    (z.top -= h)
-                                :   'center' === s.my[1] && (z.top -= h / 2),
-                                (z.left += A[0]),
-                                (z.top += A[1]),
-                                a || ((z.left = l(z.left)), (z.top = l(z.top))),
+                                    (S.top -= h)
+                                :   'center' === s.my[1] && (S.top -= h / 2),
+                                (S.left += A[0]),
+                                (S.top += A[1]),
+                                a || ((S.left = l(S.left)), (S.top = l(S.top))),
                                 (n = { marginLeft: m, marginTop: b }),
                                 e.each(['left', 'top'], function (t, i) {
                                     e.ui.position[x[t]] &&
-                                        e.ui.position[x[t]][i](z, {
+                                        e.ui.position[x[t]][i](S, {
                                             targetWidth: _,
                                             targetHeight: f,
                                             elemWidth: u,
                                             elemHeight: h,
                                             collisionPosition: n,
                                             collisionWidth: C,
-                                            collisionHeight: S,
+                                            collisionHeight: z,
                                             offset: [p[0] + A[0], p[1] + A[1]],
                                             my: s.my,
                                             at: s.at,
@@ -39706,9 +39005,9 @@ Object.values ||
                                 }),
                                 s.using &&
                                     (c = function (e) {
-                                        var t = g.left - z.left,
+                                        var t = g.left - S.left,
                                             i = t + _ - u,
-                                            n = g.top - z.top,
+                                            n = g.top - S.top,
                                             a = n + f - h,
                                             l = {
                                                 target: {
@@ -39720,8 +39019,8 @@ Object.values ||
                                                 },
                                                 element: {
                                                     element: d,
-                                                    left: z.left,
-                                                    top: z.top,
+                                                    left: S.left,
+                                                    top: S.top,
                                                     width: u,
                                                     height: h,
                                                 },
@@ -39745,7 +39044,7 @@ Object.values ||
                                             :   (l.important = 'vertical'),
                                             s.using.call(this, e, l);
                                     }),
-                                d.offset(e.extend(z, { using: c }));
+                                d.offset(e.extend(S, { using: c }));
                         })
                     );
                 }),
@@ -47141,23 +46440,23 @@ Object.values ||
                         x,
                         T,
                         C,
-                        S,
                         z,
+                        S,
                         A,
                         E,
                         P,
                         M,
                         I,
-                        D,
                         j,
+                        D,
                         R,
                         B,
-                        L,
                         O,
-                        F,
-                        N = new Date(),
+                        N,
+                        L,
+                        F = new Date(),
                         H = this._daylightSavingAdjust(
-                            new Date(N.getFullYear(), N.getMonth(), N.getDate())
+                            new Date(F.getFullYear(), F.getMonth(), F.getDate())
                         ),
                         q = this._get(e, 'isRTL'),
                         $ = this._get(e, 'showButtonPanel'),
@@ -47305,44 +46604,44 @@ Object.values ||
                                 ((C = this._daylightSavingAdjust(
                                     new Date(ee, X, e.selectedDay)
                                 )),
-                                (S = ' ui-corner-all'),
-                                (z = ''),
+                                (z = ' ui-corner-all'),
+                                (S = ''),
                                 K)
                             ) {
                                 if (
-                                    ((z += "<div class='ui-datepicker-group"),
+                                    ((S += "<div class='ui-datepicker-group"),
                                     U[1] > 1)
                                 )
                                     switch (T) {
                                         case 0:
-                                            (z += ' ui-datepicker-group-first'),
-                                                (S =
+                                            (S += ' ui-datepicker-group-first'),
+                                                (z =
                                                     ' ui-corner-' +
                                                     (q ? 'right' : 'left'));
                                             break;
                                         case U[1] - 1:
-                                            (z += ' ui-datepicker-group-last'),
-                                                (S =
+                                            (S += ' ui-datepicker-group-last'),
+                                                (z =
                                                     ' ui-corner-' +
                                                     (q ? 'left' : 'right'));
                                             break;
                                         default:
-                                            (z +=
+                                            (S +=
                                                 ' ui-datepicker-group-middle'),
-                                                (S = '');
+                                                (z = '');
                                     }
-                                z += "'>";
+                                S += "'>";
                             }
                             for (
-                                z +=
+                                S +=
                                     "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" +
-                                    S +
+                                    z +
                                     "'>" +
-                                    (/all|left/.test(S) && 0 === k ?
+                                    (/all|left/.test(z) && 0 === k ?
                                         q ? a
                                         :   n
                                     :   '') +
-                                    (/all|right/.test(S) && 0 === k ?
+                                    (/all|right/.test(z) && 0 === k ?
                                         q ? n
                                         :   a
                                     :   '') +
@@ -47378,7 +46677,7 @@ Object.values ||
                                     p[E] +
                                     '</span></th>';
                             for (
-                                z += A + '</tr></thead><tbody>',
+                                S += A + '</tr></thead><tbody>',
                                     P = this._getDaysInMonth(ee, X),
                                     ee === e.selectedYear &&
                                         X === e.selectedMonth &&
@@ -47392,116 +46691,116 @@ Object.values ||
                                             7) %
                                         7,
                                     I = Math.ceil((M + P) / 7),
-                                    D =
+                                    j =
                                         K && this.maxRows > I ?
                                             this.maxRows
                                         :   I,
-                                    this.maxRows = D,
-                                    j = this._daylightSavingAdjust(
+                                    this.maxRows = j,
+                                    D = this._daylightSavingAdjust(
                                         new Date(ee, X, 1 - M)
                                     ),
                                     R = 0;
-                                R < D;
+                                R < j;
                                 R++
                             ) {
                                 for (
-                                    z += '<tr>',
+                                    S += '<tr>',
                                         B =
                                             u ?
                                                 "<td class='ui-datepicker-week-col'>" +
                                                 this._get(
                                                     e,
                                                     'calculateWeek'
-                                                )(j) +
+                                                )(D) +
                                                 '</td>'
                                             :   '',
                                         w = 0;
                                     w < 7;
                                     w++
                                 )
-                                    (L =
+                                    (O =
                                         f ?
                                             f.apply(
                                                 e.input ? e.input[0] : null,
-                                                [j]
+                                                [D]
                                             )
                                         :   [!0, '']),
-                                        (F =
-                                            ((O = j.getMonth() !== X) && !v) ||
-                                            !L[0] ||
-                                            (J && j < J) ||
-                                            (Q && j > Q)),
+                                        (L =
+                                            ((N = D.getMonth() !== X) && !v) ||
+                                            !O[0] ||
+                                            (J && D < J) ||
+                                            (Q && D > Q)),
                                         (B +=
                                             "<td class='" +
                                             ((w + d + 6) % 7 >= 5 ?
                                                 ' ui-datepicker-week-end'
                                             :   '') +
-                                            (O ?
+                                            (N ?
                                                 ' ui-datepicker-other-month'
                                             :   '') +
                                             ((
-                                                (j.getTime() === C.getTime() &&
+                                                (D.getTime() === C.getTime() &&
                                                     X === e.selectedMonth &&
                                                     e._keyEvent) ||
-                                                (b.getTime() === j.getTime() &&
+                                                (b.getTime() === D.getTime() &&
                                                     b.getTime() === C.getTime())
                                             ) ?
                                                 ' ' + this._dayOverClass
                                             :   '') +
-                                            (F ?
+                                            (L ?
                                                 ' ' +
                                                 this._unselectableClass +
                                                 ' ui-state-disabled'
                                             :   '') +
-                                            (O && !g ? '' : (
+                                            (N && !g ? '' : (
                                                 ' ' +
-                                                L[1] +
-                                                (j.getTime() === Y.getTime() ?
+                                                O[1] +
+                                                (D.getTime() === Y.getTime() ?
                                                     ' ' + this._currentClass
                                                 :   '') +
-                                                (j.getTime() === H.getTime() ?
+                                                (D.getTime() === H.getTime() ?
                                                     ' ui-datepicker-today'
                                                 :   '')
                                             )) +
                                             "'" +
-                                            ((O && !g) || !L[2] ?
+                                            ((N && !g) || !O[2] ?
                                                 ''
                                             :   " title='" +
-                                                L[2].replace(/'/g, '&#39;') +
+                                                O[2].replace(/'/g, '&#39;') +
                                                 "'") +
-                                            (F ? '' : (
+                                            (L ? '' : (
                                                 " data-handler='selectDay' data-event='click' data-month='" +
-                                                j.getMonth() +
+                                                D.getMonth() +
                                                 "' data-year='" +
-                                                j.getFullYear() +
+                                                D.getFullYear() +
                                                 "'"
                                             )) +
                                             '>' +
-                                            (O && !g ? '&#xa0;'
-                                            : F ?
+                                            (N && !g ? '&#xa0;'
+                                            : L ?
                                                 "<span class='ui-state-default'>" +
-                                                j.getDate() +
+                                                D.getDate() +
                                                 '</span>'
                                             :   "<a class='ui-state-default" +
-                                                (j.getTime() === H.getTime() ?
+                                                (D.getTime() === H.getTime() ?
                                                     ' ui-state-highlight'
                                                 :   '') +
-                                                (j.getTime() === Y.getTime() ?
+                                                (D.getTime() === Y.getTime() ?
                                                     ' ui-state-active'
                                                 :   '') +
-                                                (O ?
+                                                (N ?
                                                     ' ui-priority-secondary'
                                                 :   '') +
                                                 "' href='#'>" +
-                                                j.getDate() +
+                                                D.getDate() +
                                                 '</a>') +
                                             '</td>'),
-                                        j.setDate(j.getDate() + 1),
-                                        (j = this._daylightSavingAdjust(j));
-                                z += B + '</tr>';
+                                        D.setDate(D.getDate() + 1),
+                                        (D = this._daylightSavingAdjust(D));
+                                S += B + '</tr>';
                             }
                             ++X > 11 && ((X = 0), ee++),
-                                (x += z +=
+                                (x += S +=
                                     '</tbody></table>' +
                                     (K ?
                                         '</div>' +
@@ -55057,18 +54356,18 @@ Object.values ||
                         x = l.scrollLeft(),
                         T = x + u,
                         C = o.position(),
-                        S = C.top,
-                        z = S + o.height(),
+                        z = C.top,
+                        S = z + o.height(),
                         A = C.left,
                         E = A + o.width(),
-                        P = !0 === i ? z : S,
-                        M = !0 === i ? S : z,
+                        P = !0 === i ? S : z,
+                        M = !0 === i ? z : S,
                         I = !0 === i ? E : A,
-                        D = !0 === i ? A : E;
+                        j = !0 === i ? A : E;
                     if ('both' === s)
-                        return !!p && M <= k && P >= w && D <= T && I >= x;
+                        return !!p && M <= k && P >= w && j <= T && I >= x;
                     if ('vertical' === s) return !!p && M <= k && P >= w;
-                    if ('horizontal' === s) return !!p && D <= T && I >= x;
+                    if ('horizontal' === s) return !!p && j <= T && I >= x;
                 }
             }
         };
@@ -57689,123 +56988,126 @@ Object.values ||
     (function (e, t) {
         'object' == typeof exports && 'undefined' != typeof module ? t(exports)
         : 'function' == typeof define && define.amd ? define(['exports'], t)
-        : t(
-                ((e =
-                    'undefined' != typeof globalThis ? globalThis : (
-                        e || self
-                    )).leaflet = {})
-            );
+        : t((e.L = {}));
     })(this, function (e) {
         'use strict';
         function t(e) {
-            for (var t, i, n = 1, s = arguments.length; n < s; n++)
-                for (t in (i = arguments[n])) e[t] = i[t];
+            var t, i, n, s;
+            for (i = 1, n = arguments.length; i < n; i++)
+                for (t in (s = arguments[i])) e[t] = s[t];
             return e;
         }
-        function i() {}
-        function n(e, t) {
-            var i,
-                n = Array.prototype.slice;
-            return e.bind ?
-                    e.bind.apply(e, n.call(arguments, 1))
-                :   ((i = n.call(arguments, 2)),
-                    function () {
-                        return e.apply(
-                            t,
-                            i.length ? i.concat(n.call(arguments)) : arguments
-                        );
-                    });
+        function i(e, t) {
+            var i = Array.prototype.slice;
+            if (e.bind) return e.bind.apply(e, i.call(arguments, 1));
+            var n = i.call(arguments, 2);
+            return function () {
+                return e.apply(
+                    t,
+                    n.length ? n.concat(i.call(arguments)) : arguments
+                );
+            };
         }
-        function s(e) {
-            return '_leaflet_id' in e || (e._leaflet_id = ++Ke), e._leaflet_id;
+        function n(e) {
+            return (e._leaflet_id = e._leaflet_id || ++it), e._leaflet_id;
         }
-        function a(e, t, i) {
-            var n,
-                s,
-                a = function () {
-                    (n = !1), s && (o.apply(i, s), (s = !1));
-                },
-                o = function () {
+        function s(e, t, i) {
+            var n, s, a, o;
+            return (
+                (o = function () {
+                    (n = !1), s && (a.apply(i, s), (s = !1));
+                }),
+                (a = function () {
                     n ?
                         (s = arguments)
-                    :   (e.apply(i, arguments), setTimeout(a, t), (n = !0));
-                };
-            return o;
+                    :   (e.apply(i, arguments), setTimeout(o, t), (n = !0));
+                })
+            );
         }
-        function o(e, t, i) {
+        function a(e, t, i) {
             var n = t[1],
-                s = n - (t = t[0]);
-            return e === n && i ? e : ((((e - t) % s) + s) % s) + t;
+                s = t[0],
+                a = n - s;
+            return e === n && i ? e : ((((e - s) % a) + a) % a) + s;
         }
-        function r() {
+        function o() {
             return !1;
         }
-        function l(e, t) {
-            return !1 === t ? e : (
-                    ((t = Math.pow(10, void 0 === t ? 6 : t)),
-                    Math.round(e * t) / t)
-                );
+        function r(e, t) {
+            var i = Math.pow(10, void 0 === t ? 6 : t);
+            return Math.round(e * i) / i;
         }
-        function c(e) {
+        function l(e) {
             return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, '');
         }
-        function d(e) {
-            return c(e).split(/\s+/);
+        function c(e) {
+            return l(e).split(/\s+/);
         }
-        function u(e, t) {
-            for (var i in (Object.prototype.hasOwnProperty.call(e, 'options') ||
-                (e.options = e.options ? Ze(e.options) : {}),
+        function d(e, t) {
+            for (var i in (e.hasOwnProperty('options') ||
+                (e.options = e.options ? tt(e.options) : {}),
             t))
                 e.options[i] = t[i];
             return e.options;
         }
-        function h(e, t, i) {
-            var n,
-                s = [];
-            for (n in e)
-                s.push(
-                    encodeURIComponent(i ? n.toUpperCase() : n) +
+        function u(e, t, i) {
+            var n = [];
+            for (var s in e)
+                n.push(
+                    encodeURIComponent(i ? s.toUpperCase() : s) +
                         '=' +
-                        encodeURIComponent(e[n])
+                        encodeURIComponent(e[s])
                 );
-            return (t && -1 !== t.indexOf('?') ? '&' : '?') + s.join('&');
+            return (t && -1 !== t.indexOf('?') ? '&' : '?') + n.join('&');
         }
-        function p(e, t) {
-            return e.replace(Ye, function (e, i) {
-                if (void 0 === (i = t[i]))
+        function h(e, t) {
+            return e.replace(nt, function (e, i) {
+                var n = t[i];
+                if (void 0 === n)
                     throw new Error('No value provided for variable ' + e);
-                return 'function' == typeof i ? i(t) : i;
+                return 'function' == typeof n && (n = n(t)), n;
             });
         }
-        function m(e, t) {
+        function p(e, t) {
             for (var i = 0; i < e.length; i++) if (e[i] === t) return i;
             return -1;
         }
-        function _(e) {
+        function m(e) {
             return (
                 window['webkit' + e] || window['moz' + e] || window['ms' + e]
             );
         }
-        function f(e) {
+        function _(e) {
             var t = +new Date(),
-                i = Math.max(0, 16 - (t - Xe));
-            return (Xe = t + i), window.setTimeout(e, i);
+                i = Math.max(0, 16 - (t - ot));
+            return (ot = t + i), window.setTimeout(e, i);
         }
-        function g(e, t, i) {
-            if (!i || et !== f) return et.call(window, n(e, t));
+        function f(e, t, n) {
+            if (!n || rt !== _) return rt.call(window, i(e, t));
             e.call(t);
         }
-        function v(e) {
-            e && tt.call(window, e);
+        function g(e) {
+            e && lt.call(window, e);
+        }
+        function v() {}
+        function b(e) {
+            if ('undefined' != typeof L && L && L.Mixin) {
+                e = st(e) ? e : [e];
+                for (var t = 0; t < e.length; t++)
+                    e[t] === L.Mixin.Events &&
+                        console.warn(
+                            'Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.',
+                            new Error().stack
+                        );
+            }
         }
-        function b() {}
         function y(e, t, i) {
             (this.x = i ? Math.round(e) : e), (this.y = i ? Math.round(t) : t);
         }
         function w(e, t, i) {
             return (
                 e instanceof y ? e
-                : Je(e) ? new y(e[0], e[1])
+                : st(e) ? new y(e[0], e[1])
                 : null == e ? e
                 : 'object' == typeof e && 'x' in e && 'y' in e ? new y(e.x, e.y)
                 : new y(e, t, i)
@@ -57827,34 +57129,36 @@ Object.values ||
         function C(e, t) {
             return e instanceof T ? e : new T(e, t);
         }
-        function S(e, t, i) {
+        function z(e, t, i) {
             if (isNaN(e) || isNaN(t))
                 throw new Error(
                     'Invalid LatLng object: (' + e + ', ' + t + ')'
                 );
             (this.lat = +e), (this.lng = +t), void 0 !== i && (this.alt = +i);
         }
-        function z(e, t, i) {
+        function S(e, t, i) {
             return (
-                e instanceof S ? e
-                : Je(e) && 'object' != typeof e[0] ?
-                    3 === e.length ? new S(e[0], e[1], e[2])
-                    : 2 === e.length ? new S(e[0], e[1])
+                e instanceof z ? e
+                : st(e) && 'object' != typeof e[0] ?
+                    3 === e.length ? new z(e[0], e[1], e[2])
+                    : 2 === e.length ? new z(e[0], e[1])
                     : null
                 : null == e ? e
                 : 'object' == typeof e && 'lat' in e ?
-                    new S(e.lat, 'lng' in e ? e.lng : e.lon, e.alt)
+                    new z(e.lat, 'lng' in e ? e.lng : e.lon, e.alt)
                 : void 0 === t ? null
-                : new S(e, t, i)
+                : new z(e, t, i)
             );
         }
         function A(e, t, i, n) {
-            Je(e) ?
-                ((this._a = e[0]),
-                (this._b = e[1]),
-                (this._c = e[2]),
-                (this._d = e[3]))
-            :   ((this._a = e), (this._b = t), (this._c = i), (this._d = n));
+            if (st(e))
+                return (
+                    (this._a = e[0]),
+                    (this._b = e[1]),
+                    (this._c = e[2]),
+                    void (this._d = e[3])
+                );
+            (this._a = e), (this._b = t), (this._c = i), (this._d = n);
         }
         function E(e, t, i, n) {
             return new A(e, t, i, n);
@@ -57863,194 +57167,234 @@ Object.values ||
             return document.createElementNS('http://www.w3.org/2000/svg', e);
         }
         function M(e, t) {
-            for (var i, n, s, a, o = '', r = 0, l = e.length; r < l; r++) {
-                for (i = 0, n = (s = e[r]).length; i < n; i++)
-                    o += (i ? 'L' : 'M') + (a = s[i]).x + ' ' + a.y;
-                o +=
+            var i,
+                n,
+                s,
+                a,
+                o,
+                r,
+                l = '';
+            for (i = 0, s = e.length; i < s; i++) {
+                for (n = 0, a = (o = e[i]).length; n < a; n++)
+                    l += (n ? 'L' : 'M') + (r = o[n]).x + ' ' + r.y;
+                l +=
                     t ?
-                        Zt.svg ?
-                            'z'
+                        Jt ? 'z'
                         :   'x'
                     :   '';
             }
-            return o || 'M0 0';
+            return l || 'M0 0';
         }
         function I(e) {
-            return 0 <= navigator.userAgent.toLowerCase().indexOf(e);
+            return navigator.userAgent.toLowerCase().indexOf(e) >= 0;
         }
-        function D(e, t, i) {
+        function j(e, t, i, n) {
             return (
-                'touchstart' !== t ||
-                    ii ||
-                    (document.addEventListener(Kt, j, !0),
-                    document.addEventListener(Yt, R, !0),
-                    document.addEventListener(Jt, B, !0),
-                    document.addEventListener(Qt, B, !0),
-                    (ii = !0)),
-                ei[t] ?
-                    ((i = ei[t].bind(this, i)),
-                    e.addEventListener(Xt[t], i, !1),
-                    i)
-                :   (console.warn('wrong event specified:', t), r)
+                'touchstart' === t ? R(e, i, n)
+                : 'touchmove' === t ? H(e, i, n)
+                : 'touchend' === t && q(e, i, n),
+                this
             );
         }
-        function j(e) {
-            ti[e.pointerId] = e;
+        function D(e, t, i) {
+            var n = e['_leaflet_' + t + i];
+            return (
+                'touchstart' === t ? e.removeEventListener(ei, n, !1)
+                : 'touchmove' === t ? e.removeEventListener(ti, n, !1)
+                : 'touchend' === t &&
+                    (e.removeEventListener(ii, n, !1),
+                    e.removeEventListener(ni, n, !1)),
+                this
+            );
         }
-        function R(e) {
-            ti[e.pointerId] && (ti[e.pointerId] = e);
+        function R(e, t, n) {
+            var s = i(function (e) {
+                if (
+                    'mouse' !== e.pointerType &&
+                    e.MSPOINTER_TYPE_MOUSE &&
+                    e.pointerType !== e.MSPOINTER_TYPE_MOUSE
+                ) {
+                    if (!(si.indexOf(e.target.tagName) < 0)) return;
+                    ke(e);
+                }
+                F(e, t);
+            });
+            (e['_leaflet_touchstart' + n] = s),
+                e.addEventListener(ei, s, !1),
+                oi ||
+                    (document.documentElement.addEventListener(ei, B, !0),
+                    document.documentElement.addEventListener(ti, O, !0),
+                    document.documentElement.addEventListener(ii, N, !0),
+                    document.documentElement.addEventListener(ni, N, !0),
+                    (oi = !0));
         }
         function B(e) {
-            delete ti[e.pointerId];
+            (ai[e.pointerId] = e), ri++;
         }
-        function O(e, t) {
-            if (t.pointerType !== (t.MSPOINTER_TYPE_MOUSE || 'mouse')) {
-                for (var i in ((t.touches = []), ti)) t.touches.push(ti[i]);
-                (t.changedTouches = [t]), e(t);
-            }
+        function O(e) {
+            ai[e.pointerId] && (ai[e.pointerId] = e);
+        }
+        function N(e) {
+            delete ai[e.pointerId], ri--;
         }
         function F(e, t) {
-            function i(e) {
-                var i;
-                1 !== e.detail ?
-                    (n = e.detail)
-                :   'mouse' === e.pointerType ||
-                    (e.sourceCapabilities &&
-                        !e.sourceCapabilities.firesTouchEvents) ||
-                    ((i = be(e)).some(function (e) {
-                        return (
-                            e instanceof HTMLLabelElement && e.attributes.for
-                        );
-                    }) &&
-                        !i.some(function (e) {
-                            return (
-                                e instanceof HTMLInputElement ||
-                                e instanceof HTMLSelectElement
-                            );
-                        })) ||
-                    ((i = Date.now()) - s <= ni ?
-                        2 == ++n &&
-                        t(
-                            (function (e) {
-                                var t,
-                                    i,
-                                    n = {};
-                                for (i in e)
-                                    (t = e[i]),
-                                        (n[i] = t && t.bind ? t.bind(e) : t);
-                                return (
-                                    ((e = n).type = 'dblclick'),
-                                    (n.detail = 2),
-                                    (n.isTrusted = !1),
-                                    (n._simulated = !0),
-                                    n
-                                );
-                            })(e)
-                        )
-                    :   (n = 1),
-                    (s = i));
+            for (var i in ((e.touches = []), ai)) e.touches.push(ai[i]);
+            (e.changedTouches = [e]), t(e);
+        }
+        function H(e, t, i) {
+            var n = function (e) {
+                ((e.pointerType !== e.MSPOINTER_TYPE_MOUSE &&
+                    'mouse' !== e.pointerType) ||
+                    0 !== e.buttons) &&
+                    F(e, t);
+            };
+            (e['_leaflet_touchmove' + i] = n), e.addEventListener(ti, n, !1);
+        }
+        function q(e, t, i) {
+            var n = function (e) {
+                F(e, t);
+            };
+            (e['_leaflet_touchend' + i] = n),
+                e.addEventListener(ii, n, !1),
+                e.addEventListener(ni, n, !1);
+        }
+        function $(e, t, i) {
+            function n(e) {
+                var t;
+                if (Vt) {
+                    if (!Tt || 'mouse' === e.pointerType) return;
+                    t = ri;
+                } else t = e.touches.length;
+                if (!(t > 1)) {
+                    var i = Date.now(),
+                        n = i - (a || i);
+                    (o = e.touches ? e.touches[0] : e),
+                        (r = n > 0 && n <= l),
+                        (a = i);
+                }
             }
-            e.addEventListener('dblclick', t);
-            var n,
-                s = 0;
+            function s(e) {
+                if (r && !o.cancelBubble) {
+                    if (Vt) {
+                        if (!Tt || 'mouse' === e.pointerType) return;
+                        var i,
+                            n,
+                            s = {};
+                        for (n in o)
+                            (i = o[n]), (s[n] = i && i.bind ? i.bind(o) : i);
+                        o = s;
+                    }
+                    (o.type = 'dblclick'), t(o), (a = null);
+                }
+            }
+            var a,
+                o,
+                r = !1,
+                l = 250;
             return (
-                e.addEventListener('click', i), { dblclick: t, simDblclick: i }
+                (e[di + li + i] = n),
+                (e[di + ci + i] = s),
+                (e[di + 'dblclick' + i] = t),
+                e.addEventListener(li, n, !1),
+                e.addEventListener(ci, s, !1),
+                e.addEventListener('dblclick', t, !1),
+                this
             );
         }
-        function N(e) {
+        function W(e, t) {
+            var i = e[di + li + t],
+                n = e[di + ci + t],
+                s = e[di + 'dblclick' + t];
+            return (
+                e.removeEventListener(li, i, !1),
+                e.removeEventListener(ci, n, !1),
+                Tt || e.removeEventListener('dblclick', s, !1),
+                this
+            );
+        }
+        function V(e) {
             return 'string' == typeof e ? document.getElementById(e) : e;
         }
-        function H(e, t) {
+        function U(e, t) {
             var i = e.style[t] || (e.currentStyle && e.currentStyle[t]);
-            return (
-                    'auto' ===
-                        (i =
-                            (i && 'auto' !== i) || !document.defaultView ? i
-                            : (
-                                (e = document.defaultView.getComputedStyle(
-                                    e,
-                                    null
-                                ))
-                            ) ?
-                                e[t]
-                            :   null)
-                ) ?
-                    null
-                :   i;
+            if ((!i || 'auto' === i) && document.defaultView) {
+                var n = document.defaultView.getComputedStyle(e, null);
+                i = n ? n[t] : null;
+            }
+            return 'auto' === i ? null : i;
         }
-        function q(e, t, i) {
-            return (
-                ((e = document.createElement(e)).className = t || ''),
-                i && i.appendChild(e),
-                e
-            );
+        function G(e, t, i) {
+            var n = document.createElement(e);
+            return (n.className = t || ''), i && i.appendChild(n), n;
         }
-        function $(e) {
+        function Z(e) {
             var t = e.parentNode;
             t && t.removeChild(e);
         }
-        function W(e) {
+        function K(e) {
             for (; e.firstChild; ) e.removeChild(e.firstChild);
         }
-        function V(e) {
+        function Y(e) {
             var t = e.parentNode;
             t && t.lastChild !== e && t.appendChild(e);
         }
-        function U(e) {
+        function J(e) {
             var t = e.parentNode;
             t && t.firstChild !== e && t.insertBefore(e, t.firstChild);
         }
-        function G(e, t) {
-            return void 0 !== e.classList ?
-                    e.classList.contains(t)
-                :   0 < (e = J(e)).length &&
-                        new RegExp('(^|\\s)' + t + '(\\s|$)').test(e);
+        function Q(e, t) {
+            if (void 0 !== e.classList) return e.classList.contains(t);
+            var i = ie(e);
+            return (
+                i.length > 0 && new RegExp('(^|\\s)' + t + '(\\s|$)').test(i)
+            );
         }
-        function Z(e, t) {
-            var i;
+        function X(e, t) {
             if (void 0 !== e.classList)
-                for (var n = d(t), s = 0, a = n.length; s < a; s++)
-                    e.classList.add(n[s]);
-            else G(e, t) || Y(e, ((i = J(e)) ? i + ' ' : '') + t);
+                for (var i = c(t), n = 0, s = i.length; n < s; n++)
+                    e.classList.add(i[n]);
+            else if (!Q(e, t)) {
+                var a = ie(e);
+                te(e, (a ? a + ' ' : '') + t);
+            }
         }
-        function K(e, t) {
+        function ee(e, t) {
             void 0 !== e.classList ?
                 e.classList.remove(t)
-            :   Y(e, c((' ' + J(e) + ' ').replace(' ' + t + ' ', ' ')));
+            :   te(e, l((' ' + ie(e) + ' ').replace(' ' + t + ' ', ' ')));
         }
-        function Y(e, t) {
+        function te(e, t) {
             void 0 === e.className.baseVal ?
                 (e.className = t)
             :   (e.className.baseVal = t);
         }
-        function J(e) {
+        function ie(e) {
             return (
-                    void 0 ===
-                        (e =
-                            e.correspondingElement ? e.correspondingElement : e)
-                            .className.baseVal
-                ) ?
+                e.correspondingElement && (e = e.correspondingElement),
+                void 0 === e.className.baseVal ?
                     e.className
-                :   e.className.baseVal;
+                :   e.className.baseVal
+            );
         }
-        function Q(e, t) {
-            if ('opacity' in e.style) e.style.opacity = t;
-            else if ('filter' in e.style) {
-                var i = !1,
-                    n = 'DXImageTransform.Microsoft.Alpha';
-                try {
-                    i = e.filters.item(n);
-                } catch (e) {
-                    if (1 === t) return;
-                }
-                (t = Math.round(100 * t)),
-                    i ?
-                        ((i.Enabled = 100 !== t), (i.Opacity = t))
-                    :   (e.style.filter +=
-                            ' progid:' + n + '(opacity=' + t + ')');
+        function ne(e, t) {
+            'opacity' in e.style ?
+                (e.style.opacity = t)
+            :   'filter' in e.style && se(e, t);
+        }
+        function se(e, t) {
+            var i = !1,
+                n = 'DXImageTransform.Microsoft.Alpha';
+            try {
+                i = e.filters.item(n);
+            } catch (e) {
+                if (1 === t) return;
             }
+            (t = Math.round(100 * t)),
+                i ?
+                    ((i.Enabled = 100 !== t), (i.Opacity = t))
+                :   (e.style.filter += ' progid:' + n + '(opacity=' + t + ')');
         }
-        function X(e) {
+        function ae(e) {
             for (
                 var t = document.documentElement.style, i = 0;
                 i < e.length;
@@ -58059,55 +57403,54 @@ Object.values ||
                 if (e[i] in t) return e[i];
             return !1;
         }
-        function ee(e, t, i) {
-            (t = t || new y(0, 0)),
-                (e.style[si] =
-                    (Zt.ie3d ?
-                        'translate(' + t.x + 'px,' + t.y + 'px)'
-                    :   'translate3d(' + t.x + 'px,' + t.y + 'px,0)') +
-                    (i ? ' scale(' + i + ')' : ''));
+        function oe(e, t, i) {
+            var n = t || new y(0, 0);
+            e.style[ui] =
+                (Ot ?
+                    'translate(' + n.x + 'px,' + n.y + 'px)'
+                :   'translate3d(' + n.x + 'px,' + n.y + 'px,0)') +
+                (i ? ' scale(' + i + ')' : '');
         }
-        function te(e, t) {
+        function re(e, t) {
             (e._leaflet_pos = t),
-                Zt.any3d ?
-                    ee(e, t)
+                Ft ?
+                    oe(e, t)
                 :   ((e.style.left = t.x + 'px'), (e.style.top = t.y + 'px'));
         }
-        function ie(e) {
+        function le(e) {
             return e._leaflet_pos || new y(0, 0);
         }
-        function ne() {
-            ce(window, 'dragstart', ge);
+        function ce() {
+            _e(window, 'dragstart', ke);
         }
-        function se() {
-            de(window, 'dragstart', ge);
+        function de() {
+            fe(window, 'dragstart', ke);
         }
-        function ae(e) {
+        function ue(e) {
             for (; -1 === e.tabIndex; ) e = e.parentNode;
             e.style &&
-                (oe(),
-                (mt = (pt = e).style.outlineStyle),
-                (e.style.outlineStyle = 'none'),
-                ce(window, 'keydown', oe));
+                (he(),
+                (_i = e),
+                (fi = e.style.outline),
+                (e.style.outline = 'none'),
+                _e(window, 'keydown', he));
         }
-        function oe() {
-            pt &&
-                ((pt.style.outlineStyle = mt),
-                (mt = pt = void 0),
-                de(window, 'keydown', oe));
+        function he() {
+            _i &&
+                ((_i.style.outline = fi),
+                (_i = void 0),
+                (fi = void 0),
+                fe(window, 'keydown', he));
         }
-        function re(e) {
-            for (
-                ;
-                !(
-                    ((e = e.parentNode).offsetWidth && e.offsetHeight) ||
-                    e === document.body
-                );
-
+        function pe(e) {
+            do {
+                e = e.parentNode;
+            } while (
+                !((e.offsetWidth && e.offsetHeight) || e === document.body)
             );
             return e;
         }
-        function le(e) {
+        function me(e) {
             var t = e.getBoundingClientRect();
             return {
                 x: t.width / e.offsetWidth || 1,
@@ -58115,132 +57458,125 @@ Object.values ||
                 boundingClientRect: t,
             };
         }
-        function ce(e, t, i, n) {
-            if (t && 'object' == typeof t) for (var s in t) he(e, s, t[s], i);
+        function _e(e, t, i, n) {
+            if ('object' == typeof t) for (var s in t) ge(e, s, t[s], i);
             else
-                for (var a = 0, o = (t = d(t)).length; a < o; a++)
-                    he(e, t[a], i, n);
-            return this;
-        }
-        function de(e, t, i, n) {
-            if (1 === arguments.length) ue(e), delete e[li];
-            else if (t && 'object' == typeof t)
-                for (var s in t) pe(e, s, t[s], i);
-            else if (((t = d(t)), 2 === arguments.length))
-                ue(e, function (e) {
-                    return -1 !== m(t, e);
-                });
-            else for (var a = 0, o = t.length; a < o; a++) pe(e, t[a], i, n);
+                for (var a = 0, o = (t = c(t)).length; a < o; a++)
+                    ge(e, t[a], i, n);
             return this;
         }
-        function ue(e, t) {
-            for (var i in e[li]) {
-                var n = i.split(/\d/)[0];
-                (t && !t(n)) || pe(e, n, null, null, i);
+        function fe(e, t, i, n) {
+            if ('object' == typeof t) for (var s in t) ve(e, s, t[s], i);
+            else if (t)
+                for (var a = 0, o = (t = c(t)).length; a < o; a++)
+                    ve(e, t[a], i, n);
+            else {
+                for (var r in e[bi]) ve(e, r, e[bi][r]);
+                delete e[bi];
             }
+            return this;
         }
-        function he(e, t, i, n) {
-            var a,
-                o,
-                r = t + s(i) + (n ? '_' + s(n) : '');
-            (e[li] && e[li][r]) ||
-                ((o = a =
-                    function (t) {
-                        return i.call(n || e, t || window.event);
-                    }),
-                !Zt.touchNative && Zt.pointer && 0 === t.indexOf('touch') ?
-                    (a = D(e, t, a))
-                : Zt.touch && 'dblclick' === t ? (a = F(e, a))
-                : 'addEventListener' in e ?
-                    (
-                        'touchstart' === t ||
-                        'touchmove' === t ||
-                        'wheel' === t ||
-                        'mousewheel' === t
-                    ) ?
+        function ge(e, t, i, s) {
+            var a = t + n(i) + (s ? '_' + n(s) : '');
+            if (e[bi] && e[bi][a]) return this;
+            var o = function (t) {
+                    return i.call(s || e, t || window.event);
+                },
+                r = o;
+            Vt && 0 === t.indexOf('touch') ? j(e, t, o, a)
+            : !Ut || 'dblclick' !== t || !$ || (Vt && Mt) ?
+                'addEventListener' in e ?
+                    'mousewheel' === t ?
                         e.addEventListener(
-                            ci[t] || t,
-                            a,
-                            !!Zt.passiveEvents && { passive: !1 }
+                            'onwheel' in e ? 'wheel' : 'mousewheel',
+                            o,
+                            !1
                         )
                     : 'mouseenter' === t || 'mouseleave' === t ?
+                        ((o = function (t) {
+                            (t = t || window.event), Ae(e, t) && r(t);
+                        }),
                         e.addEventListener(
-                            ci[t],
-                            (a = function (t) {
-                                (t = t || window.event), ke(e, t) && o(t);
+                            'mouseenter' === t ? 'mouseover' : 'mouseout',
+                            o,
+                            !1
+                        ))
+                    :   ('click' === t &&
+                            zt &&
+                            (o = function (e) {
+                                Ee(e, r);
                             }),
+                        e.addEventListener(t, o, !1))
+                :   'attachEvent' in e && e.attachEvent('on' + t, o)
+            :   $(e, o, a),
+                (e[bi] = e[bi] || {}),
+                (e[bi][a] = o);
+        }
+        function ve(e, t, i, s) {
+            var a = t + n(i) + (s ? '_' + n(s) : ''),
+                o = e[bi] && e[bi][a];
+            if (!o) return this;
+            Vt && 0 === t.indexOf('touch') ? D(e, t, a)
+            : !Ut || 'dblclick' !== t || !W || (Vt && Mt) ?
+                'removeEventListener' in e ?
+                    'mousewheel' === t ?
+                        e.removeEventListener(
+                            'onwheel' in e ? 'wheel' : 'mousewheel',
+                            o,
                             !1
                         )
-                    :   e.addEventListener(t, o, !1)
-                :   e.attachEvent('on' + t, a),
-                (e[li] = e[li] || {}),
-                (e[li][r] = a));
-        }
-        function pe(e, t, i, n, a) {
-            var o, r;
-            (a = a || t + s(i) + (n ? '_' + s(n) : '')),
-                (i = e[li] && e[li][a]) &&
-                    (!Zt.touchNative && Zt.pointer && 0 === t.indexOf('touch') ?
-                        ((n = e),
-                        (r = i),
-                        Xt[(o = t)] ?
-                            n.removeEventListener(Xt[o], r, !1)
-                        :   console.warn('wrong event specified:', o))
-                    : Zt.touch && 'dblclick' === t ?
-                        ((n = i),
-                        (r = e).removeEventListener('dblclick', n.dblclick),
-                        r.removeEventListener('click', n.simDblclick))
-                    : 'removeEventListener' in e ?
-                        e.removeEventListener(ci[t] || t, i, !1)
-                    :   e.detachEvent('on' + t, i),
-                    (e[li][a] = null));
+                    :   e.removeEventListener(
+                            'mouseenter' === t ? 'mouseover'
+                            : 'mouseleave' === t ? 'mouseout'
+                            : t,
+                            o,
+                            !1
+                        )
+                :   'detachEvent' in e && e.detachEvent('on' + t, o)
+            :   W(e, a),
+                (e[bi][a] = null);
         }
-        function me(e) {
+        function be(e) {
             return (
                 e.stopPropagation ? e.stopPropagation()
                 : e.originalEvent ? (e.originalEvent._stopped = !0)
                 : (e.cancelBubble = !0),
+                Se(e),
                 this
             );
         }
-        function _e(e) {
-            return he(e, 'wheel', me), this;
+        function ye(e) {
+            return ge(e, 'mousewheel', be), this;
         }
-        function fe(e) {
+        function we(e) {
             return (
-                ce(e, 'mousedown touchstart dblclick contextmenu', me),
-                (e._leaflet_disable_click = !0),
+                _e(e, 'mousedown touchstart dblclick', be),
+                ge(e, 'click', ze),
                 this
             );
         }
-        function ge(e) {
+        function ke(e) {
             return (
                 e.preventDefault ? e.preventDefault() : (e.returnValue = !1),
                 this
             );
         }
-        function ve(e) {
-            return ge(e), me(e), this;
-        }
-        function be(e) {
-            if (e.composedPath) return e.composedPath();
-            for (var t = [], i = e.target; i; ) t.push(i), (i = i.parentNode);
-            return t;
+        function xe(e) {
+            return ke(e), be(e), this;
         }
-        function ye(e, t) {
-            var i, n;
-            return t ?
-                    ((n = (i = le(t)).boundingClientRect),
-                    new y(
-                        (e.clientX - n.left) / i.x - t.clientLeft,
-                        (e.clientY - n.top) / i.y - t.clientTop
-                    ))
-                :   new y(e.clientX, e.clientY);
+        function Te(e, t) {
+            if (!t) return new y(e.clientX, e.clientY);
+            var i = me(t),
+                n = i.boundingClientRect;
+            return new y(
+                (e.clientX - n.left) / i.x - t.clientLeft,
+                (e.clientY - n.top) / i.y - t.clientTop
+            );
         }
-        function we(e) {
+        function Ce(e) {
             return (
-                Zt.edge ? e.wheelDeltaY / 2
-                : e.deltaY && 0 === e.deltaMode ? -e.deltaY / di
+                Tt ? e.wheelDeltaY / 2
+                : e.deltaY && 0 === e.deltaMode ? -e.deltaY / yi
                 : e.deltaY && 1 === e.deltaMode ? 20 * -e.deltaY
                 : e.deltaY && 2 === e.deltaMode ? 60 * -e.deltaY
                 : e.deltaX || e.deltaZ ? 0
@@ -58250,7 +57586,14 @@ Object.values ||
                 : 0
             );
         }
-        function ke(e, t) {
+        function ze(e) {
+            wi[e.type] = !0;
+        }
+        function Se(e) {
+            var t = wi[e.type];
+            return (wi[e.type] = !1), t;
+        }
+        function Ae(e, t) {
             var i = t.relatedTarget;
             if (!i) return !0;
             try {
@@ -58260,148 +57603,80 @@ Object.values ||
             }
             return i !== e;
         }
-        function xe(e) {
-            return new pi(e);
+        function Ee(e, t) {
+            var i =
+                    e.timeStamp ||
+                    (e.originalEvent && e.originalEvent.timeStamp),
+                n = gi && i - gi;
+            (
+                (n && n > 100 && n < 500) ||
+                (e.target._simulatedClick && !e._simulated)
+            ) ?
+                xe(e)
+            :   ((gi = i), t(e));
         }
-        function Te(e, t, i) {
-            for (
-                var n, s, a, o, r, l, c, d = [1, 4, 2, 8], u = 0, h = e.length;
-                u < h;
-                u++
-            )
-                e[u]._code = Me(e[u], t);
-            for (a = 0; a < 4; a++) {
-                for (
-                    l = d[a], n = [], u = 0, s = (h = e.length) - 1;
-                    u < h;
-                    s = u++
-                )
-                    (o = e[u]),
-                        (r = e[s]),
-                        o._code & l ?
-                            r._code & l ||
-                            (((c = Pe(r, o, l, t, i))._code = Me(c, t)),
-                            n.push(c))
-                        :   (r._code & l &&
-                                (((c = Pe(r, o, l, t, i))._code = Me(c, t)),
-                                n.push(c)),
-                            n.push(o));
-                e = n;
-            }
-            return e;
+        function Pe(e, t) {
+            if (!t || !e.length) return e.slice();
+            var i = t * t;
+            return Ie((e = De(e, i)), i);
         }
-        function Ce(e, t) {
-            var i, n, s, a, o, r, l;
-            if (!e || 0 === e.length) throw new Error('latlngs not passed');
-            De(e) ||
-                (console.warn(
-                    'latlngs are not flat! Only the first ring will be used'
-                ),
-                (e = e[0]));
-            for (
-                var c = z([0, 0]),
-                    d = C(e),
-                    u =
-                        (d.getNorthWest().distanceTo(d.getSouthWest()) *
-                            d.getNorthEast().distanceTo(d.getNorthWest()) <
-                            1700 && (c = Se(e)),
-                        e.length),
-                    h = [],
-                    p = 0;
-                p < u;
-                p++
-            ) {
-                var m = z(e[p]);
-                h.push(t.project(z([m.lat - c.lat, m.lng - c.lng])));
-            }
-            for (p = o = r = l = 0, i = u - 1; p < u; i = p++)
-                (n = h[p]),
-                    (s = h[i]),
-                    (a = n.y * s.x - s.y * n.x),
-                    (r += (n.x + s.x) * a),
-                    (l += (n.y + s.y) * a),
-                    (o += 3 * a);
-            return (
-                (d = 0 === o ? h[0] : [r / o, l / o]),
-                z([(d = t.unproject(w(d))).lat + c.lat, d.lng + c.lng])
-            );
+        function Me(e, t, i) {
+            return Math.sqrt(Le(e, t, i, !0));
         }
-        function Se(e) {
-            for (var t = 0, i = 0, n = 0, s = 0; s < e.length; s++) {
-                var a = z(e[s]);
-                (t += a.lat), (i += a.lng), n++;
-            }
-            return z([t / n, i / n]);
+        function Ie(e, t) {
+            var i = e.length,
+                n = new (typeof Uint8Array != void 0 + '' ? Uint8Array : Array)(
+                    i
+                );
+            (n[0] = n[i - 1] = 1), je(e, n, t, 0, i - 1);
+            var s,
+                a = [];
+            for (s = 0; s < i; s++) n[s] && a.push(e[s]);
+            return a;
         }
-        function ze(e, t) {
-            if (t && e.length) {
-                var i = (e = (function (e, t) {
-                        for (
-                            var i = [e[0]], n = 1, s = 0, a = e.length;
-                            n < a;
-                            n++
-                        )
-                            (function (e, t) {
-                                var i = t.x - e.x;
-                                return i * i + (t = t.y - e.y) * t;
-                            })(e[n], e[s]) > t && (i.push(e[n]), (s = n));
-                        return s < a - 1 && i.push(e[a - 1]), i;
-                    })(e, (t *= t))),
-                    n = i.length,
-                    s = new (
-                        typeof Uint8Array != void 0 + '' ?
-                            Uint8Array
-                        :   Array)(n);
-                (s[0] = s[n - 1] = 1),
-                    (function e(t, i, n, s, a) {
-                        var o,
-                            r,
-                            l,
-                            c = 0;
-                        for (r = s + 1; r <= a - 1; r++)
-                            c < (l = Ie(t[r], t[s], t[a], !0)) &&
-                                ((o = r), (c = l));
-                        n < c &&
-                            ((i[o] = 1), e(t, i, n, s, o), e(t, i, n, o, a));
-                    })(i, s, t, 0, n - 1);
-                var a,
-                    o = [];
-                for (a = 0; a < n; a++) s[a] && o.push(i[a]);
-                return o;
-            }
-            return e.slice();
+        function je(e, t, i, n, s) {
+            var a,
+                o,
+                r,
+                l = 0;
+            for (o = n + 1; o <= s - 1; o++)
+                (r = Le(e[o], e[n], e[s], !0)) > l && ((a = o), (l = r));
+            l > i && ((t[a] = 1), je(e, t, i, n, a), je(e, t, i, a, s));
         }
-        function Ae(e, t, i) {
-            return Math.sqrt(Ie(e, t, i, !0));
+        function De(e, t) {
+            for (var i = [e[0]], n = 1, s = 0, a = e.length; n < a; n++)
+                Ne(e[n], e[s]) > t && (i.push(e[n]), (s = n));
+            return s < a - 1 && i.push(e[a - 1]), i;
         }
-        function Ee(e, t, i, n, s) {
+        function Re(e, t, i, n, s) {
             var a,
                 o,
                 r,
-                l = n ? ri : Me(e, i),
-                c = Me(t, i);
-            for (ri = c; ; ) {
+                l = n ? Ii : Oe(e, i),
+                c = Oe(t, i);
+            for (Ii = c; ; ) {
                 if (!(l | c)) return [e, t];
                 if (l & c) return !1;
-                (r = Me((o = Pe(e, t, (a = l || c), i, s)), i)),
+                (r = Oe((o = Be(e, t, (a = l || c), i, s)), i)),
                     a === l ? ((e = o), (l = r)) : ((t = o), (c = r));
             }
         }
-        function Pe(e, t, i, n, s) {
+        function Be(e, t, i, n, s) {
             var a,
                 o,
                 r = t.x - e.x,
-                l = ((t = t.y - e.y), n.min);
-            n = n.max;
+                l = t.y - e.y,
+                c = n.min,
+                d = n.max;
             return (
-                8 & i ? ((a = e.x + (r * (n.y - e.y)) / t), (o = n.y))
-                : 4 & i ? ((a = e.x + (r * (l.y - e.y)) / t), (o = l.y))
-                : 2 & i ? ((a = n.x), (o = e.y + (t * (n.x - e.x)) / r))
-                : 1 & i && ((a = l.x), (o = e.y + (t * (l.x - e.x)) / r)),
+                8 & i ? ((a = e.x + (r * (d.y - e.y)) / l), (o = d.y))
+                : 4 & i ? ((a = e.x + (r * (c.y - e.y)) / l), (o = c.y))
+                : 2 & i ? ((a = d.x), (o = e.y + (l * (d.x - e.x)) / r))
+                : 1 & i && ((a = c.x), (o = e.y + (l * (c.x - e.x)) / r)),
                 new y(a, o, s)
             );
         }
-        function Me(e, t) {
+        function Oe(e, t) {
             var i = 0;
             return (
                 e.x < t.min.x ? (i |= 1) : e.x > t.max.x && (i |= 2),
@@ -58409,76 +57684,74 @@ Object.values ||
                 i
             );
         }
-        function Ie(e, t, i, n) {
-            var s = t.x,
-                a = ((t = t.y), i.x - s),
-                o = i.y - t,
-                r = a * a + o * o;
+        function Ne(e, t) {
+            var i = t.x - e.x,
+                n = t.y - e.y;
+            return i * i + n * n;
+        }
+        function Le(e, t, i, n) {
+            var s,
+                a = t.x,
+                o = t.y,
+                r = i.x - a,
+                l = i.y - o,
+                c = r * r + l * l;
             return (
-                0 < r &&
-                    (1 < (r = ((e.x - s) * a + (e.y - t) * o) / r) ?
-                        ((s = i.x), (t = i.y))
-                    :   0 < r && ((s += a * r), (t += o * r))),
-                (a = e.x - s),
-                (o = e.y - t),
-                n ? a * a + o * o : new y(s, t)
+                c > 0 &&
+                    ((s = ((e.x - a) * r + (e.y - o) * l) / c) > 1 ?
+                        ((a = i.x), (o = i.y))
+                    :   s > 0 && ((a += r * s), (o += l * s))),
+                (r = e.x - a),
+                (l = e.y - o),
+                n ? r * r + l * l : new y(a, o)
             );
         }
-        function De(e) {
+        function Fe(e) {
             return (
-                !Je(e[0]) || ('object' != typeof e[0][0] && void 0 !== e[0][0])
+                !st(e[0]) || ('object' != typeof e[0][0] && void 0 !== e[0][0])
             );
         }
-        function je(e) {
+        function He(e) {
             return (
                 console.warn(
                     'Deprecated use of _flat, please use L.LineUtil.isFlat instead.'
                 ),
-                De(e)
+                Fe(e)
             );
         }
-        function Re(e, t) {
-            var i, n, s, a, o, r;
-            if (!e || 0 === e.length) throw new Error('latlngs not passed');
-            De(e) ||
-                (console.warn(
-                    'latlngs are not flat! Only the first ring will be used'
-                ),
-                (e = e[0]));
-            for (
-                var l = z([0, 0]),
-                    c = C(e),
-                    d =
-                        (c.getNorthWest().distanceTo(c.getSouthWest()) *
-                            c.getNorthEast().distanceTo(c.getNorthWest()) <
-                            1700 && (l = Se(e)),
-                        e.length),
-                    u = [],
-                    h = 0;
-                h < d;
-                h++
-            ) {
-                var p = z(e[h]);
-                u.push(t.project(z([p.lat - l.lat, p.lng - l.lng])));
+        function qe(e, t, i) {
+            var n,
+                s,
+                a,
+                o,
+                r,
+                l,
+                c,
+                d,
+                u,
+                h = [1, 4, 2, 8];
+            for (s = 0, c = e.length; s < c; s++) e[s]._code = Oe(e[s], t);
+            for (o = 0; o < 4; o++) {
+                for (
+                    d = h[o], n = [], s = 0, a = (c = e.length) - 1;
+                    s < c;
+                    a = s++
+                )
+                    (r = e[s]),
+                        (l = e[a]),
+                        r._code & d ?
+                            l._code & d ||
+                            (((u = Be(l, r, d, t, i))._code = Oe(u, t)),
+                            n.push(u))
+                        :   (l._code & d &&
+                                (((u = Be(l, r, d, t, i))._code = Oe(u, t)),
+                                n.push(u)),
+                            n.push(r));
+                e = n;
             }
-            for (i = h = 0; h < d - 1; h++) i += u[h].distanceTo(u[h + 1]) / 2;
-            if (0 === i) r = u[0];
-            else
-                for (n = h = 0; h < d - 1; h++)
-                    if (
-                        ((s = u[h]),
-                        (a = u[h + 1]),
-                        i < (n += o = s.distanceTo(a)))
-                    ) {
-                        r = [
-                            a.x - (o = (n - i) / o) * (a.x - s.x),
-                            a.y - o * (a.y - s.y),
-                        ];
-                        break;
-                    }
-            return z([(c = t.unproject(w(r))).lat + l.lat, c.lng + l.lng]);
+            return e;
         }
-        function Be(e, t) {
+        function $e(e, t) {
             var i,
                 n,
                 s,
@@ -58487,30 +57760,30 @@ Object.values ||
                 r = o ? o.coordinates : null,
                 l = [],
                 c = t && t.pointToLayer,
-                d = (t && t.coordsToLatLng) || Oe;
+                d = (t && t.coordsToLatLng) || We;
             if (!r && !o) return null;
             switch (o.type) {
                 case 'Point':
-                    return Le(c, e, (i = d(r)), t);
+                    return (i = d(r)), c ? c(e, i) : new Qi(i);
                 case 'MultiPoint':
                     for (s = 0, a = r.length; s < a; s++)
-                        (i = d(r[s])), l.push(Le(c, e, i, t));
-                    return new ki(l);
+                        (i = d(r[s])), l.push(c ? c(e, i) : new Qi(i));
+                    return new Zi(l);
                 case 'LineString':
                 case 'MultiLineString':
                     return (
-                        (n = Fe(r, 'LineString' === o.type ? 0 : 1, d)),
-                        new Pi(n, t)
+                        (n = Ve(r, 'LineString' === o.type ? 0 : 1, d)),
+                        new nn(n, t)
                     );
                 case 'Polygon':
                 case 'MultiPolygon':
                     return (
-                        (n = Fe(r, 'Polygon' === o.type ? 1 : 2, d)),
-                        new Mi(n, t)
+                        (n = Ve(r, 'Polygon' === o.type ? 1 : 2, d)),
+                        new sn(n, t)
                     );
                 case 'GeometryCollection':
                     for (s = 0, a = o.geometries.length; s < a; s++) {
-                        var u = Be(
+                        var u = $e(
                             {
                                 geometry: o.geometries[s],
                                 type: 'Feature',
@@ -58520,169 +57793,147 @@ Object.values ||
                         );
                         u && l.push(u);
                     }
-                    return new ki(l);
-                case 'FeatureCollection':
-                    for (s = 0, a = o.features.length; s < a; s++) {
-                        var h = Be(o.features[s], t);
-                        h && l.push(h);
-                    }
-                    return new ki(l);
+                    return new Zi(l);
                 default:
                     throw new Error('Invalid GeoJSON object.');
             }
         }
-        function Le(e, t, i, n) {
-            return e ? e(t, i) : new Si(i, n && n.markersInheritOptions && n);
-        }
-        function Oe(e) {
-            return new S(e[1], e[0], e[2]);
+        function We(e) {
+            return new z(e[1], e[0], e[2]);
         }
-        function Fe(e, t, i) {
+        function Ve(e, t, i) {
             for (var n, s = [], a = 0, o = e.length; a < o; a++)
-                (n = t ? Fe(e[a], t - 1, i) : (i || Oe)(e[a])), s.push(n);
+                (n = t ? Ve(e[a], t - 1, i) : (i || We)(e[a])), s.push(n);
             return s;
         }
-        function Ne(e, t) {
-            return void 0 !== (e = z(e)).alt ?
-                    [l(e.lng, t), l(e.lat, t), l(e.alt, t)]
-                :   [l(e.lng, t), l(e.lat, t)];
+        function Ue(e, t) {
+            return (
+                (t = 'number' == typeof t ? t : 6),
+                void 0 !== e.alt ?
+                    [r(e.lng, t), r(e.lat, t), r(e.alt, t)]
+                :   [r(e.lng, t), r(e.lat, t)]
+            );
         }
-        function He(e, t, i, n) {
+        function Ge(e, t, i, n) {
             for (var s = [], a = 0, o = e.length; a < o; a++)
-                s.push(t ? He(e[a], De(e[a]) ? 0 : t - 1, i, n) : Ne(e[a], n));
-            return !t && i && 0 < s.length && s.push(s[0].slice()), s;
+                s.push(t ? Ge(e[a], t - 1, i, n) : Ue(e[a], n));
+            return !t && i && s.push(s[0]), s;
         }
-        function qe(e, i) {
-            return e.feature ? t({}, e.feature, { geometry: i }) : $e(i);
+        function Ze(e, i) {
+            return e.feature ? t({}, e.feature, { geometry: i }) : Ke(i);
         }
-        function $e(e) {
+        function Ke(e) {
             return 'Feature' === e.type || 'FeatureCollection' === e.type ?
                     e
                 :   { type: 'Feature', properties: {}, geometry: e };
         }
-        function We(e, t) {
-            return new Ii(e, t);
+        function Ye(e, t) {
+            return new an(e, t);
         }
-        function Ve(e, t) {
-            return new Hi(e, t);
+        function Je(e, t) {
+            return new _n(e, t);
         }
-        function Ue(e) {
-            return Zt.canvas ? new Wi(e) : null;
+        function Qe(e) {
+            return Yt ? new vn(e) : null;
         }
-        function Ge(e) {
-            return Zt.svg || Zt.vml ? new Gi(e) : null;
+        function Xe(e) {
+            return Jt || Qt ? new kn(e) : null;
         }
-        var Ze =
+        var et = Object.freeze;
+        Object.freeze = function (e) {
+            return e;
+        };
+        var tt =
                 Object.create ||
-                function (e) {
-                    return (i.prototype = e), new i();
-                },
-            Ke = 0,
-            Ye = /\{ *([\w_ -]+) *\}/g,
-            Je =
+                (function () {
+                    function e() {}
+                    return function (t) {
+                        return (e.prototype = t), new e();
+                    };
+                })(),
+            it = 0,
+            nt = /\{ *([\w_-]+) *\}/g,
+            st =
                 Array.isArray ||
                 function (e) {
                     return (
                         '[object Array]' === Object.prototype.toString.call(e)
                     );
                 },
-            Qe = 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=',
-            Xe = 0,
-            et =
-                window.requestAnimationFrame || _('RequestAnimationFrame') || f,
-            tt =
+            at = 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=',
+            ot = 0,
+            rt =
+                window.requestAnimationFrame || m('RequestAnimationFrame') || _,
+            lt =
                 window.cancelAnimationFrame ||
-                _('CancelAnimationFrame') ||
-                _('CancelRequestAnimationFrame') ||
+                m('CancelAnimationFrame') ||
+                m('CancelRequestAnimationFrame') ||
                 function (e) {
                     window.clearTimeout(e);
                 },
-            it = {
-                __proto__: null,
+            ct = (Object.freeze || Object)({
+                freeze: et,
                 extend: t,
-                create: Ze,
-                bind: n,
-                get lastId() {
-                    return Ke;
-                },
-                stamp: s,
-                throttle: a,
-                wrapNum: o,
-                falseFn: r,
-                formatNum: l,
-                trim: c,
-                splitWords: d,
-                setOptions: u,
-                getParamString: h,
-                template: p,
-                isArray: Je,
-                indexOf: m,
-                emptyImageUrl: Qe,
-                requestFn: et,
-                cancelFn: tt,
-                requestAnimFrame: g,
-                cancelAnimFrame: v,
-            };
-        (b.extend = function (e) {
-            function i() {
-                u(this),
+                create: tt,
+                bind: i,
+                lastId: it,
+                stamp: n,
+                throttle: s,
+                wrapNum: a,
+                falseFn: o,
+                formatNum: r,
+                trim: l,
+                splitWords: c,
+                setOptions: d,
+                getParamString: u,
+                template: h,
+                isArray: st,
+                indexOf: p,
+                emptyImageUrl: at,
+                requestFn: rt,
+                cancelFn: lt,
+                requestAnimFrame: f,
+                cancelAnimFrame: g,
+            });
+        (v.extend = function (e) {
+            var i = function () {
                     this.initialize && this.initialize.apply(this, arguments),
-                    this.callInitHooks();
-            }
-            var n,
-                s = (i.__super__ = this.prototype),
-                a = Ze(s);
-            for (n in (((a.constructor = i).prototype = a), this))
-                Object.prototype.hasOwnProperty.call(this, n) &&
-                    'prototype' !== n &&
-                    '__super__' !== n &&
-                    (i[n] = this[n]);
-            if ((e.statics && t(i, e.statics), e.includes)) {
-                var o = e.includes;
-                if ('undefined' != typeof L && L && L.Mixin) {
-                    o = Je(o) ? o : [o];
-                    for (var r = 0; r < o.length; r++)
-                        o[r] === L.Mixin.Events &&
-                            console.warn(
-                                'Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.',
-                                new Error().stack
-                            );
-                }
-                t.apply(null, [a].concat(e.includes));
-            }
+                        this.callInitHooks();
+                },
+                n = (i.__super__ = this.prototype),
+                s = tt(n);
+            for (var a in ((s.constructor = i), (i.prototype = s), this))
+                this.hasOwnProperty(a) &&
+                    'prototype' !== a &&
+                    '__super__' !== a &&
+                    (i[a] = this[a]);
             return (
-                t(a, e),
-                delete a.statics,
-                delete a.includes,
-                a.options &&
-                    ((a.options = s.options ? Ze(s.options) : {}),
-                    t(a.options, e.options)),
-                (a._initHooks = []),
-                (a.callInitHooks = function () {
+                e.statics && (t(i, e.statics), delete e.statics),
+                e.includes &&
+                    (b(e.includes),
+                    t.apply(null, [s].concat(e.includes)),
+                    delete e.includes),
+                s.options && (e.options = t(tt(s.options), e.options)),
+                t(s, e),
+                (s._initHooks = []),
+                (s.callInitHooks = function () {
                     if (!this._initHooksCalled) {
-                        s.callInitHooks && s.callInitHooks.call(this),
+                        n.callInitHooks && n.callInitHooks.call(this),
                             (this._initHooksCalled = !0);
-                        for (var e = 0, t = a._initHooks.length; e < t; e++)
-                            a._initHooks[e].call(this);
+                        for (var e = 0, t = s._initHooks.length; e < t; e++)
+                            s._initHooks[e].call(this);
                     }
                 }),
                 i
             );
         }),
-            (b.include = function (e) {
-                var i = this.prototype.options;
-                return (
-                    t(this.prototype, e),
-                    e.options &&
-                        ((this.prototype.options = i),
-                        this.mergeOptions(e.options)),
-                    this
-                );
+            (v.include = function (e) {
+                return t(this.prototype, e), this;
             }),
-            (b.mergeOptions = function (e) {
+            (v.mergeOptions = function (e) {
                 return t(this.prototype.options, e), this;
             }),
-            (b.addInitHook = function (e) {
+            (v.addInitHook = function (e) {
                 var t = Array.prototype.slice.call(arguments, 1),
                     i =
                         'function' == typeof e ? e : (
@@ -58697,152 +57948,126 @@ Object.values ||
                     this
                 );
             });
-        var nt = {
-                on: function (e, t, i) {
+        var dt = {
+            on: function (e, t, i) {
+                if ('object' == typeof e) for (var n in e) this._on(n, e[n], t);
+                else
+                    for (var s = 0, a = (e = c(e)).length; s < a; s++)
+                        this._on(e[s], t, i);
+                return this;
+            },
+            off: function (e, t, i) {
+                if (e)
                     if ('object' == typeof e)
-                        for (var n in e) this._on(n, e[n], t);
+                        for (var n in e) this._off(n, e[n], t);
                     else
-                        for (var s = 0, a = (e = d(e)).length; s < a; s++)
-                            this._on(e[s], t, i);
-                    return this;
-                },
-                off: function (e, t, i) {
-                    if (arguments.length)
-                        if ('object' == typeof e)
-                            for (var n in e) this._off(n, e[n], t);
-                        else {
-                            e = d(e);
-                            for (
-                                var s = 1 === arguments.length,
-                                    a = 0,
-                                    o = e.length;
-                                a < o;
-                                a++
-                            )
-                                s ? this._off(e[a]) : this._off(e[a], t, i);
-                        }
-                    else delete this._events;
-                    return this;
-                },
-                _on: function (e, t, i, n) {
-                    'function' != typeof t ?
-                        console.warn('wrong listener type: ' + typeof t)
-                    :   !1 === this._listens(e, t, i) &&
-                        ((t = { fn: t, ctx: (i = i === this ? void 0 : i) }),
-                        n && (t.once = !0),
-                        (this._events = this._events || {}),
-                        (this._events[e] = this._events[e] || []),
-                        this._events[e].push(t));
-                },
-                _off: function (e, t, i) {
-                    var n, s, a;
-                    if (this._events && (n = this._events[e]))
-                        if (1 === arguments.length) {
-                            if (this._firingCount)
-                                for (s = 0, a = n.length; s < a; s++)
-                                    n[s].fn = r;
-                            delete this._events[e];
-                        } else
-                            'function' != typeof t ?
-                                console.warn('wrong listener type: ' + typeof t)
-                            :   !1 !== (t = this._listens(e, t, i)) &&
-                                ((i = n[t]),
-                                this._firingCount &&
-                                    ((i.fn = r),
-                                    (this._events[e] = n = n.slice())),
-                                n.splice(t, 1));
-                },
-                fire: function (e, i, n) {
-                    if (this.listens(e, n)) {
-                        var s = t({}, i, {
-                            type: e,
-                            target: this,
-                            sourceTarget: (i && i.sourceTarget) || this,
-                        });
-                        if (this._events) {
-                            var a = this._events[e];
-                            if (a) {
-                                this._firingCount = this._firingCount + 1 || 1;
-                                for (var o = 0, r = a.length; o < r; o++) {
-                                    var l = a[o],
-                                        c = l.fn;
-                                    l.once && this.off(e, c, l.ctx),
-                                        c.call(l.ctx || this, s);
-                                }
-                                this._firingCount--;
+                        for (var s = 0, a = (e = c(e)).length; s < a; s++)
+                            this._off(e[s], t, i);
+                else delete this._events;
+                return this;
+            },
+            _on: function (e, t, i) {
+                this._events = this._events || {};
+                var n = this._events[e];
+                n || ((n = []), (this._events[e] = n)),
+                    i === this && (i = void 0);
+                for (
+                    var s = { fn: t, ctx: i }, a = n, o = 0, r = a.length;
+                    o < r;
+                    o++
+                )
+                    if (a[o].fn === t && a[o].ctx === i) return;
+                a.push(s);
+            },
+            _off: function (e, t, i) {
+                var n, s, a;
+                if (this._events && (n = this._events[e]))
+                    if (t) {
+                        if ((i === this && (i = void 0), n))
+                            for (s = 0, a = n.length; s < a; s++) {
+                                var r = n[s];
+                                if (r.ctx === i && r.fn === t)
+                                    return (
+                                        (r.fn = o),
+                                        this._firingCount &&
+                                            (this._events[e] = n = n.slice()),
+                                        void n.splice(s, 1)
+                                    );
                             }
-                        }
-                        n && this._propagateEvent(s);
+                    } else {
+                        for (s = 0, a = n.length; s < a; s++) n[s].fn = o;
+                        delete this._events[e];
                     }
-                    return this;
-                },
-                listens: function (e, t, i, n) {
-                    'string' != typeof e &&
-                        console.warn('"string" type argument expected');
-                    var s = t,
-                        a =
-                            ('function' != typeof t &&
-                                ((n = !!t), (i = s = void 0)),
-                            this._events && this._events[e]);
-                    if (a && a.length && !1 !== this._listens(e, s, i))
-                        return !0;
-                    if (n)
-                        for (var o in this._eventParents)
-                            if (this._eventParents[o].listens(e, t, i, n))
-                                return !0;
-                    return !1;
-                },
-                _listens: function (e, t, i) {
-                    if (this._events) {
-                        var n = this._events[e] || [];
-                        if (!t) return !!n.length;
-                        i === this && (i = void 0);
-                        for (var s = 0, a = n.length; s < a; s++)
-                            if (n[s].fn === t && n[s].ctx === i) return s;
+            },
+            fire: function (e, i, n) {
+                if (!this.listens(e, n)) return this;
+                var s = t({}, i, {
+                    type: e,
+                    target: this,
+                    sourceTarget: (i && i.sourceTarget) || this,
+                });
+                if (this._events) {
+                    var a = this._events[e];
+                    if (a) {
+                        this._firingCount = this._firingCount + 1 || 1;
+                        for (var o = 0, r = a.length; o < r; o++) {
+                            var l = a[o];
+                            l.fn.call(l.ctx || this, s);
+                        }
+                        this._firingCount--;
                     }
-                    return !1;
-                },
-                once: function (e, t, i) {
-                    if ('object' == typeof e)
-                        for (var n in e) this._on(n, e[n], t, !0);
-                    else
-                        for (var s = 0, a = (e = d(e)).length; s < a; s++)
-                            this._on(e[s], t, i, !0);
+                }
+                return n && this._propagateEvent(s), this;
+            },
+            listens: function (e, t) {
+                var i = this._events && this._events[e];
+                if (i && i.length) return !0;
+                if (t)
+                    for (var n in this._eventParents)
+                        if (this._eventParents[n].listens(e, t)) return !0;
+                return !1;
+            },
+            once: function (e, t, n) {
+                if ('object' == typeof e) {
+                    for (var s in e) this.once(s, e[s], t);
                     return this;
-                },
-                addEventParent: function (e) {
-                    return (
-                        (this._eventParents = this._eventParents || {}),
-                        (this._eventParents[s(e)] = e),
-                        this
-                    );
-                },
-                removeEventParent: function (e) {
-                    return (
-                        this._eventParents && delete this._eventParents[s(e)],
-                        this
+                }
+                var a = i(function () {
+                    this.off(e, t, n).off(e, a, n);
+                }, this);
+                return this.on(e, t, n).on(e, a, n);
+            },
+            addEventParent: function (e) {
+                return (
+                    (this._eventParents = this._eventParents || {}),
+                    (this._eventParents[n(e)] = e),
+                    this
+                );
+            },
+            removeEventParent: function (e) {
+                return (
+                    this._eventParents && delete this._eventParents[n(e)], this
+                );
+            },
+            _propagateEvent: function (e) {
+                for (var i in this._eventParents)
+                    this._eventParents[i].fire(
+                        e.type,
+                        t({ layer: e.target, propagatedFrom: e.target }, e),
+                        !0
                     );
-                },
-                _propagateEvent: function (e) {
-                    for (var i in this._eventParents)
-                        this._eventParents[i].fire(
-                            e.type,
-                            t({ layer: e.target, propagatedFrom: e.target }, e),
-                            !0
-                        );
-                },
             },
-            st =
-                ((nt.addEventListener = nt.on),
-                (nt.removeEventListener = nt.clearAllEventListeners = nt.off),
-                (nt.addOneTimeEventListener = nt.once),
-                (nt.fireEvent = nt.fire),
-                (nt.hasEventListeners = nt.listens),
-                b.extend(nt)),
-            at =
+        };
+        (dt.addEventListener = dt.on),
+            (dt.removeEventListener = dt.clearAllEventListeners = dt.off),
+            (dt.addOneTimeEventListener = dt.once),
+            (dt.fireEvent = dt.fire),
+            (dt.hasEventListeners = dt.listens);
+        var ut = v.extend(dt),
+            ht =
                 Math.trunc ||
                 function (e) {
-                    return 0 < e ? Math.floor(e) : Math.ceil(e);
+                    return e > 0 ? Math.floor(e) : Math.ceil(e);
                 };
         (y.prototype = {
             clone: function () {
@@ -58912,12 +58137,12 @@ Object.values ||
                 return this.clone()._trunc();
             },
             _trunc: function () {
-                return (this.x = at(this.x)), (this.y = at(this.y)), this;
+                return (this.x = ht(this.x)), (this.y = ht(this.y)), this;
             },
             distanceTo: function (e) {
-                var t = (e = w(e)).x - this.x;
-                e = e.y - this.y;
-                return Math.sqrt(t * t + e * e);
+                var t = (e = w(e)).x - this.x,
+                    i = e.y - this.y;
+                return Math.sqrt(t * t + i * i);
             },
             equals: function (e) {
                 return (e = w(e)).x === this.x && e.y === this.y;
@@ -58930,42 +58155,34 @@ Object.values ||
                 );
             },
             toString: function () {
-                return 'Point(' + l(this.x) + ', ' + l(this.y) + ')';
+                return 'Point(' + r(this.x) + ', ' + r(this.y) + ')';
             },
         }),
             (k.prototype = {
                 extend: function (e) {
-                    var t, i;
-                    if (e) {
-                        if (
-                            e instanceof y ||
-                            'number' == typeof e[0] ||
-                            'x' in e
-                        )
-                            t = i = w(e);
-                        else if (((t = (e = x(e)).min), (i = e.max), !t || !i))
-                            return this;
+                    return (
+                        (e = w(e)),
                         this.min || this.max ?
-                            ((this.min.x = Math.min(t.x, this.min.x)),
-                            (this.max.x = Math.max(i.x, this.max.x)),
-                            (this.min.y = Math.min(t.y, this.min.y)),
-                            (this.max.y = Math.max(i.y, this.max.y)))
-                        :   ((this.min = t.clone()), (this.max = i.clone()));
-                    }
-                    return this;
+                            ((this.min.x = Math.min(e.x, this.min.x)),
+                            (this.max.x = Math.max(e.x, this.max.x)),
+                            (this.min.y = Math.min(e.y, this.min.y)),
+                            (this.max.y = Math.max(e.y, this.max.y)))
+                        :   ((this.min = e.clone()), (this.max = e.clone())),
+                        this
+                    );
                 },
                 getCenter: function (e) {
-                    return w(
+                    return new y(
                         (this.min.x + this.max.x) / 2,
                         (this.min.y + this.max.y) / 2,
                         e
                     );
                 },
                 getBottomLeft: function () {
-                    return w(this.min.x, this.max.y);
+                    return new y(this.min.x, this.max.y);
                 },
                 getTopRight: function () {
-                    return w(this.max.x, this.min.y);
+                    return new y(this.max.x, this.min.y);
                 },
                 getTopLeft: function () {
                     return this.min;
@@ -58980,10 +58197,10 @@ Object.values ||
                     var t, i;
                     return (
                         (
-                            (e = (
+                            (e =
                                 'number' == typeof e[0] || e instanceof y ?
-                                    w
-                                :   x)(e)) instanceof k
+                                    w(e)
+                                :   x(e)) instanceof k
                         ) ?
                             ((t = e.min), (i = e.max))
                         :   (t = i = e),
@@ -58998,37 +58215,24 @@ Object.values ||
                     var t = this.min,
                         i = this.max,
                         n = e.min,
-                        s = (e = e.max).x >= t.x && n.x <= i.x;
-                    e = e.y >= t.y && n.y <= i.y;
-                    return s && e;
+                        s = e.max,
+                        a = s.x >= t.x && n.x <= i.x,
+                        o = s.y >= t.y && n.y <= i.y;
+                    return a && o;
                 },
                 overlaps: function (e) {
                     e = x(e);
                     var t = this.min,
                         i = this.max,
                         n = e.min,
-                        s = (e = e.max).x > t.x && n.x < i.x;
-                    e = e.y > t.y && n.y < i.y;
-                    return s && e;
+                        s = e.max,
+                        a = s.x > t.x && n.x < i.x,
+                        o = s.y > t.y && n.y < i.y;
+                    return a && o;
                 },
                 isValid: function () {
                     return !(!this.min || !this.max);
                 },
-                pad: function (e) {
-                    var t = this.min,
-                        i = this.max,
-                        n = Math.abs(t.x - i.x) * e;
-                    e = Math.abs(t.y - i.y) * e;
-                    return x(w(t.x - n, t.y - e), w(i.x + n, i.y + e));
-                },
-                equals: function (e) {
-                    return (
-                        !!e &&
-                        ((e = x(e)),
-                        this.min.equals(e.getTopLeft()) &&
-                            this.max.equals(e.getBottomRight()))
-                    );
-                },
             }),
             (T.prototype = {
                 extend: function (e) {
@@ -59036,10 +58240,10 @@ Object.values ||
                         i,
                         n = this._southWest,
                         s = this._northEast;
-                    if (e instanceof S) i = t = e;
+                    if (e instanceof z) (t = e), (i = e);
                     else {
                         if (!(e instanceof T))
-                            return e ? this.extend(z(e) || C(e)) : this;
+                            return e ? this.extend(S(e) || C(e)) : this;
                         if (((t = e._southWest), (i = e._northEast), !t || !i))
                             return this;
                     }
@@ -59049,23 +58253,23 @@ Object.values ||
                             (n.lng = Math.min(t.lng, n.lng)),
                             (s.lat = Math.max(i.lat, s.lat)),
                             (s.lng = Math.max(i.lng, s.lng)))
-                        :   ((this._southWest = new S(t.lat, t.lng)),
-                            (this._northEast = new S(i.lat, i.lng))),
+                        :   ((this._southWest = new z(t.lat, t.lng)),
+                            (this._northEast = new z(i.lat, i.lng))),
                         this
                     );
                 },
                 pad: function (e) {
                     var t = this._southWest,
                         i = this._northEast,
-                        n = Math.abs(t.lat - i.lat) * e;
-                    e = Math.abs(t.lng - i.lng) * e;
+                        n = Math.abs(t.lat - i.lat) * e,
+                        s = Math.abs(t.lng - i.lng) * e;
                     return new T(
-                        new S(t.lat - n, t.lng - e),
-                        new S(i.lat + n, i.lng + e)
+                        new z(t.lat - n, t.lng - s),
+                        new z(i.lat + n, i.lng + s)
                     );
                 },
                 getCenter: function () {
-                    return new S(
+                    return new z(
                         (this._southWest.lat + this._northEast.lat) / 2,
                         (this._southWest.lng + this._northEast.lng) / 2
                     );
@@ -59077,10 +58281,10 @@ Object.values ||
                     return this._northEast;
                 },
                 getNorthWest: function () {
-                    return new S(this.getNorth(), this.getWest());
+                    return new z(this.getNorth(), this.getWest());
                 },
                 getSouthEast: function () {
-                    return new S(this.getSouth(), this.getEast());
+                    return new z(this.getSouth(), this.getEast());
                 },
                 getWest: function () {
                     return this._southWest.lng;
@@ -59095,14 +58299,14 @@ Object.values ||
                     return this._northEast.lat;
                 },
                 contains: function (e) {
-                    e = (
+                    e =
                         (
                             'number' == typeof e[0] ||
-                                e instanceof S ||
-                                'lat' in e
+                            e instanceof z ||
+                            'lat' in e
                         ) ?
-                            z
-                        :   C)(e);
+                            S(e)
+                        :   C(e);
                     var t,
                         i,
                         n = this._southWest,
@@ -59122,20 +58326,20 @@ Object.values ||
                     var t = this._southWest,
                         i = this._northEast,
                         n = e.getSouthWest(),
-                        s =
-                            (e = e.getNorthEast()).lat >= t.lat &&
-                            n.lat <= i.lat;
-                    e = e.lng >= t.lng && n.lng <= i.lng;
-                    return s && e;
+                        s = e.getNorthEast(),
+                        a = s.lat >= t.lat && n.lat <= i.lat,
+                        o = s.lng >= t.lng && n.lng <= i.lng;
+                    return a && o;
                 },
                 overlaps: function (e) {
                     e = C(e);
                     var t = this._southWest,
                         i = this._northEast,
                         n = e.getSouthWest(),
-                        s = (e = e.getNorthEast()).lat > t.lat && n.lat < i.lat;
-                    e = e.lng > t.lng && n.lng < i.lng;
-                    return s && e;
+                        s = e.getNorthEast(),
+                        a = s.lat > t.lat && n.lat < i.lat,
+                        o = s.lng > t.lng && n.lng < i.lng;
+                    return a && o;
                 },
                 toBBoxString: function () {
                     return [
@@ -59156,22 +58360,52 @@ Object.values ||
                 isValid: function () {
                     return !(!this._southWest || !this._northEast);
                 },
-            });
-        var ot = {
-                latLngToPoint: function (e, t) {
+            }),
+            (z.prototype = {
+                equals: function (e, t) {
                     return (
-                        (e = this.projection.project(e)),
-                        (t = this.scale(t)),
-                        this.transformation._transform(e, t)
+                        !!e &&
+                        ((e = S(e)),
+                        Math.max(
+                            Math.abs(this.lat - e.lat),
+                            Math.abs(this.lng - e.lng)
+                        ) <= (void 0 === t ? 1e-9 : t))
                     );
                 },
-                pointToLatLng: function (e, t) {
+                toString: function (e) {
                     return (
-                        (t = this.scale(t)),
-                        (e = this.transformation.untransform(e, t)),
-                        this.projection.unproject(e)
+                        'LatLng(' + r(this.lat, e) + ', ' + r(this.lng, e) + ')'
                     );
                 },
+                distanceTo: function (e) {
+                    return mt.distance(this, S(e));
+                },
+                wrap: function () {
+                    return mt.wrapLatLng(this);
+                },
+                toBounds: function (e) {
+                    var t = (180 * e) / 40075017,
+                        i = t / Math.cos((Math.PI / 180) * this.lat);
+                    return C(
+                        [this.lat - t, this.lng - i],
+                        [this.lat + t, this.lng + i]
+                    );
+                },
+                clone: function () {
+                    return new z(this.lat, this.lng, this.alt);
+                },
+            });
+        var pt = {
+                latLngToPoint: function (e, t) {
+                    var i = this.projection.project(e),
+                        n = this.scale(t);
+                    return this.transformation._transform(i, n);
+                },
+                pointToLatLng: function (e, t) {
+                    var i = this.scale(t),
+                        n = this.transformation.untransform(e, i);
+                    return this.projection.unproject(n);
+                },
                 project: function (e) {
                     return this.projection.project(e);
                 },
@@ -59185,59 +58419,19 @@ Object.values ||
                     return Math.log(e / 256) / Math.LN2;
                 },
                 getProjectedBounds: function (e) {
-                    var t;
-                    return this.infinite ? null : (
-                            ((t = this.projection.bounds),
-                            (e = this.scale(e)),
-                            new k(
-                                this.transformation.transform(t.min, e),
-                                this.transformation.transform(t.max, e)
-                            ))
-                        );
+                    if (this.infinite) return null;
+                    var t = this.projection.bounds,
+                        i = this.scale(e);
+                    return new k(
+                        this.transformation.transform(t.min, i),
+                        this.transformation.transform(t.max, i)
+                    );
                 },
-                infinite: !(S.prototype = {
-                    equals: function (e, t) {
-                        return (
-                            !!e &&
-                            ((e = z(e)),
-                            Math.max(
-                                Math.abs(this.lat - e.lat),
-                                Math.abs(this.lng - e.lng)
-                            ) <= (void 0 === t ? 1e-9 : t))
-                        );
-                    },
-                    toString: function (e) {
-                        return (
-                            'LatLng(' +
-                            l(this.lat, e) +
-                            ', ' +
-                            l(this.lng, e) +
-                            ')'
-                        );
-                    },
-                    distanceTo: function (e) {
-                        return rt.distance(this, z(e));
-                    },
-                    wrap: function () {
-                        return rt.wrapLatLng(this);
-                    },
-                    toBounds: function (e) {
-                        var t =
-                            (e = (180 * e) / 40075017) /
-                            Math.cos((Math.PI / 180) * this.lat);
-                        return C(
-                            [this.lat - e, this.lng - t],
-                            [this.lat + e, this.lng + t]
-                        );
-                    },
-                    clone: function () {
-                        return new S(this.lat, this.lng, this.alt);
-                    },
-                }),
+                infinite: !1,
                 wrapLatLng: function (e) {
-                    var t = this.wrapLng ? o(e.lng, this.wrapLng, !0) : e.lng;
-                    return new S(
-                        this.wrapLat ? o(e.lat, this.wrapLat, !0) : e.lat,
+                    var t = this.wrapLng ? a(e.lng, this.wrapLng, !0) : e.lng;
+                    return new z(
+                        this.wrapLat ? a(e.lat, this.wrapLat, !0) : e.lat,
                         t,
                         e.alt
                     );
@@ -59245,54 +58439,56 @@ Object.values ||
                 wrapLatLngBounds: function (e) {
                     var t = e.getCenter(),
                         i = this.wrapLatLng(t),
-                        n = t.lat - i.lat;
-                    t = t.lng - i.lng;
-                    return 0 == n && 0 == t ?
-                            e
-                        :   ((i = e.getSouthWest()),
-                            (e = e.getNorthEast()),
-                            new T(
-                                new S(i.lat - n, i.lng - t),
-                                new S(e.lat - n, e.lng - t)
-                            ));
+                        n = t.lat - i.lat,
+                        s = t.lng - i.lng;
+                    if (0 === n && 0 === s) return e;
+                    var a = e.getSouthWest(),
+                        o = e.getNorthEast();
+                    return new T(
+                        new z(a.lat - n, a.lng - s),
+                        new z(o.lat - n, o.lng - s)
+                    );
                 },
             },
-            rt = t({}, ot, {
+            mt = t({}, pt, {
                 wrapLng: [-180, 180],
                 R: 6371e3,
                 distance: function (e, t) {
                     var i = Math.PI / 180,
                         n = e.lat * i,
                         s = t.lat * i,
-                        a = Math.sin(((t.lat - e.lat) * i) / 2);
-                    (t = Math.sin(((t.lng - e.lng) * i) / 2)),
-                        (e = a * a + Math.cos(n) * Math.cos(s) * t * t),
-                        (i = 2 * Math.atan2(Math.sqrt(e), Math.sqrt(1 - e)));
-                    return this.R * i;
+                        a = Math.sin(((t.lat - e.lat) * i) / 2),
+                        o = Math.sin(((t.lng - e.lng) * i) / 2),
+                        r = a * a + Math.cos(n) * Math.cos(s) * o * o,
+                        l = 2 * Math.atan2(Math.sqrt(r), Math.sqrt(1 - r));
+                    return this.R * l;
                 },
             }),
-            lt = {
-                R: (lt = 6378137),
+            _t = {
+                R: 6378137,
                 MAX_LATITUDE: 85.0511287798,
                 project: function (e) {
                     var t = Math.PI / 180,
-                        i = this.MAX_LATITUDE;
-                    (i = Math.max(Math.min(i, e.lat), -i)),
-                        (i = Math.sin(i * t));
+                        i = this.MAX_LATITUDE,
+                        n = Math.max(Math.min(i, e.lat), -i),
+                        s = Math.sin(n * t);
                     return new y(
                         this.R * e.lng * t,
-                        (this.R * Math.log((1 + i) / (1 - i))) / 2
+                        (this.R * Math.log((1 + s) / (1 - s))) / 2
                     );
                 },
                 unproject: function (e) {
                     var t = 180 / Math.PI;
-                    return new S(
+                    return new z(
                         (2 * Math.atan(Math.exp(e.y / this.R)) - Math.PI / 2) *
                             t,
                         (e.x * t) / this.R
                     );
                 },
-                bounds: new k([-(lt *= Math.PI), -lt], [lt, lt]),
+                bounds: (function () {
+                    var e = 6378137 * Math.PI;
+                    return new k([-e, -e], [e, e]);
+                })(),
             };
         A.prototype = {
             transform: function (e, t) {
@@ -59300,324 +58496,282 @@ Object.values ||
             },
             _transform: function (e, t) {
                 return (
-                    (e.x = (t = t || 1) * (this._a * e.x + this._b)),
+                    (t = t || 1),
+                    (e.x = t * (this._a * e.x + this._b)),
                     (e.y = t * (this._c * e.y + this._d)),
                     e
                 );
             },
             untransform: function (e, t) {
-                return new y(
-                    (e.x / (t = t || 1) - this._b) / this._a,
-                    (e.y / t - this._d) / this._c
+                return (
+                    (t = t || 1),
+                    new y(
+                        (e.x / t - this._b) / this._a,
+                        (e.y / t - this._d) / this._c
+                    )
                 );
             },
         };
-        var ct,
-            dt,
-            ut,
-            ht,
-            pt,
-            mt,
-            _t = t({}, rt, {
+        var ft,
+            gt,
+            vt,
+            bt = t({}, mt, {
                 code: 'EPSG:3857',
-                projection: lt,
-                transformation: E((_t = 0.5 / (Math.PI * lt.R)), 0.5, -_t, 0.5),
+                projection: _t,
+                transformation: (function () {
+                    var e = 0.5 / (Math.PI * _t.R);
+                    return E(e, 0.5, -e, 0.5);
+                })(),
             }),
-            ft = t({}, _t, { code: 'EPSG:900913' }),
-            gt = document.documentElement.style,
-            vt = 'ActiveXObject' in window,
-            bt = vt && !document.addEventListener,
-            yt = 'msLaunchUri' in navigator && !('documentMode' in document),
-            wt = I('webkit'),
-            kt = I('android'),
-            xt = I('android 2') || I('android 3'),
-            Tt = parseInt(
+            yt = t({}, bt, { code: 'EPSG:900913' }),
+            wt = document.documentElement.style,
+            kt = 'ActiveXObject' in window,
+            xt = kt && !document.addEventListener,
+            Tt = 'msLaunchUri' in navigator && !('documentMode' in document),
+            Ct = I('webkit'),
+            zt = I('android'),
+            St = I('android 2') || I('android 3'),
+            At = parseInt(
                 /WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],
                 10
             ),
-            Ct =
-                ((Tt =
-                    kt && I('Google') && Tt < 537 && !('AudioNode' in window)),
-                !!window.opera),
-            St = !yt && I('chrome'),
-            zt = I('gecko') && !wt && !Ct && !vt,
-            At = !St && I('safari'),
-            Et = I('phantom'),
-            Pt = 'OTransition' in gt,
-            Mt = 0 === navigator.platform.indexOf('Win'),
-            It = vt && 'transition' in gt,
-            Dt =
+            Et = zt && I('Google') && At < 537 && !('AudioNode' in window),
+            Pt = !!window.opera,
+            Mt = I('chrome'),
+            It = I('gecko') && !Ct && !Pt && !kt,
+            jt = !Mt && I('safari'),
+            Dt = I('phantom'),
+            Rt = 'OTransition' in wt,
+            Bt = 0 === navigator.platform.indexOf('Win'),
+            Ot = kt && 'transition' in wt,
+            Nt =
                 'WebKitCSSMatrix' in window &&
                 'm11' in new window.WebKitCSSMatrix() &&
-                !xt,
-            jt =
-                ((gt = 'MozPerspective' in gt),
-                !window.L_DISABLE_3D && (It || Dt || gt) && !Pt && !Et),
-            Rt = (Ki = 'undefined' != typeof orientation || I('mobile')) && wt,
-            Bt = Ki && Dt,
-            Lt = !window.PointerEvent && window.MSPointerEvent,
-            Ot = !(!window.PointerEvent && !Lt),
-            Ft = 'ontouchstart' in window || !!window.TouchEvent,
-            Nt = !window.L_NO_TOUCH && (Ft || Ot),
-            Ht = Ki && Ct,
-            qt = Ki && zt,
-            $t =
-                1 <
+                !St,
+            Lt = 'MozPerspective' in wt,
+            Ft = !window.L_DISABLE_3D && (Ot || Nt || Lt) && !Rt && !Dt,
+            Ht = 'undefined' != typeof orientation || I('mobile'),
+            qt = Ht && Ct,
+            $t = Ht && Nt,
+            Wt = !window.PointerEvent && window.MSPointerEvent,
+            Vt = !(!window.PointerEvent && !Wt),
+            Ut =
+                !window.L_NO_TOUCH &&
+                (Vt ||
+                    'ontouchstart' in window ||
+                    (window.DocumentTouch &&
+                        document instanceof window.DocumentTouch)),
+            Gt = Ht && Pt,
+            Zt = Ht && It,
+            Kt =
                 (window.devicePixelRatio ||
-                    window.screen.deviceXDPI / window.screen.logicalXDPI),
-            Wt = (function () {
-                var e = !1;
-                try {
-                    var t = Object.defineProperty({}, 'passive', {
-                        get: function () {
-                            e = !0;
-                        },
-                    });
-                    window.addEventListener('testPassiveEventSupport', r, t),
-                        window.removeEventListener(
-                            'testPassiveEventSupport',
-                            r,
-                            t
+                    window.screen.deviceXDPI / window.screen.logicalXDPI) > 1,
+            Yt = !!document.createElement('canvas').getContext,
+            Jt = !(!document.createElementNS || !P('svg').createSVGRect),
+            Qt =
+                !Jt &&
+                (function () {
+                    try {
+                        var e = document.createElement('div');
+                        e.innerHTML = '<v:shape adj="1"/>';
+                        var t = e.firstChild;
+                        return (
+                            (t.style.behavior = 'url(#default#VML)'),
+                            t && 'object' == typeof t.adj
                         );
-                } catch (e) {}
-                return e;
-            })(),
-            Vt = !!document.createElement('canvas').getContext,
-            Ut = !(!document.createElementNS || !P('svg').createSVGRect),
-            Gt =
-                !!Ut &&
-                (((Gt = document.createElement('div')).innerHTML = '<svg/>'),
-                'http://www.w3.org/2000/svg' ===
-                    (Gt.firstChild && Gt.firstChild.namespaceURI)),
-            Zt = {
-                ie: vt,
-                ielt9: bt,
-                edge: yt,
-                webkit: wt,
-                android: kt,
-                android23: xt,
-                androidStock: Tt,
-                opera: Ct,
-                chrome: St,
-                gecko: zt,
-                safari: At,
-                phantom: Et,
-                opera12: Pt,
-                win: Mt,
-                ie3d: It,
-                webkit3d: Dt,
-                gecko3d: gt,
-                any3d: jt,
-                mobile: Ki,
-                mobileWebkit: Rt,
-                mobileWebkit3d: Bt,
-                msPointer: Lt,
-                pointer: Ot,
-                touch: Nt,
-                touchNative: Ft,
-                mobileOpera: Ht,
-                mobileGecko: qt,
-                retina: $t,
-                passiveEvents: Wt,
-                canvas: Vt,
-                svg: Ut,
-                vml:
-                    !Ut &&
-                    (function () {
-                        try {
-                            var e = document.createElement('div'),
-                                t =
-                                    ((e.innerHTML = '<v:shape adj="1"/>'),
-                                    e.firstChild);
-                            return (
-                                (t.style.behavior = 'url(#default#VML)'),
-                                t && 'object' == typeof t.adj
-                            );
-                        } catch (e) {
-                            return !1;
-                        }
-                    })(),
-                inlineSvg: Gt,
-                mac: 0 === navigator.platform.indexOf('Mac'),
-                linux: 0 === navigator.platform.indexOf('Linux'),
-            },
-            Kt = Zt.msPointer ? 'MSPointerDown' : 'pointerdown',
-            Yt = Zt.msPointer ? 'MSPointerMove' : 'pointermove',
-            Jt = Zt.msPointer ? 'MSPointerUp' : 'pointerup',
-            Qt = Zt.msPointer ? 'MSPointerCancel' : 'pointercancel',
-            Xt = {
-                touchstart: Kt,
-                touchmove: Yt,
-                touchend: Jt,
-                touchcancel: Qt,
-            },
-            ei = {
-                touchstart: function (e, t) {
-                    t.MSPOINTER_TYPE_TOUCH &&
-                        t.pointerType === t.MSPOINTER_TYPE_TOUCH &&
-                        ge(t),
-                        O(e, t);
-                },
-                touchmove: O,
-                touchend: O,
-                touchcancel: O,
-            },
-            ti = {},
-            ii = !1,
-            ni = 200,
-            si = X([
+                    } catch (e) {
+                        return !1;
+                    }
+                })(),
+            Xt = (Object.freeze || Object)({
+                ie: kt,
+                ielt9: xt,
+                edge: Tt,
+                webkit: Ct,
+                android: zt,
+                android23: St,
+                androidStock: Et,
+                opera: Pt,
+                chrome: Mt,
+                gecko: It,
+                safari: jt,
+                phantom: Dt,
+                opera12: Rt,
+                win: Bt,
+                ie3d: Ot,
+                webkit3d: Nt,
+                gecko3d: Lt,
+                any3d: Ft,
+                mobile: Ht,
+                mobileWebkit: qt,
+                mobileWebkit3d: $t,
+                msPointer: Wt,
+                pointer: Vt,
+                touch: Ut,
+                mobileOpera: Gt,
+                mobileGecko: Zt,
+                retina: Kt,
+                canvas: Yt,
+                svg: Jt,
+                vml: Qt,
+            }),
+            ei = Wt ? 'MSPointerDown' : 'pointerdown',
+            ti = Wt ? 'MSPointerMove' : 'pointermove',
+            ii = Wt ? 'MSPointerUp' : 'pointerup',
+            ni = Wt ? 'MSPointerCancel' : 'pointercancel',
+            si = ['INPUT', 'SELECT', 'OPTION'],
+            ai = {},
+            oi = !1,
+            ri = 0,
+            li =
+                Wt ? 'MSPointerDown'
+                : Vt ? 'pointerdown'
+                : 'touchstart',
+            ci =
+                Wt ? 'MSPointerUp'
+                : Vt ? 'pointerup'
+                : 'touchend',
+            di = '_leaflet_',
+            ui = ae([
                 'transform',
                 'webkitTransform',
                 'OTransform',
                 'MozTransform',
                 'msTransform',
             ]),
-            ai = X([
+            hi = ae([
                 'webkitTransition',
                 'transition',
                 'OTransition',
                 'MozTransition',
                 'msTransition',
             ]),
-            oi =
-                'webkitTransition' === ai || 'OTransition' === ai ?
-                    ai + 'End'
+            pi =
+                'webkitTransition' === hi || 'OTransition' === hi ?
+                    hi + 'End'
                 :   'transitionend';
-        (ht =
-            'onselectstart' in document ?
-                ((ut = function () {
-                    ce(window, 'selectstart', ge);
-                }),
-                function () {
-                    de(window, 'selectstart', ge);
-                })
-            :   ((dt = X([
-                    'userSelect',
-                    'WebkitUserSelect',
-                    'OUserSelect',
-                    'MozUserSelect',
-                    'msUserSelect',
-                ])),
-                (ut = function () {
-                    var e;
-                    dt &&
-                        ((e = document.documentElement.style),
-                        (ct = e[dt]),
-                        (e[dt] = 'none'));
-                }),
-                function () {
-                    dt &&
-                        ((document.documentElement.style[dt] = ct),
-                        (ct = void 0));
-                })),
-            (vt = {
-                __proto__: null,
-                TRANSFORM: si,
-                TRANSITION: ai,
-                TRANSITION_END: oi,
-                get: N,
-                getStyle: H,
-                create: q,
-                remove: $,
-                empty: W,
-                toFront: V,
-                toBack: U,
-                hasClass: G,
-                addClass: Z,
-                removeClass: K,
-                setClass: Y,
-                getClass: J,
-                setOpacity: Q,
-                testProp: X,
-                setTransform: ee,
-                setPosition: te,
-                getPosition: ie,
-                get disableTextSelection() {
-                    return ut;
-                },
-                get enableTextSelection() {
-                    return ht;
-                },
-                disableImageDrag: ne,
-                enableImageDrag: se,
-                preventOutline: ae,
-                restoreOutline: oe,
-                getSizedParentNode: re,
-                getScale: le,
-            });
-        var ri,
-            li = '_leaflet_events',
-            ci = {
-                mouseenter: 'mouseover',
-                mouseleave: 'mouseout',
-                wheel: !('onwheel' in window) && 'mousewheel',
-            },
-            di =
-                Zt.linux && Zt.chrome ? window.devicePixelRatio
-                : Zt.mac ? 3 * window.devicePixelRatio
-                : 0 < window.devicePixelRatio ? 2 * window.devicePixelRatio
+        if ('onselectstart' in document)
+            (ft = function () {
+                _e(window, 'selectstart', ke);
+            }),
+                (gt = function () {
+                    fe(window, 'selectstart', ke);
+                });
+        else {
+            var mi = ae([
+                'userSelect',
+                'WebkitUserSelect',
+                'OUserSelect',
+                'MozUserSelect',
+                'msUserSelect',
+            ]);
+            (ft = function () {
+                if (mi) {
+                    var e = document.documentElement.style;
+                    (vt = e[mi]), (e[mi] = 'none');
+                }
+            }),
+                (gt = function () {
+                    mi &&
+                        ((document.documentElement.style[mi] = vt),
+                        (vt = void 0));
+                });
+        }
+        var _i,
+            fi,
+            gi,
+            vi = (Object.freeze || Object)({
+                TRANSFORM: ui,
+                TRANSITION: hi,
+                TRANSITION_END: pi,
+                get: V,
+                getStyle: U,
+                create: G,
+                remove: Z,
+                empty: K,
+                toFront: Y,
+                toBack: J,
+                hasClass: Q,
+                addClass: X,
+                removeClass: ee,
+                setClass: te,
+                getClass: ie,
+                setOpacity: ne,
+                testProp: ae,
+                setTransform: oe,
+                setPosition: re,
+                getPosition: le,
+                disableTextSelection: ft,
+                enableTextSelection: gt,
+                disableImageDrag: ce,
+                enableImageDrag: de,
+                preventOutline: ue,
+                restoreOutline: he,
+                getSizedParentNode: pe,
+                getScale: me,
+            }),
+            bi = '_leaflet_events',
+            yi =
+                Bt && Mt ? 2 * window.devicePixelRatio
+                : It ? window.devicePixelRatio
                 : 1,
-            ui =
-                ((bt = {
-                    __proto__: null,
-                    on: ce,
-                    off: de,
-                    stopPropagation: me,
-                    disableScrollPropagation: _e,
-                    disableClickPropagation: fe,
-                    preventDefault: ge,
-                    stop: ve,
-                    getPropagationPath: be,
-                    getMousePosition: ye,
-                    getWheelDelta: we,
-                    isExternalTarget: ke,
-                    addListener: ce,
-                    removeListener: de,
-                }),
-                st.extend({
-                    run: function (e, t, i, n) {
-                        this.stop(),
-                            (this._el = e),
-                            (this._inProgress = !0),
-                            (this._duration = i || 0.25),
-                            (this._easeOutPower = 1 / Math.max(n || 0.5, 0.2)),
-                            (this._startPos = ie(e)),
-                            (this._offset = t.subtract(this._startPos)),
-                            (this._startTime = +new Date()),
-                            this.fire('start'),
-                            this._animate();
-                    },
-                    stop: function () {
-                        this._inProgress && (this._step(!0), this._complete());
-                    },
-                    _animate: function () {
-                        (this._animId = g(this._animate, this)), this._step();
-                    },
-                    _step: function (e) {
-                        var t = +new Date() - this._startTime,
-                            i = 1e3 * this._duration;
-                        t < i ?
-                            this._runFrame(this._easeOut(t / i), e)
-                        :   (this._runFrame(1), this._complete());
-                    },
-                    _runFrame: function (e, t) {
-                        (e = this._startPos.add(this._offset.multiplyBy(e))),
-                            t && e._round(),
-                            te(this._el, e),
-                            this.fire('step');
-                    },
-                    _complete: function () {
-                        v(this._animId),
-                            (this._inProgress = !1),
-                            this.fire('end');
-                    },
-                    _easeOut: function (e) {
-                        return 1 - Math.pow(1 - e, this._easeOutPower);
-                    },
-                })),
-            hi = st.extend({
+            wi = {},
+            ki = (Object.freeze || Object)({
+                on: _e,
+                off: fe,
+                stopPropagation: be,
+                disableScrollPropagation: ye,
+                disableClickPropagation: we,
+                preventDefault: ke,
+                stop: xe,
+                getMousePosition: Te,
+                getWheelDelta: Ce,
+                fakeStop: ze,
+                skipped: Se,
+                isExternalTarget: Ae,
+                addListener: _e,
+                removeListener: fe,
+            }),
+            xi = ut.extend({
+                run: function (e, t, i, n) {
+                    this.stop(),
+                        (this._el = e),
+                        (this._inProgress = !0),
+                        (this._duration = i || 0.25),
+                        (this._easeOutPower = 1 / Math.max(n || 0.5, 0.2)),
+                        (this._startPos = le(e)),
+                        (this._offset = t.subtract(this._startPos)),
+                        (this._startTime = +new Date()),
+                        this.fire('start'),
+                        this._animate();
+                },
+                stop: function () {
+                    this._inProgress && (this._step(!0), this._complete());
+                },
+                _animate: function () {
+                    (this._animId = f(this._animate, this)), this._step();
+                },
+                _step: function (e) {
+                    var t = +new Date() - this._startTime,
+                        i = 1e3 * this._duration;
+                    t < i ?
+                        this._runFrame(this._easeOut(t / i), e)
+                    :   (this._runFrame(1), this._complete());
+                },
+                _runFrame: function (e, t) {
+                    var i = this._startPos.add(this._offset.multiplyBy(e));
+                    t && i._round(), re(this._el, i), this.fire('step');
+                },
+                _complete: function () {
+                    g(this._animId), (this._inProgress = !1), this.fire('end');
+                },
+                _easeOut: function (e) {
+                    return 1 - Math.pow(1 - e, this._easeOutPower);
+                },
+            }),
+            Ti = ut.extend({
                 options: {
-                    crs: _t,
+                    crs: bt,
                     center: void 0,
                     zoom: void 0,
                     minZoom: void 0,
@@ -59635,32 +58789,29 @@ Object.values ||
                     trackResize: !0,
                 },
                 initialize: function (e, t) {
-                    (t = u(this, t)),
+                    (t = d(this, t)),
                         (this._handlers = []),
                         (this._layers = {}),
                         (this._zoomBoundLayers = {}),
                         (this._sizeChanged = !0),
                         this._initContainer(e),
                         this._initLayout(),
-                        (this._onResize = n(this._onResize, this)),
+                        (this._onResize = i(this._onResize, this)),
                         this._initEvents(),
                         t.maxBounds && this.setMaxBounds(t.maxBounds),
                         void 0 !== t.zoom &&
                             (this._zoom = this._limitZoom(t.zoom)),
                         t.center &&
                             void 0 !== t.zoom &&
-                            this.setView(z(t.center), t.zoom, { reset: !0 }),
+                            this.setView(S(t.center), t.zoom, { reset: !0 }),
                         this.callInitHooks(),
                         (this._zoomAnimated =
-                            ai &&
-                            Zt.any3d &&
-                            !Zt.mobileOpera &&
-                            this.options.zoomAnimation),
+                            hi && Ft && !Gt && this.options.zoomAnimation),
                         this._zoomAnimated &&
                             (this._createAnimProxy(),
-                            ce(
+                            _e(
                                 this._proxy,
-                                oi,
+                                pi,
                                 this._catchTransitionEnd,
                                 this
                             )),
@@ -59670,7 +58821,7 @@ Object.values ||
                     return (
                         (i = void 0 === i ? this._zoom : this._limitZoom(i)),
                         (e = this._limitCenter(
-                            z(e),
+                            S(e),
                             i,
                             this.options.maxBounds
                         )),
@@ -59695,8 +58846,7 @@ Object.values ||
                             :   this._tryAnimatedPan(e, n.pan))
                         ) ?
                             (clearTimeout(this._sizeTimer), this)
-                        :   (this._resetView(e, i, n.pan && n.pan.noMoveStart),
-                            this)
+                        :   (this._resetView(e, i), this)
                     );
                 },
                 setZoom: function (e, t) {
@@ -59706,56 +58856,52 @@ Object.values ||
                 },
                 zoomIn: function (e, t) {
                     return (
-                        (e = e || (Zt.any3d ? this.options.zoomDelta : 1)),
+                        (e = e || (Ft ? this.options.zoomDelta : 1)),
                         this.setZoom(this._zoom + e, t)
                     );
                 },
                 zoomOut: function (e, t) {
                     return (
-                        (e = e || (Zt.any3d ? this.options.zoomDelta : 1)),
+                        (e = e || (Ft ? this.options.zoomDelta : 1)),
                         this.setZoom(this._zoom - e, t)
                     );
                 },
                 setZoomAround: function (e, t, i) {
                     var n = this.getZoomScale(t),
-                        s = this.getSize().divideBy(2);
-                    (e = (e instanceof y ? e : this.latLngToContainerPoint(e))
-                        .subtract(s)
-                        .multiplyBy(1 - 1 / n)),
-                        (n = this.containerPointToLatLng(s.add(e)));
-                    return this.setView(n, t, { zoom: i });
+                        s = this.getSize().divideBy(2),
+                        a = (
+                            e instanceof y ? e : this.latLngToContainerPoint(e))
+                            .subtract(s)
+                            .multiplyBy(1 - 1 / n),
+                        o = this.containerPointToLatLng(s.add(a));
+                    return this.setView(o, t, { zoom: i });
                 },
                 _getBoundsCenterZoom: function (e, t) {
                     (t = t || {}), (e = e.getBounds ? e.getBounds() : C(e));
                     var i = w(t.paddingTopLeft || t.padding || [0, 0]),
                         n = w(t.paddingBottomRight || t.padding || [0, 0]),
                         s = this.getBoundsZoom(e, !1, i.add(n));
-                    return (
-                            (s =
-                                'number' == typeof t.maxZoom ?
-                                    Math.min(t.maxZoom, s)
-                                :   s) ===
-                                1 / 0
-                        ) ?
-                            { center: e.getCenter(), zoom: s }
-                        :   ((t = n.subtract(i).divideBy(2)),
-                            (n = this.project(e.getSouthWest(), s)),
-                            (i = this.project(e.getNorthEast(), s)),
-                            {
-                                center: this.unproject(
-                                    n.add(i).divideBy(2).add(t),
-                                    s
-                                ),
-                                zoom: s,
-                            });
+                    if (
+                        (s =
+                            'number' == typeof t.maxZoom ?
+                                Math.min(t.maxZoom, s)
+                            :   s) ===
+                        1 / 0
+                    )
+                        return { center: e.getCenter(), zoom: s };
+                    var a = n.subtract(i).divideBy(2),
+                        o = this.project(e.getSouthWest(), s),
+                        r = this.project(e.getNorthEast(), s);
+                    return {
+                        center: this.unproject(o.add(r).divideBy(2).add(a), s),
+                        zoom: s,
+                    };
                 },
                 fitBounds: function (e, t) {
-                    if ((e = C(e)).isValid())
-                        return (
-                            (e = this._getBoundsCenterZoom(e, t)),
-                            this.setView(e.center, e.zoom, t)
-                        );
-                    throw new Error('Bounds are not valid.');
+                    if (!(e = C(e)).isValid())
+                        throw new Error('Bounds are not valid.');
+                    var i = this._getBoundsCenterZoom(e, t);
+                    return this.setView(i.center, i.zoom, t);
                 },
                 fitWorld: function (e) {
                     return this.fitBounds(
@@ -59770,54 +58916,49 @@ Object.values ||
                     return this.setView(e, this._zoom, { pan: t });
                 },
                 panBy: function (e, t) {
-                    var i;
-                    return (
-                        (t = t || {}),
-                        (e = w(e).round()).x || e.y ?
-                            (!0 === t.animate || this.getSize().contains(e) ?
-                                (this._panAnim ||
-                                    ((this._panAnim = new ui()),
-                                    this._panAnim.on(
-                                        {
-                                            step: this._onPanTransitionStep,
-                                            end: this._onPanTransitionEnd,
-                                        },
-                                        this
-                                    )),
-                                t.noMoveStart || this.fire('movestart'),
-                                !1 !== t.animate ?
-                                    (Z(this._mapPane, 'leaflet-pan-anim'),
-                                    (i = this._getMapPanePos()
-                                        .subtract(e)
-                                        .round()),
-                                    this._panAnim.run(
-                                        this._mapPane,
-                                        i,
-                                        t.duration || 0.25,
-                                        t.easeLinearity
-                                    ))
-                                :   (this._rawPanBy(e),
-                                    this.fire('move').fire('moveend')))
-                            :   this._resetView(
-                                    this.unproject(
-                                        this.project(this.getCenter()).add(e)
-                                    ),
-                                    this.getZoom()
+                    if (((t = t || {}), !(e = w(e).round()).x && !e.y))
+                        return this.fire('moveend');
+                    if (!0 !== t.animate && !this.getSize().contains(e))
+                        return (
+                            this._resetView(
+                                this.unproject(
+                                    this.project(this.getCenter()).add(e)
                                 ),
-                            this)
-                        :   this.fire('moveend')
-                    );
+                                this.getZoom()
+                            ),
+                            this
+                        );
+                    if (
+                        (this._panAnim ||
+                            ((this._panAnim = new xi()),
+                            this._panAnim.on(
+                                {
+                                    step: this._onPanTransitionStep,
+                                    end: this._onPanTransitionEnd,
+                                },
+                                this
+                            )),
+                        t.noMoveStart || this.fire('movestart'),
+                        !1 !== t.animate)
+                    ) {
+                        X(this._mapPane, 'leaflet-pan-anim');
+                        var i = this._getMapPanePos().subtract(e).round();
+                        this._panAnim.run(
+                            this._mapPane,
+                            i,
+                            t.duration || 0.25,
+                            t.easeLinearity
+                        );
+                    } else this._rawPanBy(e), this.fire('move').fire('moveend');
+                    return this;
                 },
                 flyTo: function (e, t, i) {
                     function n(e) {
-                        return (
-                            (e =
-                                (h * h - u * u + (e ? -1 : 1) * _ * _ * p * p) /
-                                (2 * (e ? h : u) * _ * p)),
-                            (e = Math.sqrt(e * e + 1) - e) < 1e-9 ?
-                                -18
-                            :   Math.log(e)
-                        );
+                        var t =
+                                (g * g - _ * _ + (e ? -1 : 1) * y * y * v * v) /
+                                (2 * (e ? g : _) * y * v),
+                            i = Math.sqrt(t * t + 1) - t;
+                        return i < 1e-9 ? -18 : Math.log(i);
                     }
                     function s(e) {
                         return (Math.exp(e) - Math.exp(-e)) / 2;
@@ -59826,74 +58967,66 @@ Object.values ||
                         return (Math.exp(e) + Math.exp(-e)) / 2;
                     }
                     function o(e) {
-                        return (
-                            (u * (a(f) * (s((e = f + m * e)) / a(e)) - s(f))) /
-                            _
-                        );
+                        return s(e) / a(e);
+                    }
+                    function r(e) {
+                        return _ * (a(w) / a(w + b * e));
                     }
-                    if (!1 === (i = i || {}).animate || !Zt.any3d)
+                    function l(e) {
+                        return (_ * (a(w) * o(w + b * e) - s(w))) / y;
+                    }
+                    function c(e) {
+                        return 1 - Math.pow(1 - e, 1.5);
+                    }
+                    function d() {
+                        var i = (Date.now() - k) / T,
+                            n = c(i) * x;
+                        i <= 1 ?
+                            ((this._flyToFrame = f(d, this)),
+                            this._move(
+                                this.unproject(
+                                    u.add(h.subtract(u).multiplyBy(l(n) / v)),
+                                    m
+                                ),
+                                this.getScaleZoom(_ / r(n), m),
+                                { flyTo: !0 }
+                            ))
+                        :   this._move(e, t)._moveEnd(!0);
+                    }
+                    if (!1 === (i = i || {}).animate || !Ft)
                         return this.setView(e, t, i);
                     this._stop();
-                    var r = this.project(this.getCenter()),
-                        l = this.project(e),
-                        c = this.getSize(),
-                        d = this._zoom,
-                        u =
-                            ((e = z(e)),
-                            (t = void 0 === t ? d : t),
-                            Math.max(c.x, c.y)),
-                        h = u * this.getZoomScale(d, t),
-                        p = l.distanceTo(r) || 1,
-                        m = 1.42,
-                        _ = m * m,
-                        f = n(0),
-                        v = Date.now(),
-                        b = (n(1) - f) / m,
-                        y = i.duration ? 1e3 * i.duration : 1e3 * b * 0.8;
+                    var u = this.project(this.getCenter()),
+                        h = this.project(e),
+                        p = this.getSize(),
+                        m = this._zoom;
+                    (e = S(e)), (t = void 0 === t ? m : t);
+                    var _ = Math.max(p.x, p.y),
+                        g = _ * this.getZoomScale(m, t),
+                        v = h.distanceTo(u) || 1,
+                        b = 1.42,
+                        y = b * b,
+                        w = n(0),
+                        k = Date.now(),
+                        x = (n(1) - w) / b,
+                        T = i.duration ? 1e3 * i.duration : 1e3 * x * 0.8;
                     return (
-                        this._moveStart(!0, i.noMoveStart),
-                        function i() {
-                            var n = (Date.now() - v) / y,
-                                s = (1 - Math.pow(1 - n, 1.5)) * b;
-                            n <= 1 ?
-                                ((this._flyToFrame = g(i, this)),
-                                this._move(
-                                    this.unproject(
-                                        r.add(
-                                            l.subtract(r).multiplyBy(o(s) / p)
-                                        ),
-                                        d
-                                    ),
-                                    this.getScaleZoom(
-                                        u /
-                                            ((n = s),
-                                            u * (a(f) / a(f + m * n))),
-                                        d
-                                    ),
-                                    { flyTo: !0 }
-                                ))
-                            :   this._move(e, t)._moveEnd(!0);
-                        }.call(this),
-                        this
+                        this._moveStart(!0, i.noMoveStart), d.call(this), this
                     );
                 },
                 flyToBounds: function (e, t) {
-                    return (
-                        (e = this._getBoundsCenterZoom(e, t)),
-                        this.flyTo(e.center, e.zoom, t)
-                    );
+                    var i = this._getBoundsCenterZoom(e, t);
+                    return this.flyTo(i.center, i.zoom, t);
                 },
                 setMaxBounds: function (e) {
-                    return (
-                        (e = C(e)),
-                        this.listens('moveend', this._panInsideMaxBounds) &&
-                            this.off('moveend', this._panInsideMaxBounds),
-                        e.isValid() ?
-                            ((this.options.maxBounds = e),
+                    return (e = C(e)).isValid() ?
+                            (this.options.maxBounds &&
+                                this.off('moveend', this._panInsideMaxBounds),
+                            (this.options.maxBounds = e),
                             this._loaded && this._panInsideMaxBounds(),
                             this.on('moveend', this._panInsideMaxBounds))
-                        :   ((this.options.maxBounds = null), this)
-                    );
+                        :   ((this.options.maxBounds = null),
+                            this.off('moveend', this._panInsideMaxBounds));
                 },
                 setMinZoom: function (e) {
                     var t = this.options.minZoom;
@@ -59925,10 +59058,10 @@ Object.values ||
                 },
                 panInsideBounds: function (e, t) {
                     this._enforcingBounds = !0;
-                    var i = this.getCenter();
-                    e = this._limitCenter(i, this._zoom, C(e));
+                    var i = this.getCenter(),
+                        n = this._limitCenter(i, this._zoom, C(e));
                     return (
-                        i.equals(e) || this.panTo(e, t),
+                        i.equals(n) || this.panTo(n, t),
                         (this._enforcingBounds = !1),
                         this
                     );
@@ -59938,24 +59071,28 @@ Object.values ||
                             (t = t || {}).paddingTopLeft || t.padding || [0, 0]
                         ),
                         n = w(t.paddingBottomRight || t.padding || [0, 0]),
-                        s = this.project(this.getCenter()),
-                        a =
-                            ((e = this.project(e)),
-                            (i = x([
-                                (a = this.getPixelBounds()).min.add(i),
-                                a.max.subtract(n),
-                            ])).getSize());
-                    return (
-                        i.contains(e) ||
-                            ((this._enforcingBounds = !0),
-                            (n = e.subtract(i.getCenter())),
-                            (i = i.extend(e).getSize().subtract(a)),
-                            (s.x += n.x < 0 ? -i.x : i.x),
-                            (s.y += n.y < 0 ? -i.y : i.y),
-                            this.panTo(this.unproject(s), t),
-                            (this._enforcingBounds = !1)),
-                        this
-                    );
+                        s = this.getCenter(),
+                        a = this.project(s),
+                        o = this.project(e),
+                        r = this.getPixelBounds(),
+                        l = r.getSize().divideBy(2),
+                        c = x([r.min.add(i), r.max.subtract(n)]);
+                    if (!c.contains(o)) {
+                        this._enforcingBounds = !0;
+                        var d = a.subtract(o),
+                            u = w(o.x + d.x, o.y + d.y);
+                        (o.x < c.min.x || o.x > c.max.x) &&
+                            ((u.x = a.x - d.x),
+                            d.x > 0 ? (u.x += l.x - i.x) : (u.x -= l.x - n.x)),
+                            (o.y < c.min.y || o.y > c.max.y) &&
+                                ((u.y = a.y - d.y),
+                                d.y > 0 ?
+                                    (u.y += l.y - i.y)
+                                :   (u.y -= l.y - n.y)),
+                            this.panTo(this.unproject(u), t),
+                            (this._enforcingBounds = !1);
+                    }
+                    return this;
                 },
                 invalidateSize: function (e) {
                     if (!this._loaded) return this;
@@ -59963,26 +59100,25 @@ Object.values ||
                         { animate: !1, pan: !0 },
                         !0 === e ? { animate: !0 } : e
                     );
-                    var i = this.getSize(),
-                        s =
-                            ((this._sizeChanged = !0),
-                            (this._lastCenter = null),
-                            this.getSize()),
-                        a = i.divideBy(2).round(),
-                        o = s.divideBy(2).round();
-                    return (a = a.subtract(o)).x || a.y ?
+                    var n = this.getSize();
+                    (this._sizeChanged = !0), (this._lastCenter = null);
+                    var s = this.getSize(),
+                        a = n.divideBy(2).round(),
+                        o = s.divideBy(2).round(),
+                        r = a.subtract(o);
+                    return r.x || r.y ?
                             (e.animate && e.pan ?
-                                this.panBy(a)
-                            :   (e.pan && this._rawPanBy(a),
+                                this.panBy(r)
+                            :   (e.pan && this._rawPanBy(r),
                                 this.fire('move'),
                                 e.debounceMoveend ?
                                     (clearTimeout(this._sizeTimer),
                                     (this._sizeTimer = setTimeout(
-                                        n(this.fire, this, 'moveend'),
+                                        i(this.fire, this, 'moveend'),
                                         200
                                     )))
                                 :   this.fire('moveend')),
-                            this.fire('resize', { oldSize: i, newSize: s }))
+                            this.fire('resize', { oldSize: n, newSize: s }))
                         :   this;
                 },
                 stop: function () {
@@ -59993,29 +59129,25 @@ Object.values ||
                     );
                 },
                 locate: function (e) {
-                    var i, s;
-                    return (
-                        (e = this._locateOptions =
+                    if (
+                        ((e = this._locateOptions =
                             t({ timeout: 1e4, watch: !1 }, e)),
-                        'geolocation' in navigator ?
-                            ((i = n(this._handleGeolocationResponse, this)),
-                            (s = n(this._handleGeolocationError, this)),
-                            e.watch ?
-                                (this._locationWatchId =
-                                    navigator.geolocation.watchPosition(
-                                        i,
-                                        s,
-                                        e
-                                    ))
-                            :   navigator.geolocation.getCurrentPosition(
-                                    i,
-                                    s,
-                                    e
-                                ))
-                        :   this._handleGeolocationError({
+                        !('geolocation' in navigator))
+                    )
+                        return (
+                            this._handleGeolocationError({
                                 code: 0,
                                 message: 'Geolocation not supported.',
                             }),
+                            this
+                        );
+                    var n = i(this._handleGeolocationResponse, this),
+                        s = i(this._handleGeolocationError, this);
+                    return (
+                        e.watch ?
+                            (this._locationWatchId =
+                                navigator.geolocation.watchPosition(n, s, e))
+                        :   navigator.geolocation.getCurrentPosition(n, s, e),
                         this
                     );
                 },
@@ -60032,61 +59164,45 @@ Object.values ||
                     );
                 },
                 _handleGeolocationError: function (e) {
-                    var t;
-                    this._container._leaflet_id &&
-                        ((t = e.code),
-                        (e =
+                    var t = e.code,
+                        i =
                             e.message ||
                             (1 === t ? 'permission denied'
                             : 2 === t ? 'position unavailable'
-                            : 'timeout')),
-                        this._locateOptions.setView &&
-                            !this._loaded &&
-                            this.fitWorld(),
+                            : 'timeout');
+                    this._locateOptions.setView &&
+                        !this._loaded &&
+                        this.fitWorld(),
                         this.fire('locationerror', {
                             code: t,
-                            message: 'Geolocation error: ' + e + '.',
-                        }));
+                            message: 'Geolocation error: ' + i + '.',
+                        });
                 },
                 _handleGeolocationResponse: function (e) {
-                    if (this._container._leaflet_id) {
-                        var t,
-                            i,
-                            n = new S(e.coords.latitude, e.coords.longitude),
-                            s = n.toBounds(2 * e.coords.accuracy),
-                            a = this._locateOptions,
-                            o =
-                                (a.setView &&
-                                    ((t = this.getBoundsZoom(s)),
-                                    this.setView(
-                                        n,
-                                        a.maxZoom ? Math.min(t, a.maxZoom) : t
-                                    )),
-                                {
-                                    latlng: n,
-                                    bounds: s,
-                                    timestamp: e.timestamp,
-                                });
-                        for (i in e.coords)
-                            'number' == typeof e.coords[i] &&
-                                (o[i] = e.coords[i]);
-                        this.fire('locationfound', o);
+                    var t = new z(e.coords.latitude, e.coords.longitude),
+                        i = t.toBounds(2 * e.coords.accuracy),
+                        n = this._locateOptions;
+                    if (n.setView) {
+                        var s = this.getBoundsZoom(i);
+                        this.setView(t, n.maxZoom ? Math.min(s, n.maxZoom) : s);
                     }
+                    var a = { latlng: t, bounds: i, timestamp: e.timestamp };
+                    for (var o in e.coords)
+                        'number' == typeof e.coords[o] && (a[o] = e.coords[o]);
+                    this.fire('locationfound', a);
                 },
                 addHandler: function (e, t) {
+                    if (!t) return this;
+                    var i = (this[e] = new t(this));
                     return (
-                        t &&
-                            ((t = this[e] = new t(this)),
-                            this._handlers.push(t),
-                            this.options[e] && t.enable()),
+                        this._handlers.push(i),
+                        this.options[e] && i.enable(),
                         this
                     );
                 },
                 remove: function () {
                     if (
                         (this._initEvents(!0),
-                        this.options.maxBounds &&
-                            this.off('moveend', this._panInsideMaxBounds),
                         this._containerId !== this._container._leaflet_id)
                     )
                         throw new Error(
@@ -60099,18 +59215,19 @@ Object.values ||
                         (this._container._leaflet_id = void 0),
                             (this._containerId = void 0);
                     }
-                    for (var e in (void 0 !== this._locationWatchId &&
+                    var e;
+                    for (e in (void 0 !== this._locationWatchId &&
                         this.stopLocate(),
                     this._stop(),
-                    $(this._mapPane),
+                    Z(this._mapPane),
                     this._clearControlPos && this._clearControlPos(),
                     this._resizeRequest &&
-                        (v(this._resizeRequest), (this._resizeRequest = null)),
+                        (g(this._resizeRequest), (this._resizeRequest = null)),
                     this._clearHandlers(),
                     this._loaded && this.fire('unload'),
                     this._layers))
                         this._layers[e].remove();
-                    for (e in this._panes) $(this._panes[e]);
+                    for (e in this._panes) Z(this._panes[e]);
                     return (
                         (this._layers = []),
                         (this._panes = []),
@@ -60120,26 +59237,21 @@ Object.values ||
                     );
                 },
                 createPane: function (e, t) {
-                    return (
-                        (t = q(
-                            'div',
-                            'leaflet-pane' +
-                                (e ?
-                                    ' leaflet-' +
-                                    e.replace('Pane', '') +
-                                    '-pane'
-                                :   ''),
-                            t || this._mapPane
-                        )),
-                        e && (this._panes[e] = t),
-                        t
+                    var i = G(
+                        'div',
+                        'leaflet-pane' +
+                            (e ?
+                                ' leaflet-' + e.replace('Pane', '') + '-pane'
+                            :   ''),
+                        t || this._mapPane
                     );
+                    return e && (this._panes[e] = i), i;
                 },
                 getCenter: function () {
                     return (
                         this._checkIfLoaded(),
                         this._lastCenter && !this._moved() ?
-                            this._lastCenter.clone()
+                            this._lastCenter
                         :   this.layerPointToLatLng(this._getCenterLayerPoint())
                     );
                 },
@@ -60173,25 +59285,21 @@ Object.values ||
                         s = this.getMinZoom(),
                         a = this.getMaxZoom(),
                         o = e.getNorthWest(),
-                        r =
-                            ((e = e.getSouthEast()),
-                            (i = this.getSize().subtract(i)),
-                            (e = x(
-                                this.project(e, n),
-                                this.project(o, n)
-                            ).getSize()),
-                            (o = Zt.any3d ? this.options.zoomSnap : 1),
-                            i.x / e.x);
-                    (i = i.y / e.y),
-                        (e = t ? Math.max(r, i) : Math.min(r, i)),
-                        (n = this.getScaleZoom(e, n));
+                        r = e.getSouthEast(),
+                        l = this.getSize().subtract(i),
+                        c = x(this.project(r, n), this.project(o, n)).getSize(),
+                        d = Ft ? this.options.zoomSnap : 1,
+                        u = l.x / c.x,
+                        h = l.y / c.y,
+                        p = t ? Math.max(u, h) : Math.min(u, h);
                     return (
-                        o &&
-                            ((n = Math.round(n / (o / 100)) * (o / 100)),
+                        (n = this.getScaleZoom(p, n)),
+                        d &&
+                            ((n = Math.round(n / (d / 100)) * (d / 100)),
                             (n =
                                 t ?
-                                    Math.ceil(n / o) * o
-                                :   Math.floor(n / o) * o)),
+                                    Math.ceil(n / d) * d
+                                :   Math.floor(n / d) * d)),
                         Math.max(s, Math.min(a, n))
                     );
                 },
@@ -60207,10 +59315,8 @@ Object.values ||
                     );
                 },
                 getPixelBounds: function (e, t) {
-                    return new k(
-                        (e = this._getTopLeftPoint(e, t)),
-                        e.add(this.getSize())
-                    );
+                    var i = this._getTopLeftPoint(e, t);
+                    return new k(i, i.add(this.getSize()));
                 },
                 getPixelOrigin: function () {
                     return this._checkIfLoaded(), this._pixelOrigin;
@@ -60238,14 +59344,14 @@ Object.values ||
                 },
                 getScaleZoom: function (e, t) {
                     var i = this.options.crs;
-                    (t = void 0 === t ? this._zoom : t),
-                        (e = i.zoom(e * i.scale(t)));
-                    return isNaN(e) ? 1 / 0 : e;
+                    t = void 0 === t ? this._zoom : t;
+                    var n = i.zoom(e * i.scale(t));
+                    return isNaN(n) ? 1 / 0 : n;
                 },
                 project: function (e, t) {
                     return (
                         (t = void 0 === t ? this._zoom : t),
-                        this.options.crs.latLngToPoint(z(e), t)
+                        this.options.crs.latLngToPoint(S(e), t)
                     );
                 },
                 unproject: function (e, t) {
@@ -60255,23 +59361,22 @@ Object.values ||
                     );
                 },
                 layerPointToLatLng: function (e) {
-                    return (
-                        (e = w(e).add(this.getPixelOrigin())), this.unproject(e)
-                    );
+                    var t = w(e).add(this.getPixelOrigin());
+                    return this.unproject(t);
                 },
                 latLngToLayerPoint: function (e) {
-                    return this.project(z(e))
+                    return this.project(S(e))
                         ._round()
                         ._subtract(this.getPixelOrigin());
                 },
                 wrapLatLng: function (e) {
-                    return this.options.crs.wrapLatLng(z(e));
+                    return this.options.crs.wrapLatLng(S(e));
                 },
                 wrapLatLngBounds: function (e) {
                     return this.options.crs.wrapLatLngBounds(C(e));
                 },
                 distance: function (e, t) {
-                    return this.options.crs.distance(z(e), z(t));
+                    return this.options.crs.distance(S(e), S(t));
                 },
                 containerPointToLayerPoint: function (e) {
                     return w(e).subtract(this._getMapPanePos());
@@ -60280,18 +59385,16 @@ Object.values ||
                     return w(e).add(this._getMapPanePos());
                 },
                 containerPointToLatLng: function (e) {
-                    return (
-                        (e = this.containerPointToLayerPoint(w(e))),
-                        this.layerPointToLatLng(e)
-                    );
+                    var t = this.containerPointToLayerPoint(w(e));
+                    return this.layerPointToLatLng(t);
                 },
                 latLngToContainerPoint: function (e) {
                     return this.layerPointToContainerPoint(
-                        this.latLngToLayerPoint(z(e))
+                        this.latLngToLayerPoint(S(e))
                     );
                 },
                 mouseEventToContainerPoint: function (e) {
-                    return ye(e, this._container);
+                    return Te(e, this._container);
                 },
                 mouseEventToLayerPoint: function (e) {
                     return this.containerPointToLayerPoint(
@@ -60304,35 +59407,31 @@ Object.values ||
                     );
                 },
                 _initContainer: function (e) {
-                    if (!(e = this._container = N(e)))
-                        throw new Error('Map container not found.');
-                    if (e._leaflet_id)
+                    var t = (this._container = V(e));
+                    if (!t) throw new Error('Map container not found.');
+                    if (t._leaflet_id)
                         throw new Error(
                             'Map container is already initialized.'
                         );
-                    ce(e, 'scroll', this._onScroll, this),
-                        (this._containerId = s(e));
+                    _e(t, 'scroll', this._onScroll, this),
+                        (this._containerId = n(t));
                 },
                 _initLayout: function () {
-                    var e = this._container,
-                        t =
-                            ((this._fadeAnimated =
-                                this.options.fadeAnimation && Zt.any3d),
-                            Z(
-                                e,
-                                'leaflet-container' +
-                                    (Zt.touch ? ' leaflet-touch' : '') +
-                                    (Zt.retina ? ' leaflet-retina' : '') +
-                                    (Zt.ielt9 ? ' leaflet-oldie' : '') +
-                                    (Zt.safari ? ' leaflet-safari' : '') +
-                                    (this._fadeAnimated ? ' leaflet-fade-anim'
-                                    :   '')
-                            ),
-                            H(e, 'position'));
+                    var e = this._container;
+                    (this._fadeAnimated = this.options.fadeAnimation && Ft),
+                        X(
+                            e,
+                            'leaflet-container' +
+                                (Ut ? ' leaflet-touch' : '') +
+                                (Kt ? ' leaflet-retina' : '') +
+                                (xt ? ' leaflet-oldie' : '') +
+                                (jt ? ' leaflet-safari' : '') +
+                                (this._fadeAnimated ? ' leaflet-fade-anim' : '')
+                        );
+                    var t = U(e, 'position');
                     'absolute' !== t &&
                         'relative' !== t &&
                         'fixed' !== t &&
-                        'sticky' !== t &&
                         (e.style.position = 'relative'),
                         this._initPanes(),
                         this._initControlPos && this._initControlPos();
@@ -60344,28 +59443,27 @@ Object.values ||
                             'mapPane',
                             this._container
                         )),
-                        te(this._mapPane, new y(0, 0)),
+                        re(this._mapPane, new y(0, 0)),
                         this.createPane('tilePane'),
-                        this.createPane('overlayPane'),
                         this.createPane('shadowPane'),
+                        this.createPane('overlayPane'),
                         this.createPane('markerPane'),
                         this.createPane('tooltipPane'),
                         this.createPane('popupPane'),
                         this.options.markerZoomAnimation ||
-                            (Z(e.markerPane, 'leaflet-zoom-hide'),
-                            Z(e.shadowPane, 'leaflet-zoom-hide'));
-                },
-                _resetView: function (e, t, i) {
-                    te(this._mapPane, new y(0, 0));
-                    var n = !this._loaded,
-                        s =
-                            ((this._loaded = !0),
-                            (t = this._limitZoom(t)),
-                            this.fire('viewprereset'),
-                            this._zoom !== t);
-                    this._moveStart(s, i)._move(e, t)._moveEnd(s),
+                            (X(e.markerPane, 'leaflet-zoom-hide'),
+                            X(e.shadowPane, 'leaflet-zoom-hide'));
+                },
+                _resetView: function (e, t) {
+                    re(this._mapPane, new y(0, 0));
+                    var i = !this._loaded;
+                    (this._loaded = !0),
+                        (t = this._limitZoom(t)),
+                        this.fire('viewprereset');
+                    var n = this._zoom !== t;
+                    this._moveStart(n, !1)._move(e, t)._moveEnd(n),
                         this.fire('viewreset'),
-                        n && this.fire('load');
+                        i && this.fire('load');
                 },
                 _moveStart: function (e, t) {
                     return (
@@ -60374,18 +59472,15 @@ Object.values ||
                         this
                     );
                 },
-                _move: function (e, t, i, n) {
+                _move: function (e, t, i) {
                     void 0 === t && (t = this._zoom);
-                    var s = this._zoom !== t;
+                    var n = this._zoom !== t;
                     return (
                         (this._zoom = t),
                         (this._lastCenter = e),
                         (this._pixelOrigin = this._getNewPixelOrigin(e)),
-                        n ?
-                            i && i.pinch && this.fire('zoom', i)
-                        :   ((s || (i && i.pinch)) && this.fire('zoom', i),
-                            this.fire('move', i)),
-                        this
+                        (n || (i && i.pinch)) && this.fire('zoom', i),
+                        this.fire('move', i)
                     );
                 },
                 _moveEnd: function (e) {
@@ -60393,13 +59488,13 @@ Object.values ||
                 },
                 _stop: function () {
                     return (
-                        v(this._flyToFrame),
+                        g(this._flyToFrame),
                         this._panAnim && this._panAnim.stop(),
                         this
                     );
                 },
                 _rawPanBy: function (e) {
-                    te(this._mapPane, this._getMapPanePos().subtract(e));
+                    re(this._mapPane, this._getMapPanePos().subtract(e));
                 },
                 _getZoomSpan: function () {
                     return this.getMaxZoom() - this.getMinZoom();
@@ -60413,17 +59508,18 @@ Object.values ||
                         throw new Error('Set map center and zoom first.');
                 },
                 _initEvents: function (e) {
-                    this._targets = {};
-                    var t = e ? de : ce;
+                    (this._targets = {}),
+                        (this._targets[n(this._container)] = this);
+                    var t = e ? fe : _e;
                     t(
-                        (this._targets[s(this._container)] = this)._container,
-                        'click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup',
+                        this._container,
+                        'click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress',
                         this._handleDOMEvent,
                         this
                     ),
                         this.options.trackResize &&
                             t(window, 'resize', this._onResize, this),
-                        Zt.any3d &&
+                        Ft &&
                             this.options.transform3DLimit &&
                             (e ? this.off : this.on).call(
                                 this,
@@ -60432,8 +59528,8 @@ Object.values ||
                             );
                 },
                 _onResize: function () {
-                    v(this._resizeRequest),
-                        (this._resizeRequest = g(function () {
+                    g(this._resizeRequest),
+                        (this._resizeRequest = f(function () {
                             this.invalidateSize({ debounceMoveend: !0 });
                         }, this));
                 },
@@ -60450,7 +59546,7 @@ Object.values ||
                 _findEventTargets: function (e, t) {
                     for (
                         var i,
-                            n = [],
+                            s = [],
                             a = 'mouseout' === t || 'mouseover' === t,
                             o = e.target || e.srcElement,
                             r = !1;
@@ -60458,38 +59554,30 @@ Object.values ||
 
                     ) {
                         if (
-                            (i = this._targets[s(o)]) &&
+                            (i = this._targets[n(o)]) &&
                             ('click' === t || 'preclick' === t) &&
+                            !e._simulated &&
                             this._draggableMoved(i)
                         ) {
                             r = !0;
                             break;
                         }
                         if (i && i.listens(t, !0)) {
-                            if (a && !ke(o, e)) break;
-                            if ((n.push(i), a)) break;
+                            if (a && !Ae(o, e)) break;
+                            if ((s.push(i), a)) break;
                         }
                         if (o === this._container) break;
                         o = o.parentNode;
                     }
-                    return n.length || r || a || !this.listens(t, !0) ?
-                            n
-                        :   [this];
-                },
-                _isClickDisabled: function (e) {
-                    for (; e && e !== this._container; ) {
-                        if (e._leaflet_disable_click) return !0;
-                        e = e.parentNode;
-                    }
+                    return s.length || r || a || !Ae(o, e) || (s = [this]), s;
                 },
                 _handleDOMEvent: function (e) {
-                    var t,
-                        i = e.target || e.srcElement;
-                    !this._loaded ||
-                        i._leaflet_disable_events ||
-                        ('click' === e.type && this._isClickDisabled(i)) ||
-                        ('mousedown' === (t = e.type) && ae(i),
-                        this._fireDOMEvent(e, t));
+                    if (this._loaded && !Se(e)) {
+                        var t = e.type;
+                        ('mousedown' !== t && 'keypress' !== t) ||
+                            ue(e.target || e.srcElement),
+                            this._fireDOMEvent(e, t);
+                    }
                 },
                 _mouseEvents: [
                     'click',
@@ -60499,49 +59587,39 @@ Object.values ||
                     'contextmenu',
                 ],
                 _fireDOMEvent: function (e, i, n) {
-                    'click' === e.type &&
-                        (((l = t({}, e)).type = 'preclick'),
-                        this._fireDOMEvent(l, l.type, n));
-                    var s = this._findEventTargets(e, i);
-                    if (n) {
-                        for (var a = [], o = 0; o < n.length; o++)
-                            n[o].listens(i, !0) && a.push(n[o]);
-                        s = a.concat(s);
+                    if ('click' === e.type) {
+                        var s = t({}, e);
+                        (s.type = 'preclick'), this._fireDOMEvent(s, s.type, n);
                     }
-                    if (s.length) {
-                        'contextmenu' === i && ge(e);
-                        var r,
-                            l = s[0],
-                            c = { originalEvent: e };
-                        for (
-                            'keypress' !== e.type &&
-                                'keydown' !== e.type &&
-                                'keyup' !== e.type &&
-                                ((r =
-                                    l.getLatLng &&
-                                    (!l._radius || l._radius <= 10)),
-                                (c.containerPoint =
-                                    r ?
-                                        this.latLngToContainerPoint(
-                                            l.getLatLng()
-                                        )
-                                    :   this.mouseEventToContainerPoint(e)),
-                                (c.layerPoint = this.containerPointToLayerPoint(
-                                    c.containerPoint
+                    if (
+                        !e._stopped &&
+                        (n = (n || []).concat(this._findEventTargets(e, i)))
+                            .length
+                    ) {
+                        var a = n[0];
+                        'contextmenu' === i && a.listens(i, !0) && ke(e);
+                        var o = { originalEvent: e };
+                        if ('keypress' !== e.type) {
+                            var r =
+                                a.getLatLng && (!a._radius || a._radius <= 10);
+                            (o.containerPoint =
+                                r ?
+                                    this.latLngToContainerPoint(a.getLatLng())
+                                :   this.mouseEventToContainerPoint(e)),
+                                (o.layerPoint = this.containerPointToLayerPoint(
+                                    o.containerPoint
                                 )),
-                                (c.latlng =
+                                (o.latlng =
                                     r ?
-                                        l.getLatLng()
-                                    :   this.layerPointToLatLng(c.layerPoint))),
-                                o = 0;
-                            o < s.length;
-                            o++
-                        )
+                                        a.getLatLng()
+                                    :   this.layerPointToLatLng(o.layerPoint));
+                        }
+                        for (var l = 0; l < n.length; l++)
                             if (
-                                (s[o].fire(i, c, !0),
-                                c.originalEvent._stopped ||
-                                    (!1 === s[o].options.bubblingMouseEvents &&
-                                        -1 !== m(this._mouseEvents, i)))
+                                (n[l].fire(i, o, !0),
+                                o.originalEvent._stopped ||
+                                    (!1 === n[l].options.bubblingMouseEvents &&
+                                        -1 !== p(this._mouseEvents, i)))
                             )
                                 return;
                     }
@@ -60567,7 +59645,7 @@ Object.values ||
                     );
                 },
                 _getMapPanePos: function () {
-                    return ie(this._mapPane) || new y(0, 0);
+                    return le(this._mapPane) || new y(0, 0);
                 },
                 _moved: function () {
                     var e = this._getMapPanePos();
@@ -60589,21 +59667,17 @@ Object.values ||
                         ._round();
                 },
                 _latLngToNewLayerPoint: function (e, t, i) {
-                    return (
-                        (i = this._getNewPixelOrigin(i, t)),
-                        this.project(e, t)._subtract(i)
-                    );
+                    var n = this._getNewPixelOrigin(i, t);
+                    return this.project(e, t)._subtract(n);
                 },
                 _latLngBoundsToNewLayerBounds: function (e, t, i) {
-                    return (
-                        (i = this._getNewPixelOrigin(i, t)),
-                        x([
-                            this.project(e.getSouthWest(), t)._subtract(i),
-                            this.project(e.getNorthWest(), t)._subtract(i),
-                            this.project(e.getSouthEast(), t)._subtract(i),
-                            this.project(e.getNorthEast(), t)._subtract(i),
-                        ])
-                    );
+                    var n = this._getNewPixelOrigin(i, t);
+                    return x([
+                        this.project(e.getSouthWest(), t)._subtract(n),
+                        this.project(e.getNorthWest(), t)._subtract(n),
+                        this.project(e.getSouthEast(), t)._subtract(n),
+                        this.project(e.getNorthEast(), t)._subtract(n),
+                    ]);
                 },
                 _getCenterLayerPoint: function () {
                     return this.containerPointToLayerPoint(
@@ -60616,43 +59690,35 @@ Object.values ||
                     );
                 },
                 _limitCenter: function (e, t, i) {
-                    var n, s;
-                    return (
-                            !i ||
-                                ((n = this.project(e, t)),
-                                (s = this.getSize().divideBy(2)),
-                                (s = new k(n.subtract(s), n.add(s))),
-                                (s = this._getBoundsOffset(s, i, t)),
-                                Math.abs(s.x) <= 1 && Math.abs(s.y) <= 1)
-                        ) ?
+                    if (!i) return e;
+                    var n = this.project(e, t),
+                        s = this.getSize().divideBy(2),
+                        a = new k(n.subtract(s), n.add(s)),
+                        o = this._getBoundsOffset(a, i, t);
+                    return o.round().equals([0, 0]) ?
                             e
-                        :   this.unproject(n.add(s), t);
+                        :   this.unproject(n.add(o), t);
                 },
                 _limitOffset: function (e, t) {
-                    var i;
-                    return t ?
-                            ((i = new k(
-                                (i = this.getPixelBounds()).min.add(e),
-                                i.max.add(e)
-                            )),
-                            e.add(this._getBoundsOffset(i, t)))
-                        :   e;
+                    if (!t) return e;
+                    var i = this.getPixelBounds(),
+                        n = new k(i.min.add(e), i.max.add(e));
+                    return e.add(this._getBoundsOffset(n, t));
                 },
                 _getBoundsOffset: function (e, t, i) {
-                    return (
-                        (i = (t = x(
+                    var n = x(
                             this.project(t.getNorthEast(), i),
                             this.project(t.getSouthWest(), i)
-                        )).min.subtract(e.min)),
-                        (t = t.max.subtract(e.max)),
-                        new y(
-                            this._rebound(i.x, -t.x),
-                            this._rebound(i.y, -t.y)
-                        )
+                        ),
+                        s = n.min.subtract(e.min),
+                        a = n.max.subtract(e.max);
+                    return new y(
+                        this._rebound(s.x, -a.x),
+                        this._rebound(s.y, -a.y)
                     );
                 },
                 _rebound: function (e, t) {
-                    return 0 < e + t ?
+                    return e + t > 0 ?
                             Math.round(e - t) / 2
                         :   Math.max(0, Math.ceil(e)) -
                                 Math.max(0, Math.floor(t));
@@ -60660,7 +59726,7 @@ Object.values ||
                 _limitZoom: function (e) {
                     var t = this.getMinZoom(),
                         i = this.getMaxZoom(),
-                        n = Zt.any3d ? this.options.zoomSnap : 1;
+                        n = Ft ? this.options.zoomSnap : 1;
                     return (
                         n && (e = Math.round(e / n) * n),
                         Math.max(t, Math.min(i, e))
@@ -60670,20 +59736,18 @@ Object.values ||
                     this.fire('move');
                 },
                 _onPanTransitionEnd: function () {
-                    K(this._mapPane, 'leaflet-pan-anim'), this.fire('moveend');
+                    ee(this._mapPane, 'leaflet-pan-anim'), this.fire('moveend');
                 },
                 _tryAnimatedPan: function (e, t) {
-                    return (
-                        (e = this._getCenterOffset(e)._trunc()),
-                        !(
-                            (!0 !== (t && t.animate) &&
-                                !this.getSize().contains(e)) ||
-                            (this.panBy(e, t), 0)
-                        )
+                    var i = this._getCenterOffset(e)._trunc();
+                    return !(
+                        (!0 !== (t && t.animate) &&
+                            !this.getSize().contains(i)) ||
+                        (this.panBy(i, t), 0)
                     );
                 },
                 _createAnimProxy: function () {
-                    var e = (this._proxy = q(
+                    var e = (this._proxy = G(
                         'div',
                         'leaflet-proxy leaflet-zoom-animated'
                     ));
@@ -60691,9 +59755,9 @@ Object.values ||
                         this.on(
                             'zoomanim',
                             function (e) {
-                                var t = si,
+                                var t = ui,
                                     i = this._proxy.style[t];
-                                ee(
+                                oe(
                                     this._proxy,
                                     this.project(e.center, e.zoom),
                                     this.getZoomScale(e.zoom, 1)
@@ -60704,26 +59768,27 @@ Object.values ||
                             },
                             this
                         ),
-                        this.on('load moveend', this._animMoveEnd, this),
+                        this.on(
+                            'load moveend',
+                            function () {
+                                var e = this.getCenter(),
+                                    t = this.getZoom();
+                                oe(
+                                    this._proxy,
+                                    this.project(e, t),
+                                    this.getZoomScale(t, 1)
+                                );
+                            },
+                            this
+                        ),
                         this._on('unload', this._destroyAnimProxy, this);
                 },
                 _destroyAnimProxy: function () {
-                    $(this._proxy),
-                        this.off('load moveend', this._animMoveEnd, this),
-                        delete this._proxy;
-                },
-                _animMoveEnd: function () {
-                    var e = this.getCenter(),
-                        t = this.getZoom();
-                    ee(
-                        this._proxy,
-                        this.project(e, t),
-                        this.getZoomScale(t, 1)
-                    );
+                    Z(this._proxy), delete this._proxy;
                 },
                 _catchTransitionEnd: function (e) {
                     this._animatingZoom &&
-                        0 <= e.propertyName.indexOf('transform') &&
+                        e.propertyName.indexOf('transform') >= 0 &&
                         this._onZoomTransitionEnd();
                 },
                 _nothingToAnimate: function () {
@@ -60732,72 +59797,55 @@ Object.values ||
                     ).length;
                 },
                 _tryAnimatedZoom: function (e, t, i) {
-                    if (!this._animatingZoom) {
-                        if (
-                            ((i = i || {}),
-                            !this._zoomAnimated ||
-                                !1 === i.animate ||
-                                this._nothingToAnimate() ||
-                                Math.abs(t - this._zoom) >
-                                    this.options.zoomAnimationThreshold)
-                        )
-                            return !1;
-                        var n = this.getZoomScale(t);
-                        n = this._getCenterOffset(e)._divideBy(1 - 1 / n);
-                        if (!0 !== i.animate && !this.getSize().contains(n))
-                            return !1;
-                        g(function () {
-                            this._moveStart(
-                                !0,
-                                i.noMoveStart || !1
-                            )._animateZoom(e, t, !0);
-                        }, this);
-                    }
-                    return !0;
+                    if (this._animatingZoom) return !0;
+                    if (
+                        ((i = i || {}),
+                        !this._zoomAnimated ||
+                            !1 === i.animate ||
+                            this._nothingToAnimate() ||
+                            Math.abs(t - this._zoom) >
+                                this.options.zoomAnimationThreshold)
+                    )
+                        return !1;
+                    var n = this.getZoomScale(t),
+                        s = this._getCenterOffset(e)._divideBy(1 - 1 / n);
+                    return !(
+                        (!0 !== i.animate && !this.getSize().contains(s)) ||
+                        (f(function () {
+                            this._moveStart(!0, !1)._animateZoom(e, t, !0);
+                        }, this),
+                        0)
+                    );
                 },
-                _animateZoom: function (e, t, i, s) {
+                _animateZoom: function (e, t, n, s) {
                     this._mapPane &&
-                        (i &&
+                        (n &&
                             ((this._animatingZoom = !0),
                             (this._animateToCenter = e),
                             (this._animateToZoom = t),
-                            Z(this._mapPane, 'leaflet-zoom-anim')),
+                            X(this._mapPane, 'leaflet-zoom-anim')),
                         this.fire('zoomanim', {
                             center: e,
                             zoom: t,
                             noUpdate: s,
                         }),
-                        this._tempFireZoomEvent ||
-                            (this._tempFireZoomEvent =
-                                this._zoom !== this._animateToZoom),
-                        this._move(
-                            this._animateToCenter,
-                            this._animateToZoom,
-                            void 0,
-                            !0
-                        ),
-                        setTimeout(n(this._onZoomTransitionEnd, this), 250));
+                        setTimeout(i(this._onZoomTransitionEnd, this), 250));
                 },
                 _onZoomTransitionEnd: function () {
                     this._animatingZoom &&
-                        (this._mapPane && K(this._mapPane, 'leaflet-zoom-anim'),
+                        (this._mapPane &&
+                            ee(this._mapPane, 'leaflet-zoom-anim'),
                         (this._animatingZoom = !1),
-                        this._move(
-                            this._animateToCenter,
-                            this._animateToZoom,
-                            void 0,
-                            !0
-                        ),
-                        this._tempFireZoomEvent && this.fire('zoom'),
-                        delete this._tempFireZoomEvent,
-                        this.fire('move'),
-                        this._moveEnd(!0));
+                        this._move(this._animateToCenter, this._animateToZoom),
+                        f(function () {
+                            this._moveEnd(!0);
+                        }, this));
                 },
             }),
-            pi = b.extend({
+            Ci = v.extend({
                 options: { position: 'topright' },
                 initialize: function (e) {
-                    u(this, e);
+                    d(this, e);
                 },
                 getPosition: function () {
                     return this.options.position;
@@ -60817,408 +59865,356 @@ Object.values ||
                 addTo: function (e) {
                     this.remove(), (this._map = e);
                     var t = (this._container = this.onAdd(e)),
-                        i = this.getPosition();
-                    e = e._controlCorners[i];
+                        i = this.getPosition(),
+                        n = e._controlCorners[i];
                     return (
-                        Z(t, 'leaflet-control'),
+                        X(t, 'leaflet-control'),
                         -1 !== i.indexOf('bottom') ?
-                            e.insertBefore(t, e.firstChild)
-                        :   e.appendChild(t),
-                        this._map.on('unload', this.remove, this),
+                            n.insertBefore(t, n.firstChild)
+                        :   n.appendChild(t),
                         this
                     );
                 },
                 remove: function () {
-                    return (
-                        this._map &&
-                            ($(this._container),
+                    return this._map ?
+                            (Z(this._container),
                             this.onRemove && this.onRemove(this._map),
-                            this._map.off('unload', this.remove, this),
-                            (this._map = null)),
-                        this
-                    );
+                            (this._map = null),
+                            this)
+                        :   this;
                 },
                 _refocusOnMap: function (e) {
                     this._map &&
                         e &&
-                        0 < e.screenX &&
-                        0 < e.screenY &&
+                        e.screenX > 0 &&
+                        e.screenY > 0 &&
                         this._map.getContainer().focus();
                 },
             }),
-            mi =
-                (hi.include({
-                    addControl: function (e) {
-                        return e.addTo(this), this;
-                    },
-                    removeControl: function (e) {
-                        return e.remove(), this;
-                    },
-                    _initControlPos: function () {
-                        function e(e, s) {
-                            t[e + s] = q('div', i + e + ' ' + i + s, n);
-                        }
-                        var t = (this._controlCorners = {}),
-                            i = 'leaflet-',
-                            n = (this._controlContainer = q(
-                                'div',
-                                i + 'control-container',
-                                this._container
-                            ));
-                        e('top', 'left'),
-                            e('top', 'right'),
-                            e('bottom', 'left'),
-                            e('bottom', 'right');
-                    },
-                    _clearControlPos: function () {
-                        for (var e in this._controlCorners)
-                            $(this._controlCorners[e]);
-                        $(this._controlContainer),
-                            delete this._controlCorners,
-                            delete this._controlContainer;
-                    },
-                }),
-                pi.extend({
-                    options: {
-                        collapsed: !0,
-                        position: 'topright',
-                        autoZIndex: !0,
-                        hideSingleBase: !1,
-                        sortLayers: !1,
-                        sortFunction: function (e, t, i, n) {
-                            return (
-                                i < n ? -1
-                                : n < i ? 1
-                                : 0
-                            );
-                        },
-                    },
-                    initialize: function (e, t, i) {
-                        for (var n in (u(this, i),
-                        (this._layerControlInputs = []),
-                        (this._layers = []),
-                        (this._lastZIndex = 0),
-                        (this._handlingClick = !1),
-                        (this._preventClick = !1),
-                        e))
-                            this._addLayer(e[n], n);
-                        for (n in t) this._addLayer(t[n], n, !0);
-                    },
-                    onAdd: function (e) {
-                        this._initLayout(),
-                            this._update(),
-                            (this._map = e).on(
-                                'zoomend',
-                                this._checkDisabledLayers,
-                                this
-                            );
-                        for (var t = 0; t < this._layers.length; t++)
-                            this._layers[t].layer.on(
-                                'add remove',
-                                this._onLayerChange,
-                                this
-                            );
-                        return this._container;
-                    },
-                    addTo: function (e) {
+            zi = function (e) {
+                return new Ci(e);
+            };
+        Ti.include({
+            addControl: function (e) {
+                return e.addTo(this), this;
+            },
+            removeControl: function (e) {
+                return e.remove(), this;
+            },
+            _initControlPos: function () {
+                function e(e, s) {
+                    var a = i + e + ' ' + i + s;
+                    t[e + s] = G('div', a, n);
+                }
+                var t = (this._controlCorners = {}),
+                    i = 'leaflet-',
+                    n = (this._controlContainer = G(
+                        'div',
+                        i + 'control-container',
+                        this._container
+                    ));
+                e('top', 'left'),
+                    e('top', 'right'),
+                    e('bottom', 'left'),
+                    e('bottom', 'right');
+            },
+            _clearControlPos: function () {
+                for (var e in this._controlCorners) Z(this._controlCorners[e]);
+                Z(this._controlContainer),
+                    delete this._controlCorners,
+                    delete this._controlContainer;
+            },
+        });
+        var Si = Ci.extend({
+                options: {
+                    collapsed: !0,
+                    position: 'topright',
+                    autoZIndex: !0,
+                    hideSingleBase: !1,
+                    sortLayers: !1,
+                    sortFunction: function (e, t, i, n) {
                         return (
-                            pi.prototype.addTo.call(this, e),
-                            this._expandIfNotCollapsed()
+                            i < n ? -1
+                            : n < i ? 1
+                            : 0
                         );
                     },
-                    onRemove: function () {
-                        this._map.off(
-                            'zoomend',
-                            this._checkDisabledLayers,
+                },
+                initialize: function (e, t, i) {
+                    for (var n in (d(this, i),
+                    (this._layerControlInputs = []),
+                    (this._layers = []),
+                    (this._lastZIndex = 0),
+                    (this._handlingClick = !1),
+                    e))
+                        this._addLayer(e[n], n);
+                    for (n in t) this._addLayer(t[n], n, !0);
+                },
+                onAdd: function (e) {
+                    this._initLayout(),
+                        this._update(),
+                        (this._map = e),
+                        e.on('zoomend', this._checkDisabledLayers, this);
+                    for (var t = 0; t < this._layers.length; t++)
+                        this._layers[t].layer.on(
+                            'add remove',
+                            this._onLayerChange,
                             this
                         );
-                        for (var e = 0; e < this._layers.length; e++)
-                            this._layers[e].layer.off(
-                                'add remove',
-                                this._onLayerChange,
-                                this
-                            );
-                    },
-                    addBaseLayer: function (e, t) {
-                        return (
-                            this._addLayer(e, t),
-                            this._map ? this._update() : this
-                        );
-                    },
-                    addOverlay: function (e, t) {
-                        return (
-                            this._addLayer(e, t, !0),
-                            this._map ? this._update() : this
-                        );
-                    },
-                    removeLayer: function (e) {
-                        return (
-                            e.off('add remove', this._onLayerChange, this),
-                            (e = this._getLayer(s(e))) &&
-                                this._layers.splice(this._layers.indexOf(e), 1),
-                            this._map ? this._update() : this
-                        );
-                    },
-                    expand: function () {
-                        Z(this._container, 'leaflet-control-layers-expanded'),
-                            (this._section.style.height = null);
-                        var e =
-                            this._map.getSize().y -
-                            (this._container.offsetTop + 50);
-                        return (
-                            e < this._section.clientHeight ?
-                                (Z(
-                                    this._section,
-                                    'leaflet-control-layers-scrollbar'
-                                ),
-                                (this._section.style.height = e + 'px'))
-                            :   K(
-                                    this._section,
-                                    'leaflet-control-layers-scrollbar'
-                                ),
-                            this._checkDisabledLayers(),
+                    return this._container;
+                },
+                addTo: function (e) {
+                    return (
+                        Ci.prototype.addTo.call(this, e),
+                        this._expandIfNotCollapsed()
+                    );
+                },
+                onRemove: function () {
+                    this._map.off('zoomend', this._checkDisabledLayers, this);
+                    for (var e = 0; e < this._layers.length; e++)
+                        this._layers[e].layer.off(
+                            'add remove',
+                            this._onLayerChange,
                             this
                         );
-                    },
-                    collapse: function () {
-                        return (
-                            K(
-                                this._container,
-                                'leaflet-control-layers-expanded'
+                },
+                addBaseLayer: function (e, t) {
+                    return (
+                        this._addLayer(e, t), this._map ? this._update() : this
+                    );
+                },
+                addOverlay: function (e, t) {
+                    return (
+                        this._addLayer(e, t, !0),
+                        this._map ? this._update() : this
+                    );
+                },
+                removeLayer: function (e) {
+                    e.off('add remove', this._onLayerChange, this);
+                    var t = this._getLayer(n(e));
+                    return (
+                        t && this._layers.splice(this._layers.indexOf(t), 1),
+                        this._map ? this._update() : this
+                    );
+                },
+                expand: function () {
+                    X(this._container, 'leaflet-control-layers-expanded'),
+                        (this._section.style.height = null);
+                    var e =
+                        this._map.getSize().y -
+                        (this._container.offsetTop + 50);
+                    return (
+                        e < this._section.clientHeight ?
+                            (X(
+                                this._section,
+                                'leaflet-control-layers-scrollbar'
                             ),
-                            this
-                        );
-                    },
-                    _initLayout: function () {
-                        var e = 'leaflet-control-layers',
-                            t = (this._container = q('div', e)),
-                            i = this.options.collapsed,
-                            n =
-                                (t.setAttribute('aria-haspopup', !0),
-                                fe(t),
-                                _e(t),
-                                (this._section = q('section', e + '-list'))),
-                            s =
-                                (i &&
-                                    (this._map.on('click', this.collapse, this),
-                                    ce(
-                                        t,
-                                        {
-                                            mouseenter: this._expandSafely,
-                                            mouseleave: this.collapse,
-                                        },
-                                        this
-                                    )),
-                                (this._layersLink = q('a', e + '-toggle', t)));
-                        (s.href = '#'),
-                            (s.title = 'Layers'),
-                            s.setAttribute('role', 'button'),
-                            ce(
-                                s,
+                            (this._section.style.height = e + 'px'))
+                        :   ee(
+                                this._section,
+                                'leaflet-control-layers-scrollbar'
+                            ),
+                        this._checkDisabledLayers(),
+                        this
+                    );
+                },
+                collapse: function () {
+                    return (
+                        ee(this._container, 'leaflet-control-layers-expanded'),
+                        this
+                    );
+                },
+                _initLayout: function () {
+                    var e = 'leaflet-control-layers',
+                        t = (this._container = G('div', e)),
+                        i = this.options.collapsed;
+                    t.setAttribute('aria-haspopup', !0), we(t), ye(t);
+                    var n = (this._section = G('section', e + '-list'));
+                    i &&
+                        (this._map.on('click', this.collapse, this),
+                        zt ||
+                            _e(
+                                t,
                                 {
-                                    keydown: function (e) {
-                                        13 === e.keyCode &&
-                                            this._expandSafely();
-                                    },
-                                    click: function (e) {
-                                        ge(e), this._expandSafely();
-                                    },
+                                    mouseenter: this.expand,
+                                    mouseleave: this.collapse,
                                 },
                                 this
+                            ));
+                    var s = (this._layersLink = G('a', e + '-toggle', t));
+                    (s.href = '#'),
+                        (s.title = 'Layers'),
+                        Ut ?
+                            (_e(s, 'click', xe),
+                            _e(s, 'click', this.expand, this))
+                        :   _e(s, 'focus', this.expand, this),
+                        i || this.expand(),
+                        (this._baseLayersList = G('div', e + '-base', n)),
+                        (this._separator = G('div', e + '-separator', n)),
+                        (this._overlaysList = G('div', e + '-overlays', n)),
+                        t.appendChild(n);
+                },
+                _getLayer: function (e) {
+                    for (var t = 0; t < this._layers.length; t++)
+                        if (this._layers[t] && n(this._layers[t].layer) === e)
+                            return this._layers[t];
+                },
+                _addLayer: function (e, t, n) {
+                    this._map && e.on('add remove', this._onLayerChange, this),
+                        this._layers.push({ layer: e, name: t, overlay: n }),
+                        this.options.sortLayers &&
+                            this._layers.sort(
+                                i(function (e, t) {
+                                    return this.options.sortFunction(
+                                        e.layer,
+                                        t.layer,
+                                        e.name,
+                                        t.name
+                                    );
+                                }, this)
                             ),
-                            i || this.expand(),
-                            (this._baseLayersList = q('div', e + '-base', n)),
-                            (this._separator = q('div', e + '-separator', n)),
-                            (this._overlaysList = q('div', e + '-overlays', n)),
-                            t.appendChild(n);
-                    },
-                    _getLayer: function (e) {
-                        for (var t = 0; t < this._layers.length; t++)
-                            if (
-                                this._layers[t] &&
-                                s(this._layers[t].layer) === e
-                            )
-                                return this._layers[t];
-                    },
-                    _addLayer: function (e, t, i) {
-                        this._map &&
-                            e.on('add remove', this._onLayerChange, this),
-                            this._layers.push({
-                                layer: e,
-                                name: t,
-                                overlay: i,
-                            }),
-                            this.options.sortLayers &&
-                                this._layers.sort(
-                                    n(function (e, t) {
-                                        return this.options.sortFunction(
-                                            e.layer,
-                                            t.layer,
-                                            e.name,
-                                            t.name
-                                        );
-                                    }, this)
-                                ),
-                            this.options.autoZIndex &&
-                                e.setZIndex &&
-                                (this._lastZIndex++,
-                                e.setZIndex(this._lastZIndex)),
-                            this._expandIfNotCollapsed();
-                    },
-                    _update: function () {
-                        if (this._container) {
-                            W(this._baseLayersList),
-                                W(this._overlaysList),
-                                (this._layerControlInputs = []);
-                            for (
-                                var e, t, i, n = 0, s = 0;
-                                s < this._layers.length;
-                                s++
-                            )
-                                (i = this._layers[s]),
-                                    this._addItem(i),
-                                    (t = t || i.overlay),
-                                    (e = e || !i.overlay),
-                                    (n += i.overlay ? 0 : 1);
-                            this.options.hideSingleBase &&
-                                (this._baseLayersList.style.display =
-                                    (e = e && 1 < n) ? '' : 'none'),
-                                (this._separator.style.display =
-                                    t && e ? '' : 'none');
-                        }
-                        return this;
-                    },
-                    _onLayerChange: function (e) {
-                        this._handlingClick || this._update();
-                        var t = this._getLayer(s(e.target));
-                        (e =
+                        this.options.autoZIndex &&
+                            e.setZIndex &&
+                            (this._lastZIndex++, e.setZIndex(this._lastZIndex)),
+                        this._expandIfNotCollapsed();
+                },
+                _update: function () {
+                    if (!this._container) return this;
+                    K(this._baseLayersList),
+                        K(this._overlaysList),
+                        (this._layerControlInputs = []);
+                    var e,
+                        t,
+                        i,
+                        n,
+                        s = 0;
+                    for (i = 0; i < this._layers.length; i++)
+                        (n = this._layers[i]),
+                            this._addItem(n),
+                            (t = t || n.overlay),
+                            (e = e || !n.overlay),
+                            (s += n.overlay ? 0 : 1);
+                    return (
+                        this.options.hideSingleBase &&
+                            ((e = e && s > 1),
+                            (this._baseLayersList.style.display =
+                                e ? '' : 'none')),
+                        (this._separator.style.display = t && e ? '' : 'none'),
+                        this
+                    );
+                },
+                _onLayerChange: function (e) {
+                    this._handlingClick || this._update();
+                    var t = this._getLayer(n(e.target)),
+                        i =
                             t.overlay ?
                                 'add' === e.type ?
                                     'overlayadd'
                                 :   'overlayremove'
                             : 'add' === e.type ? 'baselayerchange'
-                            : null) && this._map.fire(e, t);
-                    },
-                    _createRadioElement: function (e, t) {
-                        return (
-                            (e =
-                                '<input type="radio" class="leaflet-control-layers-selector" name="' +
-                                e +
-                                '"' +
-                                (t ? ' checked="checked"' : '') +
-                                '/>'),
-                            ((t = document.createElement('div')).innerHTML = e),
-                            t.firstChild
-                        );
-                    },
-                    _addItem: function (e) {
-                        var t,
-                            i = document.createElement('label'),
-                            n = this._map.hasLayer(e.layer),
-                            a =
-                                (((n =
-                                    (e.overlay ?
-                                        (((t =
-                                            document.createElement(
-                                                'input'
-                                            )).type = 'checkbox'),
-                                        (t.className =
-                                            'leaflet-control-layers-selector'),
-                                        (t.defaultChecked = n))
-                                    :   (t = this._createRadioElement(
-                                            'leaflet-base-layers_' + s(this),
-                                            n
-                                        )),
-                                    this._layerControlInputs.push(t),
-                                    (t.layerId = s(e.layer)),
-                                    ce(t, 'click', this._onInputClick, this),
-                                    document.createElement('span'))).innerHTML =
-                                    ' ' + e.name),
-                                document.createElement('span'));
-                        return (
-                            i.appendChild(a),
-                            a.appendChild(t),
-                            a.appendChild(n),
-                            (e.overlay ?
-                                this._overlaysList
-                            :   this._baseLayersList
-                            ).appendChild(i),
-                            this._checkDisabledLayers(),
-                            i
-                        );
-                    },
-                    _onInputClick: function () {
-                        if (!this._preventClick) {
-                            var e,
-                                t,
-                                i = this._layerControlInputs,
-                                n = [],
-                                s = [];
-                            this._handlingClick = !0;
-                            for (var a = i.length - 1; 0 <= a; a--)
-                                (e = i[a]),
-                                    (t = this._getLayer(e.layerId).layer),
-                                    e.checked ?
-                                        n.push(t)
-                                    :   e.checked || s.push(t);
-                            for (a = 0; a < s.length; a++)
-                                this._map.hasLayer(s[a]) &&
-                                    this._map.removeLayer(s[a]);
-                            for (a = 0; a < n.length; a++)
-                                this._map.hasLayer(n[a]) ||
-                                    this._map.addLayer(n[a]);
-                            (this._handlingClick = !1), this._refocusOnMap();
-                        }
-                    },
-                    _checkDisabledLayers: function () {
-                        for (
-                            var e,
-                                t,
-                                i = this._layerControlInputs,
-                                n = this._map.getZoom(),
-                                s = i.length - 1;
-                            0 <= s;
-                            s--
-                        )
-                            (e = i[s]),
-                                (t = this._getLayer(e.layerId).layer),
-                                (e.disabled =
-                                    (void 0 !== t.options.minZoom &&
-                                        n < t.options.minZoom) ||
-                                    (void 0 !== t.options.maxZoom &&
-                                        n > t.options.maxZoom));
-                    },
-                    _expandIfNotCollapsed: function () {
-                        return (
-                            this._map &&
-                                !this.options.collapsed &&
-                                this.expand(),
-                            this
-                        );
-                    },
-                    _expandSafely: function () {
-                        var e = this._section,
-                            t =
-                                ((this._preventClick = !0),
-                                ce(e, 'click', ge),
-                                this.expand(),
-                                this);
-                        setTimeout(function () {
-                            de(e, 'click', ge), (t._preventClick = !1);
-                        });
-                    },
-                })),
-            _i = pi.extend({
+                            : null;
+                    i && this._map.fire(i, t);
+                },
+                _createRadioElement: function (e, t) {
+                    var i =
+                            '<input type="radio" class="leaflet-control-layers-selector" name="' +
+                            e +
+                            '"' +
+                            (t ? ' checked="checked"' : '') +
+                            '/>',
+                        n = document.createElement('div');
+                    return (n.innerHTML = i), n.firstChild;
+                },
+                _addItem: function (e) {
+                    var t,
+                        i = document.createElement('label'),
+                        s = this._map.hasLayer(e.layer);
+                    e.overlay ?
+                        (((t = document.createElement('input')).type =
+                            'checkbox'),
+                        (t.className = 'leaflet-control-layers-selector'),
+                        (t.defaultChecked = s))
+                    :   (t = this._createRadioElement(
+                            'leaflet-base-layers',
+                            s
+                        )),
+                        this._layerControlInputs.push(t),
+                        (t.layerId = n(e.layer)),
+                        _e(t, 'click', this._onInputClick, this);
+                    var a = document.createElement('span');
+                    a.innerHTML = ' ' + e.name;
+                    var o = document.createElement('div');
+                    return (
+                        i.appendChild(o),
+                        o.appendChild(t),
+                        o.appendChild(a),
+                        (e.overlay ?
+                            this._overlaysList
+                        :   this._baseLayersList
+                        ).appendChild(i),
+                        this._checkDisabledLayers(),
+                        i
+                    );
+                },
+                _onInputClick: function () {
+                    var e,
+                        t,
+                        i = this._layerControlInputs,
+                        n = [],
+                        s = [];
+                    this._handlingClick = !0;
+                    for (var a = i.length - 1; a >= 0; a--)
+                        (e = i[a]),
+                            (t = this._getLayer(e.layerId).layer),
+                            e.checked ? n.push(t) : e.checked || s.push(t);
+                    for (a = 0; a < s.length; a++)
+                        this._map.hasLayer(s[a]) && this._map.removeLayer(s[a]);
+                    for (a = 0; a < n.length; a++)
+                        this._map.hasLayer(n[a]) || this._map.addLayer(n[a]);
+                    (this._handlingClick = !1), this._refocusOnMap();
+                },
+                _checkDisabledLayers: function () {
+                    for (
+                        var e,
+                            t,
+                            i = this._layerControlInputs,
+                            n = this._map.getZoom(),
+                            s = i.length - 1;
+                        s >= 0;
+                        s--
+                    )
+                        (e = i[s]),
+                            (t = this._getLayer(e.layerId).layer),
+                            (e.disabled =
+                                (void 0 !== t.options.minZoom &&
+                                    n < t.options.minZoom) ||
+                                (void 0 !== t.options.maxZoom &&
+                                    n > t.options.maxZoom));
+                },
+                _expandIfNotCollapsed: function () {
+                    return (
+                        this._map && !this.options.collapsed && this.expand(),
+                        this
+                    );
+                },
+                _expand: function () {
+                    return this.expand();
+                },
+                _collapse: function () {
+                    return this.collapse();
+                },
+            }),
+            Ai = Ci.extend({
                 options: {
                     position: 'topleft',
-                    zoomInText: '<span aria-hidden="true">+</span>',
+                    zoomInText: '+',
                     zoomInTitle: 'Zoom in',
-                    zoomOutText: '<span aria-hidden="true">&#x2212;</span>',
+                    zoomOutText: '&#x2212;',
                     zoomOutTitle: 'Zoom out',
                 },
                 onAdd: function (e) {
                     var t = 'leaflet-control-zoom',
-                        i = q('div', t + ' leaflet-bar'),
+                        i = G('div', t + ' leaflet-bar'),
                         n = this.options;
                     return (
                         (this._zoomInButton = this._createButton(
@@ -61272,727 +60268,674 @@ Object.values ||
                         );
                 },
                 _createButton: function (e, t, i, n, s) {
+                    var a = G('a', i, n);
                     return (
-                        ((i = q('a', i, n)).innerHTML = e),
-                        (i.href = '#'),
-                        (i.title = t),
-                        i.setAttribute('role', 'button'),
-                        i.setAttribute('aria-label', t),
-                        fe(i),
-                        ce(i, 'click', ve),
-                        ce(i, 'click', s, this),
-                        ce(i, 'click', this._refocusOnMap, this),
-                        i
+                        (a.innerHTML = e),
+                        (a.href = '#'),
+                        (a.title = t),
+                        a.setAttribute('role', 'button'),
+                        a.setAttribute('aria-label', t),
+                        we(a),
+                        _e(a, 'click', xe),
+                        _e(a, 'click', s, this),
+                        _e(a, 'click', this._refocusOnMap, this),
+                        a
                     );
                 },
                 _updateDisabled: function () {
                     var e = this._map,
                         t = 'leaflet-disabled';
-                    K(this._zoomInButton, t),
-                        K(this._zoomOutButton, t),
-                        this._zoomInButton.setAttribute(
-                            'aria-disabled',
-                            'false'
-                        ),
-                        this._zoomOutButton.setAttribute(
-                            'aria-disabled',
-                            'false'
-                        ),
-                        (!this._disabled && e._zoom !== e.getMinZoom()) ||
-                            (Z(this._zoomOutButton, t),
-                            this._zoomOutButton.setAttribute(
-                                'aria-disabled',
-                                'true'
-                            )),
-                        (!this._disabled && e._zoom !== e.getMaxZoom()) ||
-                            (Z(this._zoomInButton, t),
-                            this._zoomInButton.setAttribute(
-                                'aria-disabled',
-                                'true'
-                            ));
+                    ee(this._zoomInButton, t),
+                        ee(this._zoomOutButton, t),
+                        (this._disabled || e._zoom === e.getMinZoom()) &&
+                            X(this._zoomOutButton, t),
+                        (this._disabled || e._zoom === e.getMaxZoom()) &&
+                            X(this._zoomInButton, t);
                 },
-            }),
-            fi =
-                (hi.mergeOptions({ zoomControl: !0 }),
-                hi.addInitHook(function () {
-                    this.options.zoomControl &&
-                        ((this.zoomControl = new _i()),
-                        this.addControl(this.zoomControl));
-                }),
-                pi.extend({
-                    options: {
-                        position: 'bottomleft',
-                        maxWidth: 100,
-                        metric: !0,
-                        imperial: !0,
-                    },
-                    onAdd: function (e) {
-                        var t = 'leaflet-control-scale',
-                            i = q('div', t),
-                            n = this.options;
-                        return (
-                            this._addScales(n, t + '-line', i),
-                            e.on(
-                                n.updateWhenIdle ? 'moveend' : 'move',
-                                this._update,
-                                this
-                            ),
-                            e.whenReady(this._update, this),
-                            i
-                        );
-                    },
-                    onRemove: function (e) {
-                        e.off(
-                            this.options.updateWhenIdle ? 'moveend' : 'move',
+            });
+        Ti.mergeOptions({ zoomControl: !0 }),
+            Ti.addInitHook(function () {
+                this.options.zoomControl &&
+                    ((this.zoomControl = new Ai()),
+                    this.addControl(this.zoomControl));
+            });
+        var Ei = Ci.extend({
+                options: {
+                    position: 'bottomleft',
+                    maxWidth: 100,
+                    metric: !0,
+                    imperial: !0,
+                },
+                onAdd: function (e) {
+                    var t = G('div', 'leaflet-control-scale'),
+                        i = this.options;
+                    return (
+                        this._addScales(i, 'leaflet-control-scale-line', t),
+                        e.on(
+                            i.updateWhenIdle ? 'moveend' : 'move',
                             this._update,
                             this
+                        ),
+                        e.whenReady(this._update, this),
+                        t
+                    );
+                },
+                onRemove: function (e) {
+                    e.off(
+                        this.options.updateWhenIdle ? 'moveend' : 'move',
+                        this._update,
+                        this
+                    );
+                },
+                _addScales: function (e, t, i) {
+                    e.metric && (this._mScale = G('div', t, i)),
+                        e.imperial && (this._iScale = G('div', t, i));
+                },
+                _update: function () {
+                    var e = this._map,
+                        t = e.getSize().y / 2,
+                        i = e.distance(
+                            e.containerPointToLatLng([0, t]),
+                            e.containerPointToLatLng([this.options.maxWidth, t])
                         );
-                    },
-                    _addScales: function (e, t, i) {
-                        e.metric && (this._mScale = q('div', t, i)),
-                            e.imperial && (this._iScale = q('div', t, i));
-                    },
-                    _update: function () {
-                        var e = (t = this._map).getSize().y / 2,
-                            t = t.distance(
-                                t.containerPointToLatLng([0, e]),
-                                t.containerPointToLatLng([
-                                    this.options.maxWidth,
-                                    e,
-                                ])
-                            );
-                        this._updateScales(t);
-                    },
-                    _updateScales: function (e) {
-                        this.options.metric && e && this._updateMetric(e),
-                            this.options.imperial &&
-                                e &&
-                                this._updateImperial(e);
-                    },
-                    _updateMetric: function (e) {
-                        var t = this._getRoundNum(e);
-                        this._updateScale(
-                            this._mScale,
-                            t < 1e3 ? t + ' m' : t / 1e3 + ' km',
-                            t / e
-                        );
-                    },
-                    _updateImperial: function (e) {
-                        var t, i;
-                        5280 < (e = 3.2808399 * e) ?
-                            ((i = this._getRoundNum((t = e / 5280))),
-                            this._updateScale(this._iScale, i + ' mi', i / t))
-                        :   ((i = this._getRoundNum(e)),
-                            this._updateScale(this._iScale, i + ' ft', i / e));
-                    },
-                    _updateScale: function (e, t, i) {
-                        (e.style.width =
-                            Math.round(this.options.maxWidth * i) + 'px'),
-                            (e.innerHTML = t);
-                    },
-                    _getRoundNum: function (e) {
-                        var t = Math.pow(10, (Math.floor(e) + '').length - 1);
-                        return (
-                            t *
-                            (10 <= (e = e / t) ? 10
-                            : 5 <= e ? 5
-                            : 3 <= e ? 3
-                            : 2 <= e ? 2
+                    this._updateScales(i);
+                },
+                _updateScales: function (e) {
+                    this.options.metric && e && this._updateMetric(e),
+                        this.options.imperial && e && this._updateImperial(e);
+                },
+                _updateMetric: function (e) {
+                    var t = this._getRoundNum(e),
+                        i = t < 1e3 ? t + ' m' : t / 1e3 + ' km';
+                    this._updateScale(this._mScale, i, t / e);
+                },
+                _updateImperial: function (e) {
+                    var t,
+                        i,
+                        n,
+                        s = 3.2808399 * e;
+                    s > 5280 ?
+                        ((t = s / 5280),
+                        (i = this._getRoundNum(t)),
+                        this._updateScale(this._iScale, i + ' mi', i / t))
+                    :   ((n = this._getRoundNum(s)),
+                        this._updateScale(this._iScale, n + ' ft', n / s));
+                },
+                _updateScale: function (e, t, i) {
+                    (e.style.width =
+                        Math.round(this.options.maxWidth * i) + 'px'),
+                        (e.innerHTML = t);
+                },
+                _getRoundNum: function (e) {
+                    var t = Math.pow(10, (Math.floor(e) + '').length - 1),
+                        i = e / t;
+                    return (
+                        t *
+                        (i =
+                            i >= 10 ? 10
+                            : i >= 5 ? 5
+                            : i >= 3 ? 3
+                            : i >= 2 ? 2
                             : 1)
-                        );
-                    },
-                })),
-            gi = pi.extend({
+                    );
+                },
+            }),
+            Pi = Ci.extend({
                 options: {
                     position: 'bottomright',
-                    prefix:
-                        '<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">' +
-                        (Zt.inlineSvg ?
-                            '<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> '
-                        :   '') +
-                        'Leaflet</a>',
+                    prefix: '<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>',
                 },
                 initialize: function (e) {
-                    u(this, e), (this._attributions = {});
+                    d(this, e), (this._attributions = {});
                 },
                 onAdd: function (e) {
-                    for (var t in (((e.attributionControl = this)._container =
-                        q('div', 'leaflet-control-attribution')),
-                    fe(this._container),
+                    for (var t in ((e.attributionControl = this),
+                    (this._container = G('div', 'leaflet-control-attribution')),
+                    we(this._container),
                     e._layers))
                         e._layers[t].getAttribution &&
                             this.addAttribution(e._layers[t].getAttribution());
-                    return (
-                        this._update(),
-                        e.on('layeradd', this._addAttribution, this),
-                        this._container
-                    );
-                },
-                onRemove: function (e) {
-                    e.off('layeradd', this._addAttribution, this);
-                },
-                _addAttribution: function (e) {
-                    e.layer.getAttribution &&
-                        (this.addAttribution(e.layer.getAttribution()),
-                        e.layer.once(
-                            'remove',
-                            function () {
-                                this.removeAttribution(
-                                    e.layer.getAttribution()
-                                );
-                            },
-                            this
-                        ));
+                    return this._update(), this._container;
                 },
                 setPrefix: function (e) {
                     return (this.options.prefix = e), this._update(), this;
                 },
                 addAttribution: function (e) {
-                    return (
-                        e &&
+                    return e ?
                             (this._attributions[e] ||
                                 (this._attributions[e] = 0),
                             this._attributions[e]++,
-                            this._update()),
-                        this
-                    );
+                            this._update(),
+                            this)
+                        :   this;
                 },
                 removeAttribution: function (e) {
-                    return (
-                        e &&
-                            this._attributions[e] &&
-                            (this._attributions[e]--, this._update()),
-                        this
-                    );
+                    return e ?
+                            (this._attributions[e] &&
+                                (this._attributions[e]--, this._update()),
+                            this)
+                        :   this;
                 },
                 _update: function () {
                     if (this._map) {
-                        var e,
-                            t = [];
-                        for (e in this._attributions)
-                            this._attributions[e] && t.push(e);
+                        var e = [];
+                        for (var t in this._attributions)
+                            this._attributions[t] && e.push(t);
                         var i = [];
                         this.options.prefix && i.push(this.options.prefix),
-                            t.length && i.push(t.join(', ')),
-                            (this._container.innerHTML = i.join(
-                                ' <span aria-hidden="true">|</span> '
-                            ));
+                            e.length && i.push(e.join(', ')),
+                            (this._container.innerHTML = i.join(' | '));
                     }
                 },
+            });
+        Ti.mergeOptions({ attributionControl: !0 }),
+            Ti.addInitHook(function () {
+                this.options.attributionControl && new Pi().addTo(this);
             }),
-            vi =
-                ((yt =
-                    (hi.mergeOptions({ attributionControl: !0 }),
-                    hi.addInitHook(function () {
-                        this.options.attributionControl && new gi().addTo(this);
-                    }),
-                    (pi.Layers = mi),
-                    (pi.Zoom = _i),
-                    (pi.Scale = fi),
-                    (pi.Attribution = gi),
-                    (xe.layers = function (e, t, i) {
-                        return new mi(e, t, i);
-                    }),
-                    (xe.zoom = function (e) {
-                        return new _i(e);
-                    }),
-                    (xe.scale = function (e) {
-                        return new fi(e);
-                    }),
-                    (xe.attribution = function (e) {
-                        return new gi(e);
-                    }),
-                    b.extend({
-                        initialize: function (e) {
-                            this._map = e;
-                        },
-                        enable: function () {
-                            return (
-                                this._enabled ||
-                                    ((this._enabled = !0), this.addHooks()),
-                                this
-                            );
-                        },
-                        disable: function () {
-                            return (
-                                this._enabled &&
-                                    ((this._enabled = !1), this.removeHooks()),
-                                this
-                            );
-                        },
-                        enabled: function () {
-                            return !!this._enabled;
-                        },
-                    }))),
-                (wt =
-                    ((yt.addTo = function (e, t) {
-                        return e.addHandler(t, this), this;
-                    }),
-                    { Events: nt })),
-                Zt.touch ? 'touchstart mousedown' : 'mousedown'),
-            bi = st.extend({
+            (Ci.Layers = Si),
+            (Ci.Zoom = Ai),
+            (Ci.Scale = Ei),
+            (Ci.Attribution = Pi),
+            (zi.layers = function (e, t, i) {
+                return new Si(e, t, i);
+            }),
+            (zi.zoom = function (e) {
+                return new Ai(e);
+            }),
+            (zi.scale = function (e) {
+                return new Ei(e);
+            }),
+            (zi.attribution = function (e) {
+                return new Pi(e);
+            });
+        var Mi = v.extend({
+            initialize: function (e) {
+                this._map = e;
+            },
+            enable: function () {
+                return (
+                    this._enabled || ((this._enabled = !0), this.addHooks()),
+                    this
+                );
+            },
+            disable: function () {
+                return this._enabled ?
+                        ((this._enabled = !1), this.removeHooks(), this)
+                    :   this;
+            },
+            enabled: function () {
+                return !!this._enabled;
+            },
+        });
+        Mi.addTo = function (e, t) {
+            return e.addHandler(t, this), this;
+        };
+        var Ii,
+            ji = { Events: dt },
+            Di = Ut ? 'touchstart mousedown' : 'mousedown',
+            Ri = {
+                mousedown: 'mouseup',
+                touchstart: 'touchend',
+                pointerdown: 'touchend',
+                MSPointerDown: 'touchend',
+            },
+            Bi = {
+                mousedown: 'mousemove',
+                touchstart: 'touchmove',
+                pointerdown: 'touchmove',
+                MSPointerDown: 'touchmove',
+            },
+            Oi = ut.extend({
                 options: { clickTolerance: 3 },
                 initialize: function (e, t, i, n) {
-                    u(this, n),
+                    d(this, n),
                         (this._element = e),
                         (this._dragStartTarget = t || e),
                         (this._preventOutline = i);
                 },
                 enable: function () {
                     this._enabled ||
-                        (ce(this._dragStartTarget, vi, this._onDown, this),
+                        (_e(this._dragStartTarget, Di, this._onDown, this),
                         (this._enabled = !0));
                 },
                 disable: function () {
                     this._enabled &&
-                        (bi._dragging === this && this.finishDrag(!0),
-                        de(this._dragStartTarget, vi, this._onDown, this),
+                        (Oi._dragging === this && this.finishDrag(),
+                        fe(this._dragStartTarget, Di, this._onDown, this),
                         (this._enabled = !1),
                         (this._moved = !1));
                 },
                 _onDown: function (e) {
-                    var t, i;
-                    this._enabled &&
+                    if (
+                        !e._simulated &&
+                        this._enabled &&
                         ((this._moved = !1),
-                        G(this._element, 'leaflet-zoom-anim') ||
-                            (e.touches && 1 !== e.touches.length ?
-                                bi._dragging === this && this.finishDrag()
-                            :   bi._dragging ||
+                        !Q(this._element, 'leaflet-zoom-anim') &&
+                            !(
+                                Oi._dragging ||
                                 e.shiftKey ||
                                 (1 !== e.which &&
                                     1 !== e.button &&
                                     !e.touches) ||
-                                ((bi._dragging = this)._preventOutline &&
-                                    ae(this._element),
-                                ne(),
-                                ut(),
-                                this._moving ||
-                                    (this.fire('down'),
-                                    (i = e.touches ? e.touches[0] : e),
-                                    (t = re(this._element)),
-                                    (this._startPoint = new y(
-                                        i.clientX,
-                                        i.clientY
-                                    )),
-                                    (this._startPos = ie(this._element)),
-                                    (this._parentScale = le(t)),
-                                    (i = 'mousedown' === e.type),
-                                    ce(
-                                        document,
-                                        i ? 'mousemove' : 'touchmove',
-                                        this._onMove,
-                                        this
-                                    ),
-                                    ce(
-                                        document,
-                                        i ? 'mouseup' : 'touchend touchcancel',
-                                        this._onUp,
-                                        this
-                                    )))));
+                                ((Oi._dragging = this),
+                                this._preventOutline && ue(this._element),
+                                ce(),
+                                ft(),
+                                this._moving)
+                            ))
+                    ) {
+                        this.fire('down');
+                        var t = e.touches ? e.touches[0] : e,
+                            i = pe(this._element);
+                        (this._startPoint = new y(t.clientX, t.clientY)),
+                            (this._parentScale = me(i)),
+                            _e(document, Bi[e.type], this._onMove, this),
+                            _e(document, Ri[e.type], this._onUp, this);
+                    }
                 },
                 _onMove: function (e) {
-                    var t;
-                    this._enabled &&
-                        (e.touches && 1 < e.touches.length ?
-                            (this._moved = !0)
-                        :   (!(t = new y(
-                                (t =
+                    if (!e._simulated && this._enabled)
+                        if (e.touches && e.touches.length > 1) this._moved = !0;
+                        else {
+                            var t =
                                     e.touches && 1 === e.touches.length ?
                                         e.touches[0]
-                                    :   e).clientX,
-                                t.clientY
-                            )._subtract(this._startPoint)).x &&
-                                !t.y) ||
-                            Math.abs(t.x) + Math.abs(t.y) <
-                                this.options.clickTolerance ||
-                            ((t.x /= this._parentScale.x),
-                            (t.y /= this._parentScale.y),
-                            ge(e),
-                            this._moved ||
-                                (this.fire('dragstart'),
-                                (this._moved = !0),
-                                Z(document.body, 'leaflet-dragging'),
-                                (this._lastTarget = e.target || e.srcElement),
-                                window.SVGElementInstance &&
-                                    this._lastTarget instanceof
+                                    :   e,
+                                i = new y(t.clientX, t.clientY)._subtract(
+                                    this._startPoint
+                                );
+                            (i.x || i.y) &&
+                                (Math.abs(i.x) + Math.abs(i.y) <
+                                    this.options.clickTolerance ||
+                                    ((i.x /= this._parentScale.x),
+                                    (i.y /= this._parentScale.y),
+                                    ke(e),
+                                    this._moved ||
+                                        (this.fire('dragstart'),
+                                        (this._moved = !0),
+                                        (this._startPos = le(
+                                            this._element
+                                        ).subtract(i)),
+                                        X(document.body, 'leaflet-dragging'),
+                                        (this._lastTarget =
+                                            e.target || e.srcElement),
                                         window.SVGElementInstance &&
-                                    (this._lastTarget =
-                                        this._lastTarget.correspondingUseElement),
-                                Z(this._lastTarget, 'leaflet-drag-target')),
-                            (this._newPos = this._startPos.add(t)),
-                            (this._moving = !0),
-                            (this._lastEvent = e),
-                            this._updatePosition()));
+                                            this._lastTarget instanceof
+                                                SVGElementInstance &&
+                                            (this._lastTarget =
+                                                this._lastTarget.correspondingUseElement),
+                                        X(
+                                            this._lastTarget,
+                                            'leaflet-drag-target'
+                                        )),
+                                    (this._newPos = this._startPos.add(i)),
+                                    (this._moving = !0),
+                                    g(this._animRequest),
+                                    (this._lastEvent = e),
+                                    (this._animRequest = f(
+                                        this._updatePosition,
+                                        this,
+                                        !0
+                                    ))));
+                        }
                 },
                 _updatePosition: function () {
                     var e = { originalEvent: this._lastEvent };
                     this.fire('predrag', e),
-                        te(this._element, this._newPos),
+                        re(this._element, this._newPos),
                         this.fire('drag', e);
                 },
-                _onUp: function () {
-                    this._enabled && this.finishDrag();
-                },
-                finishDrag: function (e) {
-                    K(document.body, 'leaflet-dragging'),
-                        this._lastTarget &&
-                            (K(this._lastTarget, 'leaflet-drag-target'),
-                            (this._lastTarget = null)),
-                        de(document, 'mousemove touchmove', this._onMove, this),
-                        de(
-                            document,
-                            'mouseup touchend touchcancel',
-                            this._onUp,
-                            this
-                        ),
-                        se(),
-                        ht();
-                    var t = this._moved && this._moving;
-                    (this._moving = !1),
-                        (bi._dragging = !1),
-                        t &&
+                _onUp: function (e) {
+                    !e._simulated && this._enabled && this.finishDrag();
+                },
+                finishDrag: function () {
+                    for (var e in (ee(document.body, 'leaflet-dragging'),
+                    this._lastTarget &&
+                        (ee(this._lastTarget, 'leaflet-drag-target'),
+                        (this._lastTarget = null)),
+                    Bi))
+                        fe(document, Bi[e], this._onMove, this),
+                            fe(document, Ri[e], this._onUp, this);
+                    de(),
+                        gt(),
+                        this._moved &&
+                            this._moving &&
+                            (g(this._animRequest),
                             this.fire('dragend', {
-                                noInertia: e,
                                 distance: this._newPos.distanceTo(
                                     this._startPos
                                 ),
-                            });
+                            })),
+                        (this._moving = !1),
+                        (Oi._dragging = !1);
                 },
             }),
-            yi =
-                ((kt = {
-                    __proto__: null,
-                    clipPolygon: Te,
-                    polygonCenter: Ce,
-                    centroid: Se,
-                }),
-                (xt = {
-                    __proto__: null,
-                    simplify: ze,
-                    pointToSegmentDistance: Ae,
-                    closestPointOnSegment: function (e, t, i) {
-                        return Ie(e, t, i);
-                    },
-                    clipSegment: Ee,
-                    _getEdgeIntersection: Pe,
-                    _getBitCode: Me,
-                    _sqClosestPointOnSegment: Ie,
-                    isFlat: De,
-                    _flat: je,
-                    polylineCenter: Re,
-                }),
-                (Tt = {
-                    project: function (e) {
-                        return new y(e.lng, e.lat);
-                    },
-                    unproject: function (e) {
-                        return new S(e.y, e.x);
-                    },
-                    bounds: new k([-180, -90], [180, 90]),
-                }),
-                (Ct = {
-                    R: 6378137,
-                    R_MINOR: 6356752.314245179,
-                    bounds: new k(
-                        [-20037508.34279, -15496570.73972],
-                        [20037508.34279, 18764656.23138]
-                    ),
-                    project: function (e) {
-                        var t = Math.PI / 180,
-                            i = this.R,
-                            n = e.lat * t,
-                            s = this.R_MINOR / i,
-                            a = (s = Math.sqrt(1 - s * s)) * Math.sin(n);
-                        (a =
+            Ni = (Object.freeze || Object)({
+                simplify: Pe,
+                pointToSegmentDistance: Me,
+                closestPointOnSegment: function (e, t, i) {
+                    return Le(e, t, i);
+                },
+                clipSegment: Re,
+                _getEdgeIntersection: Be,
+                _getBitCode: Oe,
+                _sqClosestPointOnSegment: Le,
+                isFlat: Fe,
+                _flat: He,
+            }),
+            Li = (Object.freeze || Object)({ clipPolygon: qe }),
+            Fi = {
+                project: function (e) {
+                    return new y(e.lng, e.lat);
+                },
+                unproject: function (e) {
+                    return new z(e.y, e.x);
+                },
+                bounds: new k([-180, -90], [180, 90]),
+            },
+            Hi = {
+                R: 6378137,
+                R_MINOR: 6356752.314245179,
+                bounds: new k(
+                    [-20037508.34279, -15496570.73972],
+                    [20037508.34279, 18764656.23138]
+                ),
+                project: function (e) {
+                    var t = Math.PI / 180,
+                        i = this.R,
+                        n = e.lat * t,
+                        s = this.R_MINOR / i,
+                        a = Math.sqrt(1 - s * s),
+                        o = a * Math.sin(n),
+                        r =
                             Math.tan(Math.PI / 4 - n / 2) /
-                            Math.pow((1 - a) / (1 + a), s / 2)),
-                            (n = -i * Math.log(Math.max(a, 1e-10)));
-                        return new y(e.lng * t * i, n);
-                    },
-                    unproject: function (e) {
-                        for (
-                            var t,
-                                i = 180 / Math.PI,
-                                n = this.R,
-                                s = this.R_MINOR / n,
-                                a = Math.sqrt(1 - s * s),
-                                o = Math.exp(-e.y / n),
-                                r = Math.PI / 2 - 2 * Math.atan(o),
-                                l = 0,
-                                c = 0.1;
-                            l < 15 && 1e-7 < Math.abs(c);
-                            l++
-                        )
-                            (t = a * Math.sin(r)),
-                                (t = Math.pow((1 - t) / (1 + t), a / 2)),
-                                (r += c =
-                                    Math.PI / 2 - 2 * Math.atan(o * t) - r);
-                        return new S(r * i, (e.x * i) / n);
-                    },
-                }),
-                (St = {
-                    __proto__: null,
-                    LonLat: Tt,
-                    Mercator: Ct,
-                    SphericalMercator: lt,
-                }),
-                (At = t({}, rt, {
-                    code: 'EPSG:3395',
-                    projection: Ct,
-                    transformation: E(
-                        (zt = 0.5 / (Math.PI * Ct.R)),
-                        0.5,
-                        -zt,
-                        0.5
-                    ),
-                })),
-                t({}, rt, {
-                    code: 'EPSG:4326',
-                    projection: Tt,
-                    transformation: E(1 / 180, 1, -1 / 180, 0.5),
-                })),
-            wi =
-                ((Et = t({}, ot, {
-                    projection: Tt,
-                    transformation: E(1, 0, -1, 0),
-                    scale: function (e) {
-                        return Math.pow(2, e);
-                    },
-                    zoom: function (e) {
-                        return Math.log(e) / Math.LN2;
-                    },
-                    distance: function (e, t) {
-                        var i = t.lng - e.lng;
-                        t = t.lat - e.lat;
-                        return Math.sqrt(i * i + t * t);
-                    },
-                    infinite: !0,
-                })),
-                (Pt =
-                    ((ot.Earth = rt),
-                    (ot.EPSG3395 = At),
-                    (ot.EPSG3857 = _t),
-                    (ot.EPSG900913 = ft),
-                    (ot.EPSG4326 = yi),
-                    (ot.Simple = Et),
-                    st.extend({
-                        options: {
-                            pane: 'overlayPane',
-                            attribution: null,
-                            bubblingMouseEvents: !0,
-                        },
-                        addTo: function (e) {
-                            return e.addLayer(this), this;
-                        },
-                        remove: function () {
-                            return this.removeFrom(this._map || this._mapToAdd);
-                        },
-                        removeFrom: function (e) {
-                            return e && e.removeLayer(this), this;
-                        },
-                        getPane: function (e) {
-                            return this._map.getPane(
-                                e ? this.options[e] || e : this.options.pane
-                            );
-                        },
-                        addInteractiveTarget: function (e) {
-                            return (this._map._targets[s(e)] = this);
-                        },
-                        removeInteractiveTarget: function (e) {
-                            return delete this._map._targets[s(e)], this;
-                        },
-                        getAttribution: function () {
-                            return this.options.attribution;
-                        },
-                        _layerAdd: function (e) {
-                            var t,
-                                i = e.target;
-                            i.hasLayer(this) &&
-                                ((this._map = i),
-                                (this._zoomAnimated = i._zoomAnimated),
-                                this.getEvents &&
-                                    ((t = this.getEvents()),
-                                    i.on(t, this),
-                                    this.once(
-                                        'remove',
-                                        function () {
-                                            i.off(t, this);
-                                        },
-                                        this
-                                    )),
-                                this.onAdd(i),
-                                this.fire('add'),
-                                i.fire('layeradd', { layer: this }));
-                        },
-                    }))),
-                hi.include({
-                    addLayer: function (e) {
-                        var t;
-                        if (e._layerAdd)
-                            return (
-                                (t = s(e)),
-                                this._layers[t] ||
-                                    (((this._layers[t] = e)._mapToAdd = this),
-                                    e.beforeAdd && e.beforeAdd(this),
-                                    this.whenReady(e._layerAdd, e)),
+                            Math.pow((1 - o) / (1 + o), a / 2);
+                    return (
+                        (n = -i * Math.log(Math.max(r, 1e-10))),
+                        new y(e.lng * t * i, n)
+                    );
+                },
+                unproject: function (e) {
+                    for (
+                        var t,
+                            i = 180 / Math.PI,
+                            n = this.R,
+                            s = this.R_MINOR / n,
+                            a = Math.sqrt(1 - s * s),
+                            o = Math.exp(-e.y / n),
+                            r = Math.PI / 2 - 2 * Math.atan(o),
+                            l = 0,
+                            c = 0.1;
+                        l < 15 && Math.abs(c) > 1e-7;
+                        l++
+                    )
+                        (t = a * Math.sin(r)),
+                            (t = Math.pow((1 - t) / (1 + t), a / 2)),
+                            (r += c = Math.PI / 2 - 2 * Math.atan(o * t) - r);
+                    return new z(r * i, (e.x * i) / n);
+                },
+            },
+            qi = (Object.freeze || Object)({
+                LonLat: Fi,
+                Mercator: Hi,
+                SphericalMercator: _t,
+            }),
+            $i = t({}, mt, {
+                code: 'EPSG:3395',
+                projection: Hi,
+                transformation: (function () {
+                    var e = 0.5 / (Math.PI * Hi.R);
+                    return E(e, 0.5, -e, 0.5);
+                })(),
+            }),
+            Wi = t({}, mt, {
+                code: 'EPSG:4326',
+                projection: Fi,
+                transformation: E(1 / 180, 1, -1 / 180, 0.5),
+            }),
+            Vi = t({}, pt, {
+                projection: Fi,
+                transformation: E(1, 0, -1, 0),
+                scale: function (e) {
+                    return Math.pow(2, e);
+                },
+                zoom: function (e) {
+                    return Math.log(e) / Math.LN2;
+                },
+                distance: function (e, t) {
+                    var i = t.lng - e.lng,
+                        n = t.lat - e.lat;
+                    return Math.sqrt(i * i + n * n);
+                },
+                infinite: !0,
+            });
+        (pt.Earth = mt),
+            (pt.EPSG3395 = $i),
+            (pt.EPSG3857 = bt),
+            (pt.EPSG900913 = yt),
+            (pt.EPSG4326 = Wi),
+            (pt.Simple = Vi);
+        var Ui = ut.extend({
+            options: {
+                pane: 'overlayPane',
+                attribution: null,
+                bubblingMouseEvents: !0,
+            },
+            addTo: function (e) {
+                return e.addLayer(this), this;
+            },
+            remove: function () {
+                return this.removeFrom(this._map || this._mapToAdd);
+            },
+            removeFrom: function (e) {
+                return e && e.removeLayer(this), this;
+            },
+            getPane: function (e) {
+                return this._map.getPane(
+                    e ? this.options[e] || e : this.options.pane
+                );
+            },
+            addInteractiveTarget: function (e) {
+                return (this._map._targets[n(e)] = this), this;
+            },
+            removeInteractiveTarget: function (e) {
+                return delete this._map._targets[n(e)], this;
+            },
+            getAttribution: function () {
+                return this.options.attribution;
+            },
+            _layerAdd: function (e) {
+                var t = e.target;
+                if (t.hasLayer(this)) {
+                    if (
+                        ((this._map = t),
+                        (this._zoomAnimated = t._zoomAnimated),
+                        this.getEvents)
+                    ) {
+                        var i = this.getEvents();
+                        t.on(i, this),
+                            this.once(
+                                'remove',
+                                function () {
+                                    t.off(i, this);
+                                },
                                 this
                             );
-                        throw new Error('The provided object is not a Layer.');
-                    },
-                    removeLayer: function (e) {
-                        var t = s(e);
-                        return (
+                    }
+                    this.onAdd(t),
+                        this.getAttribution &&
+                            t.attributionControl &&
+                            t.attributionControl.addAttribution(
+                                this.getAttribution()
+                            ),
+                        this.fire('add'),
+                        t.fire('layeradd', { layer: this });
+                }
+            },
+        });
+        Ti.include({
+            addLayer: function (e) {
+                if (!e._layerAdd)
+                    throw new Error('The provided object is not a Layer.');
+                var t = n(e);
+                return (
+                    this._layers[t] ||
+                        ((this._layers[t] = e),
+                        (e._mapToAdd = this),
+                        e.beforeAdd && e.beforeAdd(this),
+                        this.whenReady(e._layerAdd, e)),
+                    this
+                );
+            },
+            removeLayer: function (e) {
+                var t = n(e);
+                return this._layers[t] ?
+                        (this._loaded && e.onRemove(this),
+                        e.getAttribution &&
+                            this.attributionControl &&
+                            this.attributionControl.removeAttribution(
+                                e.getAttribution()
+                            ),
+                        delete this._layers[t],
+                        this._loaded &&
+                            (this.fire('layerremove', { layer: e }),
+                            e.fire('remove')),
+                        (e._map = e._mapToAdd = null),
+                        this)
+                    :   this;
+            },
+            hasLayer: function (e) {
+                return !!e && n(e) in this._layers;
+            },
+            eachLayer: function (e, t) {
+                for (var i in this._layers) e.call(t, this._layers[i]);
+                return this;
+            },
+            _addLayers: function (e) {
+                for (
+                    var t = 0,
+                        i = (e =
+                            e ?
+                                st(e) ? e
+                                :   [e]
+                            :   []).length;
+                    t < i;
+                    t++
+                )
+                    this.addLayer(e[t]);
+            },
+            _addZoomLimit: function (e) {
+                (!isNaN(e.options.maxZoom) && isNaN(e.options.minZoom)) ||
+                    ((this._zoomBoundLayers[n(e)] = e),
+                    this._updateZoomLevels());
+            },
+            _removeZoomLimit: function (e) {
+                var t = n(e);
+                this._zoomBoundLayers[t] &&
+                    (delete this._zoomBoundLayers[t], this._updateZoomLevels());
+            },
+            _updateZoomLevels: function () {
+                var e = 1 / 0,
+                    t = -1 / 0,
+                    i = this._getZoomSpan();
+                for (var n in this._zoomBoundLayers) {
+                    var s = this._zoomBoundLayers[n].options;
+                    (e = void 0 === s.minZoom ? e : Math.min(e, s.minZoom)),
+                        (t = void 0 === s.maxZoom ? t : Math.max(t, s.maxZoom));
+                }
+                (this._layersMaxZoom = t === -1 / 0 ? void 0 : t),
+                    (this._layersMinZoom = e === 1 / 0 ? void 0 : e),
+                    i !== this._getZoomSpan() && this.fire('zoomlevelschange'),
+                    void 0 === this.options.maxZoom &&
+                        this._layersMaxZoom &&
+                        this.getZoom() > this._layersMaxZoom &&
+                        this.setZoom(this._layersMaxZoom),
+                    void 0 === this.options.minZoom &&
+                        this._layersMinZoom &&
+                        this.getZoom() < this._layersMinZoom &&
+                        this.setZoom(this._layersMinZoom);
+            },
+        });
+        var Gi = Ui.extend({
+                initialize: function (e, t) {
+                    var i, n;
+                    if ((d(this, t), (this._layers = {}), e))
+                        for (i = 0, n = e.length; i < n; i++)
+                            this.addLayer(e[i]);
+                },
+                addLayer: function (e) {
+                    var t = this.getLayerId(e);
+                    return (
+                        (this._layers[t] = e),
+                        this._map && this._map.addLayer(e),
+                        this
+                    );
+                },
+                removeLayer: function (e) {
+                    var t = e in this._layers ? e : this.getLayerId(e);
+                    return (
+                        this._map &&
                             this._layers[t] &&
-                                (this._loaded && e.onRemove(this),
-                                delete this._layers[t],
-                                this._loaded &&
-                                    (this.fire('layerremove', { layer: e }),
-                                    e.fire('remove')),
-                                (e._map = e._mapToAdd = null)),
-                            this
-                        );
-                    },
-                    hasLayer: function (e) {
-                        return s(e) in this._layers;
-                    },
-                    eachLayer: function (e, t) {
-                        for (var i in this._layers) e.call(t, this._layers[i]);
-                        return this;
-                    },
-                    _addLayers: function (e) {
-                        for (
-                            var t = 0,
-                                i = (e =
-                                    e ?
-                                        Je(e) ? e
-                                        :   [e]
-                                    :   []).length;
-                            t < i;
-                            t++
-                        )
-                            this.addLayer(e[t]);
-                    },
-                    _addZoomLimit: function (e) {
-                        (isNaN(e.options.maxZoom) &&
-                            isNaN(e.options.minZoom)) ||
-                            ((this._zoomBoundLayers[s(e)] = e),
-                            this._updateZoomLevels());
-                    },
-                    _removeZoomLimit: function (e) {
-                        (e = s(e)),
-                            this._zoomBoundLayers[e] &&
-                                (delete this._zoomBoundLayers[e],
-                                this._updateZoomLevels());
-                    },
-                    _updateZoomLevels: function () {
-                        var e,
-                            t = 1 / 0,
-                            i = -1 / 0,
-                            n = this._getZoomSpan();
-                        for (e in this._zoomBoundLayers) {
-                            var s = this._zoomBoundLayers[e].options;
-                            (t =
-                                void 0 === s.minZoom ?
-                                    t
-                                :   Math.min(t, s.minZoom)),
-                                (i =
-                                    void 0 === s.maxZoom ?
-                                        i
-                                    :   Math.max(i, s.maxZoom));
-                        }
-                        (this._layersMaxZoom = i === -1 / 0 ? void 0 : i),
-                            (this._layersMinZoom = t === 1 / 0 ? void 0 : t),
-                            n !== this._getZoomSpan() &&
-                                this.fire('zoomlevelschange'),
-                            void 0 === this.options.maxZoom &&
-                                this._layersMaxZoom &&
-                                this.getZoom() > this._layersMaxZoom &&
-                                this.setZoom(this._layersMaxZoom),
-                            void 0 === this.options.minZoom &&
-                                this._layersMinZoom &&
-                                this.getZoom() < this._layersMinZoom &&
-                                this.setZoom(this._layersMinZoom);
-                    },
-                }),
-                Pt.extend({
-                    initialize: function (e, t) {
-                        var i, n;
-                        if ((u(this, t), (this._layers = {}), e))
-                            for (i = 0, n = e.length; i < n; i++)
-                                this.addLayer(e[i]);
-                    },
-                    addLayer: function (e) {
-                        var t = this.getLayerId(e);
-                        return (
-                            (this._layers[t] = e),
-                            this._map && this._map.addLayer(e),
-                            this
-                        );
-                    },
-                    removeLayer: function (e) {
-                        return (
-                            (e = e in this._layers ? e : this.getLayerId(e)),
-                            this._map &&
-                                this._layers[e] &&
-                                this._map.removeLayer(this._layers[e]),
-                            delete this._layers[e],
-                            this
-                        );
-                    },
-                    hasLayer: function (e) {
-                        return (
-                            ('number' == typeof e ? e : this.getLayerId(e)) in
-                            this._layers
-                        );
-                    },
-                    clearLayers: function () {
-                        return this.eachLayer(this.removeLayer, this);
-                    },
-                    invoke: function (e) {
-                        var t,
-                            i,
-                            n = Array.prototype.slice.call(arguments, 1);
-                        for (t in this._layers)
-                            (i = this._layers[t])[e] && i[e].apply(i, n);
-                        return this;
-                    },
-                    onAdd: function (e) {
-                        this.eachLayer(e.addLayer, e);
-                    },
-                    onRemove: function (e) {
-                        this.eachLayer(e.removeLayer, e);
-                    },
-                    eachLayer: function (e, t) {
-                        for (var i in this._layers) e.call(t, this._layers[i]);
-                        return this;
-                    },
-                    getLayer: function (e) {
-                        return this._layers[e];
-                    },
-                    getLayers: function () {
-                        var e = [];
-                        return this.eachLayer(e.push, e), e;
-                    },
-                    setZIndex: function (e) {
-                        return this.invoke('setZIndex', e);
-                    },
-                    getLayerId: s,
-                })),
-            ki = wi.extend({
+                            this._map.removeLayer(this._layers[t]),
+                        delete this._layers[t],
+                        this
+                    );
+                },
+                hasLayer: function (e) {
+                    return (
+                        !!e &&
+                        (e in this._layers ||
+                            this.getLayerId(e) in this._layers)
+                    );
+                },
+                clearLayers: function () {
+                    return this.eachLayer(this.removeLayer, this);
+                },
+                invoke: function (e) {
+                    var t,
+                        i,
+                        n = Array.prototype.slice.call(arguments, 1);
+                    for (t in this._layers)
+                        (i = this._layers[t])[e] && i[e].apply(i, n);
+                    return this;
+                },
+                onAdd: function (e) {
+                    this.eachLayer(e.addLayer, e);
+                },
+                onRemove: function (e) {
+                    this.eachLayer(e.removeLayer, e);
+                },
+                eachLayer: function (e, t) {
+                    for (var i in this._layers) e.call(t, this._layers[i]);
+                    return this;
+                },
+                getLayer: function (e) {
+                    return this._layers[e];
+                },
+                getLayers: function () {
+                    var e = [];
+                    return this.eachLayer(e.push, e), e;
+                },
+                setZIndex: function (e) {
+                    return this.invoke('setZIndex', e);
+                },
+                getLayerId: function (e) {
+                    return n(e);
+                },
+            }),
+            Zi = Gi.extend({
                 addLayer: function (e) {
                     return this.hasLayer(e) ? this : (
                             (e.addEventParent(this),
-                            wi.prototype.addLayer.call(this, e),
+                            Gi.prototype.addLayer.call(this, e),
                             this.fire('layeradd', { layer: e }))
                         );
                 },
                 removeLayer: function (e) {
                     return this.hasLayer(e) ?
-                            ((e =
-                                e in this._layers ?
-                                    this._layers[e]
-                                :   e).removeEventParent(this),
-                            wi.prototype.removeLayer.call(this, e),
+                            (e in this._layers && (e = this._layers[e]),
+                            e.removeEventParent(this),
+                            Gi.prototype.removeLayer.call(this, e),
                             this.fire('layerremove', { layer: e }))
                         :   this;
                 },
@@ -62006,23 +60949,18 @@ Object.values ||
                     return this.invoke('bringToBack');
                 },
                 getBounds: function () {
-                    var e,
-                        t = new T();
-                    for (e in this._layers) {
-                        var i = this._layers[e];
-                        t.extend(i.getBounds ? i.getBounds() : i.getLatLng());
+                    var e = new T();
+                    for (var t in this._layers) {
+                        var i = this._layers[t];
+                        e.extend(i.getBounds ? i.getBounds() : i.getLatLng());
                     }
-                    return t;
+                    return e;
                 },
             }),
-            xi = b.extend({
-                options: {
-                    popupAnchor: [0, 0],
-                    tooltipAnchor: [0, 0],
-                    crossOrigin: !1,
-                },
+            Ki = v.extend({
+                options: { popupAnchor: [0, 0], tooltipAnchor: [0, 0] },
                 initialize: function (e) {
-                    u(this, e);
+                    d(this, e);
                 },
                 createIcon: function (e) {
                     return this._createIcon('icon', e);
@@ -62032,48 +60970,37 @@ Object.values ||
                 },
                 _createIcon: function (e, t) {
                     var i = this._getIconUrl(e);
-                    if (i)
-                        return (
-                            (i = this._createImg(
-                                i,
-                                t && 'IMG' === t.tagName ? t : null
-                            )),
-                            this._setIconStyles(i, e),
-                            (!this.options.crossOrigin &&
-                                '' !== this.options.crossOrigin) ||
-                                (i.crossOrigin =
-                                    !0 === this.options.crossOrigin ?
-                                        ''
-                                    :   this.options.crossOrigin),
-                            i
-                        );
-                    if ('icon' === e)
-                        throw new Error(
-                            'iconUrl not set in Icon options (see the docs).'
-                        );
-                    return null;
+                    if (!i) {
+                        if ('icon' === e)
+                            throw new Error(
+                                'iconUrl not set in Icon options (see the docs).'
+                            );
+                        return null;
+                    }
+                    var n = this._createImg(
+                        i,
+                        t && 'IMG' === t.tagName ? t : null
+                    );
+                    return this._setIconStyles(n, e), n;
                 },
                 _setIconStyles: function (e, t) {
                     var i = this.options,
-                        n = w(
-                            (n =
-                                'number' == typeof (n = i[t + 'Size']) ?
-                                    [n, n]
-                                :   n)
-                        ),
-                        s = w(
+                        n = i[t + 'Size'];
+                    'number' == typeof n && (n = [n, n]);
+                    var s = w(n),
+                        a = w(
                             ('shadow' === t && i.shadowAnchor) ||
                                 i.iconAnchor ||
-                                (n && n.divideBy(2, !0))
+                                (s && s.divideBy(2, !0))
                         );
                     (e.className =
                         'leaflet-marker-' + t + ' ' + (i.className || '')),
+                        a &&
+                            ((e.style.marginLeft = -a.x + 'px'),
+                            (e.style.marginTop = -a.y + 'px')),
                         s &&
-                            ((e.style.marginLeft = -s.x + 'px'),
-                            (e.style.marginTop = -s.y + 'px')),
-                        n &&
-                            ((e.style.width = n.x + 'px'),
-                            (e.style.height = n.y + 'px'));
+                            ((e.style.width = s.x + 'px'),
+                            (e.style.height = s.y + 'px'));
                 },
                 _createImg: function (e, t) {
                     return (
@@ -62082,12 +61009,12 @@ Object.values ||
                 },
                 _getIconUrl: function (e) {
                     return (
-                        (Zt.retina && this.options[e + 'RetinaUrl']) ||
+                        (Kt && this.options[e + 'RetinaUrl']) ||
                         this.options[e + 'Url']
                     );
                 },
             }),
-            Ti = xi.extend({
+            Yi = Ki.extend({
                 options: {
                     iconUrl: 'marker-icon.png',
                     iconRetinaUrl: 'marker-icon-2x.png',
@@ -62100,48 +61027,35 @@ Object.values ||
                 },
                 _getIconUrl: function (e) {
                     return (
-                        'string' != typeof Ti.imagePath &&
-                            (Ti.imagePath = this._detectIconPath()),
-                        (this.options.imagePath || Ti.imagePath) +
-                            xi.prototype._getIconUrl.call(this, e)
-                    );
-                },
-                _stripUrl: function (e) {
-                    function t(e, t, i) {
-                        return (t = t.exec(e)) && t[i];
-                    }
-                    return (
-                        (e = t(e, /^url\((['"])?(.+)\1\)$/, 2)) &&
-                        t(e, /^(.*)marker-icon\.png$/, 1)
+                        Yi.imagePath || (Yi.imagePath = this._detectIconPath()),
+                        (this.options.imagePath || Yi.imagePath) +
+                            Ki.prototype._getIconUrl.call(this, e)
                     );
                 },
                 _detectIconPath: function () {
-                    var e = q(
+                    var e = G(
                             'div',
                             'leaflet-default-icon-path',
                             document.body
                         ),
-                        t = H(e, 'background-image') || H(e, 'backgroundImage');
+                        t = U(e, 'background-image') || U(e, 'backgroundImage');
                     return (
                         document.body.removeChild(e),
-                        (t = this._stripUrl(t)) ? t
-                        : (
-                            (e = document.querySelector(
-                                'link[href$="leaflet.css"]'
-                            ))
-                        ) ?
-                            e.href.substring(0, e.href.length - 11 - 1)
-                        :   ''
+                        null === t || 0 !== t.indexOf('url') ?
+                            ''
+                        :   t
+                                .replace(/^url\(["']?/, '')
+                                .replace(/marker-icon\.png["']?\)$/, '')
                     );
                 },
             }),
-            Ci = yt.extend({
+            Ji = Mi.extend({
                 initialize: function (e) {
                     this._marker = e;
                 },
                 addHooks: function () {
                     var e = this._marker._icon;
-                    this._draggable || (this._draggable = new bi(e, e, !0)),
+                    this._draggable || (this._draggable = new Oi(e, e, !0)),
                         this._draggable
                             .on(
                                 {
@@ -62153,7 +61067,7 @@ Object.values ||
                                 this
                             )
                             .enable(),
-                        Z(e, 'leaflet-marker-draggable');
+                        X(e, 'leaflet-marker-draggable');
                 },
                 removeHooks: function () {
                     this._draggable
@@ -62168,7 +61082,7 @@ Object.values ||
                         )
                         .disable(),
                         this._marker._icon &&
-                            K(this._marker._icon, 'leaflet-marker-draggable');
+                            ee(this._marker._icon, 'leaflet-marker-draggable');
                 },
                 moved: function () {
                     return this._draggable && this._draggable._moved;
@@ -62178,79 +61092,83 @@ Object.values ||
                         i = t._map,
                         n = this._marker.options.autoPanSpeed,
                         s = this._marker.options.autoPanPadding,
-                        a = ie(t._icon),
+                        a = le(t._icon),
                         o = i.getPixelBounds(),
-                        r = i.getPixelOrigin();
-                    (r = x(
-                        o.min._subtract(r).add(s),
-                        o.max._subtract(r).subtract(s)
-                    )).contains(a) ||
-                        ((s = w(
-                            (Math.max(r.max.x, a.x) - r.max.x) /
-                                (o.max.x - r.max.x) -
-                                (Math.min(r.min.x, a.x) - r.min.x) /
-                                    (o.min.x - r.min.x),
-                            (Math.max(r.max.y, a.y) - r.max.y) /
-                                (o.max.y - r.max.y) -
-                                (Math.min(r.min.y, a.y) - r.min.y) /
-                                    (o.min.y - r.min.y)
-                        ).multiplyBy(n)),
-                        i.panBy(s, { animate: !1 }),
-                        this._draggable._newPos._add(s),
-                        this._draggable._startPos._add(s),
-                        te(t._icon, this._draggable._newPos),
-                        this._onDrag(e),
-                        (this._panRequest = g(this._adjustPan.bind(this, e))));
+                        r = i.getPixelOrigin(),
+                        l = x(
+                            o.min._subtract(r).add(s),
+                            o.max._subtract(r).subtract(s)
+                        );
+                    if (!l.contains(a)) {
+                        var c = w(
+                            (Math.max(l.max.x, a.x) - l.max.x) /
+                                (o.max.x - l.max.x) -
+                                (Math.min(l.min.x, a.x) - l.min.x) /
+                                    (o.min.x - l.min.x),
+                            (Math.max(l.max.y, a.y) - l.max.y) /
+                                (o.max.y - l.max.y) -
+                                (Math.min(l.min.y, a.y) - l.min.y) /
+                                    (o.min.y - l.min.y)
+                        ).multiplyBy(n);
+                        i.panBy(c, { animate: !1 }),
+                            this._draggable._newPos._add(c),
+                            this._draggable._startPos._add(c),
+                            re(t._icon, this._draggable._newPos),
+                            this._onDrag(e),
+                            (this._panRequest = f(
+                                this._adjustPan.bind(this, e)
+                            ));
+                    }
                 },
                 _onDragStart: function () {
                     (this._oldLatLng = this._marker.getLatLng()),
-                        this._marker.closePopup && this._marker.closePopup(),
-                        this._marker.fire('movestart').fire('dragstart');
+                        this._marker
+                            .closePopup()
+                            .fire('movestart')
+                            .fire('dragstart');
                 },
                 _onPreDrag: function (e) {
                     this._marker.options.autoPan &&
-                        (v(this._panRequest),
-                        (this._panRequest = g(this._adjustPan.bind(this, e))));
+                        (g(this._panRequest),
+                        (this._panRequest = f(this._adjustPan.bind(this, e))));
                 },
                 _onDrag: function (e) {
                     var t = this._marker,
                         i = t._shadow,
-                        n = ie(t._icon),
+                        n = le(t._icon),
                         s = t._map.layerPointToLatLng(n);
-                    i && te(i, n),
+                    i && re(i, n),
                         (t._latlng = s),
                         (e.latlng = s),
                         (e.oldLatLng = this._oldLatLng),
                         t.fire('move', e).fire('drag', e);
                 },
                 _onDragEnd: function (e) {
-                    v(this._panRequest),
+                    g(this._panRequest),
                         delete this._oldLatLng,
                         this._marker.fire('moveend').fire('dragend', e);
                 },
             }),
-            Si = Pt.extend({
+            Qi = Ui.extend({
                 options: {
-                    icon: new Ti(),
+                    icon: new Yi(),
                     interactive: !0,
                     keyboard: !0,
                     title: '',
-                    alt: 'Marker',
+                    alt: '',
                     zIndexOffset: 0,
                     opacity: 1,
                     riseOnHover: !1,
                     riseOffset: 250,
                     pane: 'markerPane',
-                    shadowPane: 'shadowPane',
                     bubblingMouseEvents: !1,
-                    autoPanOnFocus: !0,
                     draggable: !1,
                     autoPan: !1,
                     autoPanPadding: [50, 50],
                     autoPanSpeed: 10,
                 },
                 initialize: function (e, t) {
-                    u(this, t), (this._latlng = z(e));
+                    d(this, t), (this._latlng = S(e));
                 },
                 onAdd: function (e) {
                     (this._zoomAnimated =
@@ -62280,7 +61198,7 @@ Object.values ||
                 setLatLng: function (e) {
                     var t = this._latlng;
                     return (
-                        (this._latlng = z(e)),
+                        (this._latlng = S(e)),
                         this.update(),
                         this.fire('move', {
                             oldLatLng: t,
@@ -62291,9 +61209,6 @@ Object.values ||
                 setZIndexOffset: function (e) {
                     return (this.options.zIndexOffset = e), this.update();
                 },
-                getIcon: function () {
-                    return this.options.icon;
-                },
                 setIcon: function (e) {
                     return (
                         (this.options.icon = e),
@@ -62307,53 +61222,45 @@ Object.values ||
                     return this._icon;
                 },
                 update: function () {
-                    var e;
-                    return (
-                        this._icon &&
-                            this._map &&
-                            ((e = this._map
-                                .latLngToLayerPoint(this._latlng)
-                                .round()),
-                            this._setPos(e)),
-                        this
-                    );
+                    if (this._icon && this._map) {
+                        var e = this._map
+                            .latLngToLayerPoint(this._latlng)
+                            .round();
+                        this._setPos(e);
+                    }
+                    return this;
                 },
                 _initIcon: function () {
-                    var e,
-                        t = this.options,
-                        i =
+                    var e = this.options,
+                        t =
                             'leaflet-zoom-' +
                             (this._zoomAnimated ? 'animated' : 'hide'),
-                        n = !1,
-                        s = !1;
-                    (e =
-                        ((e = t.icon.createIcon(this._icon)) !== this._icon &&
-                            (this._icon && this._removeIcon(),
-                            (n = !0),
-                            t.title && (e.title = t.title),
-                            'IMG' === e.tagName && (e.alt = t.alt || '')),
-                        Z(e, i),
-                        t.keyboard &&
-                            ((e.tabIndex = '0'),
-                            e.setAttribute('role', 'button')),
-                        (this._icon = e),
-                        t.riseOnHover &&
+                        i = e.icon.createIcon(this._icon),
+                        n = !1;
+                    i !== this._icon &&
+                        (this._icon && this._removeIcon(),
+                        (n = !0),
+                        e.title && (i.title = e.title),
+                        'IMG' === i.tagName && (i.alt = e.alt || '')),
+                        X(i, t),
+                        e.keyboard && (i.tabIndex = '0'),
+                        (this._icon = i),
+                        e.riseOnHover &&
                             this.on({
                                 mouseover: this._bringToFront,
                                 mouseout: this._resetZIndex,
-                            }),
-                        this.options.autoPanOnFocus &&
-                            ce(e, 'focus', this._panOnFocus, this),
-                        t.icon.createShadow(this._shadow))) !== this._shadow &&
-                        (this._removeShadow(), (s = !0)),
-                        e && (Z(e, i), (e.alt = '')),
-                        (this._shadow = e),
-                        t.opacity < 1 && this._updateOpacity(),
+                            });
+                    var s = e.icon.createShadow(this._shadow),
+                        a = !1;
+                    s !== this._shadow && (this._removeShadow(), (a = !0)),
+                        s && (X(s, t), (s.alt = '')),
+                        (this._shadow = s),
+                        e.opacity < 1 && this._updateOpacity(),
                         n && this.getPane().appendChild(this._icon),
                         this._initInteraction(),
-                        e &&
-                            s &&
-                            this.getPane(t.shadowPane).appendChild(
+                        s &&
+                            a &&
+                            this.getPane('shadowPane').appendChild(
                                 this._shadow
                             );
                 },
@@ -62363,42 +61270,42 @@ Object.values ||
                             mouseover: this._bringToFront,
                             mouseout: this._resetZIndex,
                         }),
-                        this.options.autoPanOnFocus &&
-                            de(this._icon, 'focus', this._panOnFocus, this),
-                        $(this._icon),
+                        Z(this._icon),
                         this.removeInteractiveTarget(this._icon),
                         (this._icon = null);
                 },
                 _removeShadow: function () {
-                    this._shadow && $(this._shadow), (this._shadow = null);
+                    this._shadow && Z(this._shadow), (this._shadow = null);
                 },
                 _setPos: function (e) {
-                    this._icon && te(this._icon, e),
-                        this._shadow && te(this._shadow, e),
+                    re(this._icon, e),
+                        this._shadow && re(this._shadow, e),
                         (this._zIndex = e.y + this.options.zIndexOffset),
                         this._resetZIndex();
                 },
                 _updateZIndex: function (e) {
-                    this._icon && (this._icon.style.zIndex = this._zIndex + e);
+                    this._icon.style.zIndex = this._zIndex + e;
                 },
                 _animateZoom: function (e) {
-                    (e = this._map
+                    var t = this._map
                         ._latLngToNewLayerPoint(this._latlng, e.zoom, e.center)
-                        .round()),
-                        this._setPos(e);
+                        .round();
+                    this._setPos(t);
                 },
                 _initInteraction: function () {
-                    var e;
-                    this.options.interactive &&
-                        (Z(this._icon, 'leaflet-interactive'),
+                    if (
+                        this.options.interactive &&
+                        (X(this._icon, 'leaflet-interactive'),
                         this.addInteractiveTarget(this._icon),
-                        Ci &&
-                            ((e = this.options.draggable),
-                            this.dragging &&
-                                ((e = this.dragging.enabled()),
-                                this.dragging.disable()),
-                            (this.dragging = new Ci(this)),
-                            e && this.dragging.enable()));
+                        Ji)
+                    ) {
+                        var e = this.options.draggable;
+                        this.dragging &&
+                            ((e = this.dragging.enabled()),
+                            this.dragging.disable()),
+                            (this.dragging = new Ji(this)),
+                            e && this.dragging.enable();
+                    }
                 },
                 setOpacity: function (e) {
                     return (
@@ -62409,8 +61316,7 @@ Object.values ||
                 },
                 _updateOpacity: function () {
                     var e = this.options.opacity;
-                    this._icon && Q(this._icon, e),
-                        this._shadow && Q(this._shadow, e);
+                    ne(this._icon, e), this._shadow && ne(this._shadow, e);
                 },
                 _bringToFront: function () {
                     this._updateZIndex(this.options.riseOffset);
@@ -62418,21 +61324,6 @@ Object.values ||
                 _resetZIndex: function () {
                     this._updateZIndex(0);
                 },
-                _panOnFocus: function () {
-                    var e,
-                        t,
-                        i = this._map;
-                    i &&
-                        ((e =
-                            (t = this.options.icon.options).iconSize ?
-                                w(t.iconSize)
-                            :   w(0, 0)),
-                        (t = t.iconAnchor ? w(t.iconAnchor) : w(0, 0)),
-                        i.panInside(this._latlng, {
-                            paddingTopLeft: t,
-                            paddingBottomRight: e.subtract(t),
-                        }));
-                },
                 _getPopupAnchor: function () {
                     return this.options.icon.options.popupAnchor;
                 },
@@ -62440,7 +61331,7 @@ Object.values ||
                     return this.options.icon.options.tooltipAnchor;
                 },
             }),
-            zi = Pt.extend({
+            Xi = Ui.extend({
                 options: {
                     stroke: !0,
                     color: '#3388ff',
@@ -62473,16 +61364,8 @@ Object.values ||
                 },
                 setStyle: function (e) {
                     return (
-                        u(this, e),
-                        this._renderer &&
-                            (this._renderer._updateStyle(this),
-                            this.options.stroke &&
-                                e &&
-                                Object.prototype.hasOwnProperty.call(
-                                    e,
-                                    'weight'
-                                ) &&
-                                this._updateBounds()),
+                        d(this, e),
+                        this._renderer && this._renderer._updateStyle(this),
                         this
                     );
                 },
@@ -62507,26 +61390,22 @@ Object.values ||
                 _clickTolerance: function () {
                     return (
                         (this.options.stroke ? this.options.weight / 2 : 0) +
-                        (this._renderer.options.tolerance || 0)
+                        this._renderer.options.tolerance
                     );
                 },
             }),
-            Ai = zi.extend({
+            en = Xi.extend({
                 options: { fill: !0, radius: 10 },
                 initialize: function (e, t) {
-                    u(this, t),
-                        (this._latlng = z(e)),
+                    d(this, t),
+                        (this._latlng = S(e)),
                         (this._radius = this.options.radius);
                 },
                 setLatLng: function (e) {
-                    var t = this._latlng;
                     return (
-                        (this._latlng = z(e)),
+                        (this._latlng = S(e)),
                         this.redraw(),
-                        this.fire('move', {
-                            oldLatLng: t,
-                            latlng: this._latlng,
-                        })
+                        this.fire('move', { latlng: this._latlng })
                     );
                 },
                 getLatLng: function () {
@@ -62543,7 +61422,7 @@ Object.values ||
                 setStyle: function (e) {
                     var t = (e && e.radius) || this._radius;
                     return (
-                        zi.prototype.setStyle.call(this, e),
+                        Xi.prototype.setStyle.call(this, e),
                         this.setRadius(t),
                         this
                     );
@@ -62555,11 +61434,11 @@ Object.values ||
                 _updateBounds: function () {
                     var e = this._radius,
                         t = this._radiusY || e,
-                        i = this._clickTolerance();
-                    e = [e + i, t + i];
+                        i = this._clickTolerance(),
+                        n = [e + i, t + i];
                     this._pxBounds = new k(
-                        this._point.subtract(e),
-                        this._point.add(e)
+                        this._point.subtract(n),
+                        this._point.add(n)
                     );
                 },
                 _update: function () {
@@ -62581,17 +61460,12 @@ Object.values ||
                     );
                 },
             }),
-            Ei = Ai.extend({
+            tn = en.extend({
                 initialize: function (e, i, n) {
                     if (
-                        (u(
-                            this,
-                            (i =
-                                'number' == typeof i ?
-                                    t({}, n, { radius: i })
-                                :   i)
-                        ),
-                        (this._latlng = z(e)),
+                        ('number' == typeof i && (i = t({}, n, { radius: i })),
+                        d(this, i),
+                        (this._latlng = S(e)),
                         isNaN(this.options.radius))
                     )
                         throw new Error('Circle radius cannot be NaN');
@@ -62610,49 +61484,46 @@ Object.values ||
                         this._map.layerPointToLatLng(this._point.add(e))
                     );
                 },
-                setStyle: zi.prototype.setStyle,
+                setStyle: Xi.prototype.setStyle,
                 _project: function () {
-                    var e,
-                        t,
-                        i,
-                        n,
-                        s,
-                        a = this._latlng.lng,
-                        o = this._latlng.lat,
-                        r = this._map,
-                        l = r.options.crs;
-                    l.distance === rt.distance ?
-                        ((n = Math.PI / 180),
-                        (s = this._mRadius / rt.R / n),
-                        (e = r.project([o + s, a])),
-                        (t = r.project([o - s, a])),
-                        (t = e.add(t).divideBy(2)),
-                        (i = r.unproject(t).lat),
-                        (n =
-                            Math.acos(
-                                (Math.cos(s * n) -
-                                    Math.sin(o * n) * Math.sin(i * n)) /
-                                    (Math.cos(o * n) * Math.cos(i * n))
-                            ) / n),
-                        (!isNaN(n) && 0 !== n) ||
-                            (n = s / Math.cos((Math.PI / 180) * o)),
-                        (this._point = t.subtract(r.getPixelOrigin())),
-                        (this._radius =
-                            isNaN(n) ? 0 : t.x - r.project([i, a - n]).x),
-                        (this._radiusY = t.y - e.y))
-                    :   ((s = l.unproject(
-                            l.project(this._latlng).subtract([this._mRadius, 0])
-                        )),
-                        (this._point = r.latLngToLayerPoint(this._latlng)),
-                        (this._radius =
-                            this._point.x - r.latLngToLayerPoint(s).x)),
-                        this._updateBounds();
+                    var e = this._latlng.lng,
+                        t = this._latlng.lat,
+                        i = this._map,
+                        n = i.options.crs;
+                    if (n.distance === mt.distance) {
+                        var s = Math.PI / 180,
+                            a = this._mRadius / mt.R / s,
+                            o = i.project([t + a, e]),
+                            r = i.project([t - a, e]),
+                            l = o.add(r).divideBy(2),
+                            c = i.unproject(l).lat,
+                            d =
+                                Math.acos(
+                                    (Math.cos(a * s) -
+                                        Math.sin(t * s) * Math.sin(c * s)) /
+                                        (Math.cos(t * s) * Math.cos(c * s))
+                                ) / s;
+                        (isNaN(d) || 0 === d) &&
+                            (d = a / Math.cos((Math.PI / 180) * t)),
+                            (this._point = l.subtract(i.getPixelOrigin())),
+                            (this._radius =
+                                isNaN(d) ? 0 : l.x - i.project([c, e - d]).x),
+                            (this._radiusY = l.y - o.y);
+                    } else {
+                        var u = n.unproject(
+                            n.project(this._latlng).subtract([this._mRadius, 0])
+                        );
+                        (this._point = i.latLngToLayerPoint(this._latlng)),
+                            (this._radius =
+                                this._point.x - i.latLngToLayerPoint(u).x);
+                    }
+                    this._updateBounds();
                 },
             }),
-            Pi = zi.extend({
+            nn = Xi.extend({
                 options: { smoothFactor: 1, noClip: !1 },
                 initialize: function (e, t) {
-                    u(this, t), this._setLatLngs(e);
+                    d(this, t), this._setLatLngs(e);
                 },
                 getLatLngs: function () {
                     return this._latlngs;
@@ -62665,32 +61536,57 @@ Object.values ||
                 },
                 closestLayerPoint: function (e) {
                     for (
-                        var t = 1 / 0,
-                            i = null,
-                            n = Ie,
-                            s = 0,
-                            a = this._parts.length;
-                        s < a;
-                        s++
+                        var t,
+                            i,
+                            n = 1 / 0,
+                            s = null,
+                            a = Le,
+                            o = 0,
+                            r = this._parts.length;
+                        o < r;
+                        o++
                     )
                         for (
-                            var o = this._parts[s], r = 1, l = o.length;
-                            r < l;
-                            r++
+                            var l = this._parts[o], c = 1, d = l.length;
+                            c < d;
+                            c++
                         ) {
-                            var c,
-                                d,
-                                u = n(e, (c = o[r - 1]), (d = o[r]), !0);
-                            u < t && ((t = u), (i = n(e, c, d)));
+                            var u = a(e, (t = l[c - 1]), (i = l[c]), !0);
+                            u < n && ((n = u), (s = a(e, t, i)));
                         }
-                    return i && (i.distance = Math.sqrt(t)), i;
+                    return s && (s.distance = Math.sqrt(n)), s;
                 },
                 getCenter: function () {
-                    if (this._map)
-                        return Re(this._defaultShape(), this._map.options.crs);
-                    throw new Error(
-                        'Must add layer to map before using getCenter()'
-                    );
+                    if (!this._map)
+                        throw new Error(
+                            'Must add layer to map before using getCenter()'
+                        );
+                    var e,
+                        t,
+                        i,
+                        n,
+                        s,
+                        a,
+                        o,
+                        r = this._rings[0],
+                        l = r.length;
+                    if (!l) return null;
+                    for (e = 0, t = 0; e < l - 1; e++)
+                        t += r[e].distanceTo(r[e + 1]) / 2;
+                    if (0 === t) return this._map.layerPointToLatLng(r[0]);
+                    for (e = 0, n = 0; e < l - 1; e++)
+                        if (
+                            ((s = r[e]),
+                            (a = r[e + 1]),
+                            (n += i = s.distanceTo(a)) > t)
+                        )
+                            return (
+                                (o = (n - t) / i),
+                                this._map.layerPointToLatLng([
+                                    a.x - o * (a.x - s.x),
+                                    a.y - o * (a.y - s.y),
+                                ])
+                            );
                 },
                 getBounds: function () {
                     return this._bounds;
@@ -62698,7 +61594,7 @@ Object.values ||
                 addLatLng: function (e, t) {
                     return (
                         (t = t || this._defaultShape()),
-                        (e = z(e)),
+                        (e = S(e)),
                         t.push(e),
                         this._bounds.extend(e),
                         this.redraw()
@@ -62709,35 +61605,31 @@ Object.values ||
                         (this._latlngs = this._convertLatLngs(e));
                 },
                 _defaultShape: function () {
-                    return De(this._latlngs) ? this._latlngs : this._latlngs[0];
+                    return Fe(this._latlngs) ? this._latlngs : this._latlngs[0];
                 },
                 _convertLatLngs: function (e) {
-                    for (var t = [], i = De(e), n = 0, s = e.length; n < s; n++)
+                    for (var t = [], i = Fe(e), n = 0, s = e.length; n < s; n++)
                         i ?
-                            ((t[n] = z(e[n])), this._bounds.extend(t[n]))
+                            ((t[n] = S(e[n])), this._bounds.extend(t[n]))
                         :   (t[n] = this._convertLatLngs(e[n]));
                     return t;
                 },
                 _project: function () {
                     var e = new k();
                     (this._rings = []),
-                        this._projectLatlngs(this._latlngs, this._rings, e),
-                        this._bounds.isValid() &&
-                            e.isValid() &&
-                            ((this._rawPxBounds = e), this._updateBounds());
-                },
-                _updateBounds: function () {
-                    var e = new y((e = this._clickTolerance()), e);
-                    this._rawPxBounds &&
-                        (this._pxBounds = new k([
-                            this._rawPxBounds.min.subtract(e),
-                            this._rawPxBounds.max.add(e),
-                        ]));
+                        this._projectLatlngs(this._latlngs, this._rings, e);
+                    var t = this._clickTolerance(),
+                        i = new y(t, t);
+                    this._bounds.isValid() &&
+                        e.isValid() &&
+                        (e.min._subtract(i),
+                        e.max._add(i),
+                        (this._pxBounds = e));
                 },
                 _projectLatlngs: function (e, t, i) {
                     var n,
                         s,
-                        a = e[0] instanceof S,
+                        a = e[0] instanceof z,
                         o = e.length;
                     if (a) {
                         for (s = [], n = 0; n < o; n++)
@@ -62755,29 +61647,31 @@ Object.values ||
                         this._pxBounds && this._pxBounds.intersects(e))
                     )
                         if (this.options.noClip) this._parts = this._rings;
-                        else
+                        else {
+                            var t,
+                                i,
+                                n,
+                                s,
+                                a,
+                                o,
+                                r,
+                                l = this._parts;
                             for (
-                                var t,
-                                    i,
-                                    n,
-                                    s,
-                                    a = this._parts,
-                                    o = 0,
-                                    r = 0,
-                                    l = this._rings.length;
-                                o < l;
-                                o++
+                                t = 0, n = 0, s = this._rings.length;
+                                t < s;
+                                t++
                             )
                                 for (
-                                    t = 0, i = (s = this._rings[o]).length;
-                                    t < i - 1;
-                                    t++
+                                    i = 0, a = (r = this._rings[t]).length;
+                                    i < a - 1;
+                                    i++
                                 )
-                                    (n = Ee(s[t], s[t + 1], e, t, !0)) &&
-                                        ((a[r] = a[r] || []),
-                                        a[r].push(n[0]),
-                                        (n[1] === s[t + 1] && t !== i - 2) ||
-                                            (a[r].push(n[1]), r++));
+                                    (o = Re(r[i], r[i + 1], e, i, !0)) &&
+                                        ((l[n] = l[n] || []),
+                                        l[n].push(o[0]),
+                                        (o[1] === r[i + 1] && i !== a - 2) ||
+                                            (l[n].push(o[1]), n++));
+                        }
                 },
                 _simplifyPoints: function () {
                     for (
@@ -62788,7 +61682,7 @@ Object.values ||
                         i < n;
                         i++
                     )
-                        e[i] = ze(e[i], t);
+                        e[i] = Pe(e[i], t);
                 },
                 _update: function () {
                     this._map &&
@@ -62807,70 +61701,92 @@ Object.values ||
                         o,
                         r,
                         l = this._clickTolerance();
-                    if (this._pxBounds && this._pxBounds.contains(e))
-                        for (i = 0, a = this._parts.length; i < a; i++)
-                            for (
-                                n = 0,
-                                    s = (o = (r = this._parts[i]).length) - 1;
-                                n < o;
-                                s = n++
-                            )
-                                if ((t || 0 !== n) && Ae(e, r[s], r[n]) <= l)
-                                    return !0;
+                    if (!this._pxBounds || !this._pxBounds.contains(e))
+                        return !1;
+                    for (i = 0, a = this._parts.length; i < a; i++)
+                        for (
+                            n = 0, s = (o = (r = this._parts[i]).length) - 1;
+                            n < o;
+                            s = n++
+                        )
+                            if ((t || 0 !== n) && Me(e, r[s], r[n]) <= l)
+                                return !0;
                     return !1;
                 },
             });
-        Pi._flat = je;
-        var Mi = Pi.extend({
+        nn._flat = He;
+        var sn = nn.extend({
                 options: { fill: !0 },
                 isEmpty: function () {
                     return !this._latlngs.length || !this._latlngs[0].length;
                 },
                 getCenter: function () {
-                    if (this._map)
-                        return Ce(this._defaultShape(), this._map.options.crs);
-                    throw new Error(
-                        'Must add layer to map before using getCenter()'
+                    if (!this._map)
+                        throw new Error(
+                            'Must add layer to map before using getCenter()'
+                        );
+                    var e,
+                        t,
+                        i,
+                        n,
+                        s,
+                        a,
+                        o,
+                        r,
+                        l,
+                        c = this._rings[0],
+                        d = c.length;
+                    if (!d) return null;
+                    for (a = o = r = 0, e = 0, t = d - 1; e < d; t = e++)
+                        (i = c[e]),
+                            (n = c[t]),
+                            (s = i.y * n.x - n.y * i.x),
+                            (o += (i.x + n.x) * s),
+                            (r += (i.y + n.y) * s),
+                            (a += 3 * s);
+                    return (
+                        (l = 0 === a ? c[0] : [o / a, r / a]),
+                        this._map.layerPointToLatLng(l)
                     );
                 },
                 _convertLatLngs: function (e) {
-                    var t = (e = Pi.prototype._convertLatLngs.call(this, e))
-                        .length;
+                    var t = nn.prototype._convertLatLngs.call(this, e),
+                        i = t.length;
                     return (
-                        2 <= t &&
-                            e[0] instanceof S &&
-                            e[0].equals(e[t - 1]) &&
-                            e.pop(),
-                        e
+                        i >= 2 &&
+                            t[0] instanceof z &&
+                            t[0].equals(t[i - 1]) &&
+                            t.pop(),
+                        t
                     );
                 },
                 _setLatLngs: function (e) {
-                    Pi.prototype._setLatLngs.call(this, e),
-                        De(this._latlngs) && (this._latlngs = [this._latlngs]);
+                    nn.prototype._setLatLngs.call(this, e),
+                        Fe(this._latlngs) && (this._latlngs = [this._latlngs]);
                 },
                 _defaultShape: function () {
-                    return (
-                        De(this._latlngs[0]) ?
-                            this._latlngs
-                        :   this._latlngs[0])[0];
+                    return Fe(this._latlngs[0]) ?
+                            this._latlngs[0]
+                        :   this._latlngs[0][0];
                 },
                 _clipPoints: function () {
                     var e = this._renderer._bounds,
-                        t = new y((t = this.options.weight), t);
-                    e = new k(e.min.subtract(t), e.max.add(t));
+                        t = this.options.weight,
+                        i = new y(t, t);
                     if (
-                        ((this._parts = []),
+                        ((e = new k(e.min.subtract(i), e.max.add(i))),
+                        (this._parts = []),
                         this._pxBounds && this._pxBounds.intersects(e))
                     )
                         if (this.options.noClip) this._parts = this._rings;
                         else
                             for (
-                                var i, n = 0, s = this._rings.length;
-                                n < s;
-                                n++
+                                var n, s = 0, a = this._rings.length;
+                                s < a;
+                                s++
                             )
-                                (i = Te(this._rings[n], e, !0)).length &&
-                                    this._parts.push(i);
+                                (n = qe(this._rings[s], e, !0)).length &&
+                                    this._parts.push(n);
                 },
                 _updatePath: function () {
                     this._renderer._updatePoly(this, !0);
@@ -62901,18 +61817,18 @@ Object.values ||
                                             (n.y - i.y) +
                                             i.x &&
                                     (c = !c);
-                    return c || Pi.prototype._containsPoint.call(this, e, !0);
+                    return c || nn.prototype._containsPoint.call(this, e, !0);
                 },
             }),
-            Ii = ki.extend({
+            an = Zi.extend({
                 initialize: function (e, t) {
-                    u(this, t), (this._layers = {}), e && this.addData(e);
+                    d(this, t), (this._layers = {}), e && this.addData(e);
                 },
                 addData: function (e) {
                     var t,
                         i,
                         n,
-                        s = Je(e) ? e : e.features;
+                        s = st(e) ? e : e.features;
                     if (s) {
                         for (t = 0, i = s.length; t < i; t++)
                             ((n = s[t]).geometries ||
@@ -62922,22 +61838,23 @@ Object.values ||
                                 this.addData(n);
                         return this;
                     }
-                    var a,
-                        o = this.options;
-                    return (o.filter && !o.filter(e)) || !(a = Be(e, o)) ?
-                            this
-                        :   ((a.feature = $e(e)),
-                            (a.defaultOptions = a.options),
-                            this.resetStyle(a),
-                            o.onEachFeature && o.onEachFeature(e, a),
-                            this.addLayer(a));
+                    var a = this.options;
+                    if (a.filter && !a.filter(e)) return this;
+                    var o = $e(e, a);
+                    return o ?
+                            ((o.feature = Ke(e)),
+                            (o.defaultOptions = o.options),
+                            this.resetStyle(o),
+                            a.onEachFeature && a.onEachFeature(e, o),
+                            this.addLayer(o))
+                        :   this;
                 },
                 resetStyle: function (e) {
-                    return void 0 === e ?
-                            this.eachLayer(this.resetStyle, this)
-                        :   ((e.options = t({}, e.defaultOptions)),
-                            this._setLayerStyle(e, this.options.style),
-                            this);
+                    return (
+                        (e.options = t({}, e.defaultOptions)),
+                        this._setLayerStyle(e, this.options.style),
+                        this
+                    );
                 },
                 setStyle: function (e) {
                     return this.eachLayer(function (t) {
@@ -62945,88 +61862,93 @@ Object.values ||
                     }, this);
                 },
                 _setLayerStyle: function (e, t) {
-                    e.setStyle &&
-                        ('function' == typeof t && (t = t(e.feature)),
-                        e.setStyle(t));
+                    'function' == typeof t && (t = t(e.feature)),
+                        e.setStyle && e.setStyle(t);
                 },
-            });
-        (Mt = {
-            toGeoJSON: function (e) {
-                return qe(this, {
-                    type: 'Point',
-                    coordinates: Ne(this.getLatLng(), e),
-                });
-            },
-        }),
-            Si.include(Mt),
-            Ei.include(Mt),
-            Ai.include(Mt),
-            Pi.include({
+            }),
+            on = {
+                toGeoJSON: function (e) {
+                    return Ze(this, {
+                        type: 'Point',
+                        coordinates: Ue(this.getLatLng(), e),
+                    });
+                },
+            };
+        Qi.include(on),
+            tn.include(on),
+            en.include(on),
+            nn.include({
                 toGeoJSON: function (e) {
-                    var t = !De(this._latlngs);
-                    return qe(this, {
+                    var t = !Fe(this._latlngs);
+                    return Ze(this, {
                         type: (t ? 'Multi' : '') + 'LineString',
-                        coordinates: He(this._latlngs, t ? 1 : 0, !1, e),
+                        coordinates: Ge(this._latlngs, t ? 1 : 0, !1, e),
                     });
                 },
             }),
-            Mi.include({
+            sn.include({
                 toGeoJSON: function (e) {
-                    var t = !De(this._latlngs),
-                        i = t && !De(this._latlngs[0]);
-                    e = He(
-                        this._latlngs,
-                        i ? 2
-                        : t ? 1
-                        : 0,
-                        !0,
-                        e
+                    var t = !Fe(this._latlngs),
+                        i = t && !Fe(this._latlngs[0]),
+                        n = Ge(
+                            this._latlngs,
+                            i ? 2
+                            : t ? 1
+                            : 0,
+                            !0,
+                            e
+                        );
+                    return (
+                        t || (n = [n]),
+                        Ze(this, {
+                            type: (i ? 'Multi' : '') + 'Polygon',
+                            coordinates: n,
+                        })
                     );
-                    return qe(this, {
-                        type: (i ? 'Multi' : '') + 'Polygon',
-                        coordinates: (e = t ? e : [e]),
-                    });
                 },
             }),
-            wi.include({
+            Gi.include({
                 toMultiPoint: function (e) {
                     var t = [];
                     return (
                         this.eachLayer(function (i) {
                             t.push(i.toGeoJSON(e).geometry.coordinates);
                         }),
-                        qe(this, { type: 'MultiPoint', coordinates: t })
+                        Ze(this, { type: 'MultiPoint', coordinates: t })
                     );
                 },
                 toGeoJSON: function (e) {
-                    var t,
-                        i,
-                        n =
-                            this.feature &&
-                            this.feature.geometry &&
-                            this.feature.geometry.type;
-                    return 'MultiPoint' === n ?
-                            this.toMultiPoint(e)
-                        :   ((t = 'GeometryCollection' === n),
-                            (i = []),
-                            this.eachLayer(function (n) {
-                                n.toGeoJSON &&
-                                    ((n = n.toGeoJSON(e)),
-                                    t ? i.push(n.geometry)
-                                    : 'FeatureCollection' === (n = $e(n)).type ?
-                                        i.push.apply(i, n.features)
-                                    :   i.push(n));
-                            }),
-                            t ?
-                                qe(this, {
-                                    geometries: i,
-                                    type: 'GeometryCollection',
-                                })
-                            :   { type: 'FeatureCollection', features: i });
+                    var t =
+                        this.feature &&
+                        this.feature.geometry &&
+                        this.feature.geometry.type;
+                    if ('MultiPoint' === t) return this.toMultiPoint(e);
+                    var i = 'GeometryCollection' === t,
+                        n = [];
+                    return (
+                        this.eachLayer(function (t) {
+                            if (t.toGeoJSON) {
+                                var s = t.toGeoJSON(e);
+                                if (i) n.push(s.geometry);
+                                else {
+                                    var a = Ke(s);
+                                    'FeatureCollection' === a.type ?
+                                        n.push.apply(n, a.features)
+                                    :   n.push(a);
+                                }
+                            }
+                        }),
+                        i ?
+                            Ze(this, {
+                                geometries: n,
+                                type: 'GeometryCollection',
+                            })
+                        :   { type: 'FeatureCollection', features: n }
+                    );
                 },
             });
-        It = We;
-        var Di = Pt.extend({
+        var rn = Ye,
+            ln = Ui.extend({
                 options: {
                     opacity: 1,
                     alt: '',
@@ -63037,20 +61959,20 @@ Object.values ||
                     className: '',
                 },
                 initialize: function (e, t, i) {
-                    (this._url = e), (this._bounds = C(t)), u(this, i);
+                    (this._url = e), (this._bounds = C(t)), d(this, i);
                 },
                 onAdd: function () {
                     this._image ||
                         (this._initImage(),
                         this.options.opacity < 1 && this._updateOpacity()),
                         this.options.interactive &&
-                            (Z(this._image, 'leaflet-interactive'),
+                            (X(this._image, 'leaflet-interactive'),
                             this.addInteractiveTarget(this._image)),
                         this.getPane().appendChild(this._image),
                         this._reset();
                 },
                 onRemove: function () {
-                    $(this._image),
+                    Z(this._image),
                         this.options.interactive &&
                             this.removeInteractiveTarget(this._image);
                 },
@@ -63065,10 +61987,10 @@ Object.values ||
                     return e.opacity && this.setOpacity(e.opacity), this;
                 },
                 bringToFront: function () {
-                    return this._map && V(this._image), this;
+                    return this._map && Y(this._image), this;
                 },
                 bringToBack: function () {
-                    return this._map && U(this._image), this;
+                    return this._map && J(this._image), this;
                 },
                 setUrl: function (e) {
                     return (
@@ -63102,16 +62024,16 @@ Object.values ||
                 },
                 _initImage: function () {
                     var e = 'IMG' === this._url.tagName,
-                        t = (this._image = e ? this._url : q('img'));
-                    Z(t, 'leaflet-image-layer'),
-                        this._zoomAnimated && Z(t, 'leaflet-zoom-animated'),
-                        this.options.className && Z(t, this.options.className),
-                        (t.onselectstart = r),
-                        (t.onmousemove = r),
-                        (t.onload = n(this.fire, this, 'load')),
-                        (t.onerror = n(this._overlayOnError, this, 'error')),
-                        (!this.options.crossOrigin &&
-                            '' !== this.options.crossOrigin) ||
+                        t = (this._image = e ? this._url : G('img'));
+                    X(t, 'leaflet-image-layer'),
+                        this._zoomAnimated && X(t, 'leaflet-zoom-animated'),
+                        this.options.className && X(t, this.options.className),
+                        (t.onselectstart = o),
+                        (t.onmousemove = o),
+                        (t.onload = i(this.fire, this, 'load')),
+                        (t.onerror = i(this._overlayOnError, this, 'error')),
+                        (this.options.crossOrigin ||
+                            '' === this.options.crossOrigin) &&
                             (t.crossOrigin =
                                 !0 === this.options.crossOrigin ?
                                     ''
@@ -63122,13 +62044,13 @@ Object.values ||
                         :   ((t.src = this._url), (t.alt = this.options.alt));
                 },
                 _animateZoom: function (e) {
-                    var t = this._map.getZoomScale(e.zoom);
-                    e = this._map._latLngBoundsToNewLayerBounds(
-                        this._bounds,
-                        e.zoom,
-                        e.center
-                    ).min;
-                    ee(this._image, e, t);
+                    var t = this._map.getZoomScale(e.zoom),
+                        i = this._map._latLngBoundsToNewLayerBounds(
+                            this._bounds,
+                            e.zoom,
+                            e.center
+                        ).min;
+                    oe(this._image, i, t);
                 },
                 _reset: function () {
                     var e = this._image,
@@ -63141,12 +62063,12 @@ Object.values ||
                             )
                         ),
                         i = t.getSize();
-                    te(e, t.min),
+                    re(e, t.min),
                         (e.style.width = i.x + 'px'),
                         (e.style.height = i.y + 'px');
                 },
                 _updateOpacity: function () {
-                    Q(this._image, this.options.opacity);
+                    ne(this._image, this.options.opacity);
                 },
                 _updateZIndex: function () {
                     this._image &&
@@ -63161,137 +62083,70 @@ Object.values ||
                         this._url !== e &&
                         ((this._url = e), (this._image.src = e));
                 },
-                getCenter: function () {
-                    return this._bounds.getCenter();
-                },
             }),
-            ji = Di.extend({
-                options: {
-                    autoplay: !0,
-                    loop: !0,
-                    keepAspectRatio: !0,
-                    muted: !1,
-                    playsInline: !0,
-                },
+            cn = ln.extend({
+                options: { autoplay: !0, loop: !0 },
                 _initImage: function () {
                     var e = 'VIDEO' === this._url.tagName,
-                        t = (this._image = e ? this._url : q('video'));
+                        t = (this._image = e ? this._url : G('video'));
                     if (
-                        (Z(t, 'leaflet-image-layer'),
-                        this._zoomAnimated && Z(t, 'leaflet-zoom-animated'),
-                        this.options.className && Z(t, this.options.className),
-                        (t.onselectstart = r),
-                        (t.onmousemove = r),
-                        (t.onloadeddata = n(this.fire, this, 'load')),
+                        (X(t, 'leaflet-image-layer'),
+                        this._zoomAnimated && X(t, 'leaflet-zoom-animated'),
+                        (t.onselectstart = o),
+                        (t.onmousemove = o),
+                        (t.onloadeddata = i(this.fire, this, 'load')),
                         e)
                     ) {
                         for (
-                            var i = t.getElementsByTagName('source'),
+                            var n = t.getElementsByTagName('source'),
                                 s = [],
                                 a = 0;
-                            a < i.length;
+                            a < n.length;
                             a++
                         )
-                            s.push(i[a].src);
-                        this._url = 0 < i.length ? s : [t.src];
+                            s.push(n[a].src);
+                        this._url = n.length > 0 ? s : [t.src];
                     } else {
-                        Je(this._url) || (this._url = [this._url]),
-                            !this.options.keepAspectRatio &&
-                                Object.prototype.hasOwnProperty.call(
-                                    t.style,
-                                    'objectFit'
-                                ) &&
-                                (t.style.objectFit = 'fill'),
+                        st(this._url) || (this._url = [this._url]),
                             (t.autoplay = !!this.options.autoplay),
-                            (t.loop = !!this.options.loop),
-                            (t.muted = !!this.options.muted),
-                            (t.playsInline = !!this.options.playsInline);
-                        for (var o = 0; o < this._url.length; o++) {
-                            var l = q('source');
-                            (l.src = this._url[o]), t.appendChild(l);
+                            (t.loop = !!this.options.loop);
+                        for (var r = 0; r < this._url.length; r++) {
+                            var l = G('source');
+                            (l.src = this._url[r]), t.appendChild(l);
                         }
                     }
                 },
             }),
-            Ri = Di.extend({
-                _initImage: function () {
-                    var e = (this._image = this._url);
-                    Z(e, 'leaflet-image-layer'),
-                        this._zoomAnimated && Z(e, 'leaflet-zoom-animated'),
-                        this.options.className && Z(e, this.options.className),
-                        (e.onselectstart = r),
-                        (e.onmousemove = r);
-                },
-            }),
-            Bi = Pt.extend({
-                options: {
-                    interactive: !1,
-                    offset: [0, 0],
-                    className: '',
-                    pane: void 0,
-                    content: '',
-                },
+            dn = Ui.extend({
+                options: { offset: [0, 7], className: '', pane: 'popupPane' },
                 initialize: function (e, t) {
-                    e && (e instanceof S || Je(e)) ?
-                        ((this._latlng = z(e)), u(this, t))
-                    :   (u(this, e), (this._source = t)),
-                        this.options.content &&
-                            (this._content = this.options.content);
-                },
-                openOn: function (e) {
-                    return (
-                        (e = arguments.length ? e : this._source._map).hasLayer(
-                            this
-                        ) || e.addLayer(this),
-                        this
-                    );
-                },
-                close: function () {
-                    return this._map && this._map.removeLayer(this), this;
-                },
-                toggle: function (e) {
-                    return (
-                        this._map ?
-                            this.close()
-                        :   (arguments.length ?
-                                (this._source = e)
-                            :   (e = this._source),
-                            this._prepareOpen(),
-                            this.openOn(e._map)),
-                        this
-                    );
+                    d(this, e), (this._source = t);
                 },
                 onAdd: function (e) {
                     (this._zoomAnimated = e._zoomAnimated),
                         this._container || this._initLayout(),
-                        e._fadeAnimated && Q(this._container, 0),
+                        e._fadeAnimated && ne(this._container, 0),
                         clearTimeout(this._removeTimeout),
                         this.getPane().appendChild(this._container),
                         this.update(),
-                        e._fadeAnimated && Q(this._container, 1),
-                        this.bringToFront(),
-                        this.options.interactive &&
-                            (Z(this._container, 'leaflet-interactive'),
-                            this.addInteractiveTarget(this._container));
+                        e._fadeAnimated && ne(this._container, 1),
+                        this.bringToFront();
                 },
                 onRemove: function (e) {
                     e._fadeAnimated ?
-                        (Q(this._container, 0),
+                        (ne(this._container, 0),
                         (this._removeTimeout = setTimeout(
-                            n($, void 0, this._container),
+                            i(Z, void 0, this._container),
                             200
                         )))
-                    :   $(this._container),
-                        this.options.interactive &&
-                            (K(this._container, 'leaflet-interactive'),
-                            this.removeInteractiveTarget(this._container));
+                    :   Z(this._container);
                 },
                 getLatLng: function () {
                     return this._latlng;
                 },
                 setLatLng: function (e) {
                     return (
-                        (this._latlng = z(e)),
+                        (this._latlng = S(e)),
                         this._map &&
                             (this._updatePosition(), this._adjustPan()),
                         this
@@ -63329,36 +62184,10 @@ Object.values ||
                     return !!this._map && this._map.hasLayer(this);
                 },
                 bringToFront: function () {
-                    return this._map && V(this._container), this;
+                    return this._map && Y(this._container), this;
                 },
                 bringToBack: function () {
-                    return this._map && U(this._container), this;
-                },
-                _prepareOpen: function (e) {
-                    if (!(i = this._source)._map) return !1;
-                    if (i instanceof ki) {
-                        var t,
-                            i = null,
-                            n = this._source._layers;
-                        for (t in n)
-                            if (n[t]._map) {
-                                i = n[t];
-                                break;
-                            }
-                        if (!i) return !1;
-                        this._source = i;
-                    }
-                    if (!e)
-                        if (i.getCenter) e = i.getCenter();
-                        else if (i.getLatLng) e = i.getLatLng();
-                        else {
-                            if (!i.getBounds)
-                                throw new Error(
-                                    'Unable to get source layer LatLng.'
-                                );
-                            e = i.getBounds().getCenter();
-                        }
-                    return this.setLatLng(e), this._map && this.update(), !0;
+                    return this._map && J(this._container), this;
                 },
                 _updateContent: function () {
                     if (this._content) {
@@ -63377,646 +62206,573 @@ Object.values ||
                     }
                 },
                 _updatePosition: function () {
-                    var e, t, i;
-                    this._map &&
-                        ((t = this._map.latLngToLayerPoint(this._latlng)),
-                        (e = w(this.options.offset)),
-                        (i = this._getAnchor()),
+                    if (this._map) {
+                        var e = this._map.latLngToLayerPoint(this._latlng),
+                            t = w(this.options.offset),
+                            i = this._getAnchor();
                         this._zoomAnimated ?
-                            te(this._container, t.add(i))
-                        :   (e = e.add(t).add(i)),
-                        (t = this._containerBottom = -e.y),
-                        (i = this._containerLeft =
-                            -Math.round(this._containerWidth / 2) + e.x),
-                        (this._container.style.bottom = t + 'px'),
-                        (this._container.style.left = i + 'px'));
+                            re(this._container, e.add(i))
+                        :   (t = t.add(e).add(i));
+                        var n = (this._containerBottom = -t.y),
+                            s = (this._containerLeft =
+                                -Math.round(this._containerWidth / 2) + t.x);
+                        (this._container.style.bottom = n + 'px'),
+                            (this._container.style.left = s + 'px');
+                    }
                 },
                 _getAnchor: function () {
                     return [0, 0];
                 },
             }),
-            Li =
-                (hi.include({
-                    _initOverlay: function (e, t, i, n) {
-                        var s = t;
-                        return (
-                            s instanceof e || (s = new e(n).setContent(t)),
-                            i && s.setLatLng(i),
-                            s
-                        );
-                    },
-                }),
-                Pt.include({
-                    _initOverlay: function (e, t, i, n) {
-                        var s = i;
-                        return (
-                            s instanceof e ?
-                                (u(s, n), (s._source = this))
-                            :   (s = t && !n ? t : new e(n, this)).setContent(
-                                    i
-                                ),
-                            s
-                        );
-                    },
-                }),
-                Bi.extend({
-                    options: {
-                        pane: 'popupPane',
-                        offset: [0, 7],
-                        maxWidth: 300,
-                        minWidth: 50,
-                        maxHeight: null,
-                        autoPan: !0,
-                        autoPanPaddingTopLeft: null,
-                        autoPanPaddingBottomRight: null,
-                        autoPanPadding: [5, 5],
-                        keepInView: !1,
-                        closeButton: !0,
-                        autoClose: !0,
-                        closeOnEscapeKey: !0,
-                        className: '',
-                    },
-                    openOn: function (e) {
-                        return (
-                            !(e =
-                                arguments.length ? e : (
-                                    this._source._map
-                                )).hasLayer(this) &&
-                                e._popup &&
-                                e._popup.options.autoClose &&
-                                e.removeLayer(e._popup),
-                            (e._popup = this),
-                            Bi.prototype.openOn.call(this, e)
-                        );
-                    },
-                    onAdd: function (e) {
-                        Bi.prototype.onAdd.call(this, e),
-                            e.fire('popupopen', { popup: this }),
-                            this._source &&
-                                (this._source.fire(
-                                    'popupopen',
-                                    { popup: this },
-                                    !0
-                                ),
-                                this._source instanceof zi ||
-                                    this._source.on('preclick', me));
-                    },
-                    onRemove: function (e) {
-                        Bi.prototype.onRemove.call(this, e),
-                            e.fire('popupclose', { popup: this }),
-                            this._source &&
-                                (this._source.fire(
-                                    'popupclose',
-                                    { popup: this },
-                                    !0
-                                ),
-                                this._source instanceof zi ||
-                                    this._source.off('preclick', me));
-                    },
-                    getEvents: function () {
-                        var e = Bi.prototype.getEvents.call(this);
-                        return (
-                            (void 0 !== this.options.closeOnClick ?
-                                this.options.closeOnClick
-                            :   this._map.options.closePopupOnClick) &&
-                                (e.preclick = this.close),
-                            this.options.keepInView &&
-                                (e.moveend = this._adjustPan),
-                            e
-                        );
-                    },
-                    _initLayout: function () {
-                        var e = 'leaflet-popup',
-                            t = (this._container = q(
-                                'div',
-                                e +
-                                    ' ' +
-                                    (this.options.className || '') +
-                                    ' leaflet-zoom-animated'
-                            )),
-                            i = (this._wrapper = q(
-                                'div',
-                                e + '-content-wrapper',
-                                t
-                            ));
-                        (this._contentNode = q('div', e + '-content', i)),
-                            fe(t),
-                            _e(this._contentNode),
-                            ce(t, 'contextmenu', me),
-                            (this._tipContainer = q(
-                                'div',
-                                e + '-tip-container',
-                                t
-                            )),
-                            (this._tip = q(
-                                'div',
-                                e + '-tip',
-                                this._tipContainer
-                            )),
-                            this.options.closeButton &&
-                                ((i = this._closeButton =
-                                    q(
-                                        'a',
-                                        e + '-close-button',
-                                        t
-                                    )).setAttribute('role', 'button'),
-                                i.setAttribute('aria-label', 'Close popup'),
-                                (i.href = '#close'),
-                                (i.innerHTML =
-                                    '<span aria-hidden="true">&#215;</span>'),
-                                ce(
-                                    i,
-                                    'click',
-                                    function (e) {
-                                        ge(e), this.close();
-                                    },
-                                    this
-                                ));
-                    },
-                    _updateLayout: function () {
-                        var e = this._contentNode,
-                            t = e.style,
-                            i =
-                                ((t.width = ''),
-                                (t.whiteSpace = 'nowrap'),
-                                e.offsetWidth),
-                            n =
-                                ((i = Math.min(i, this.options.maxWidth)),
-                                (i =
-                                    ((i = Math.max(i, this.options.minWidth)),
-                                    (t.width = i + 1 + 'px'),
-                                    (t.whiteSpace = ''),
-                                    (t.height = ''),
-                                    e.offsetHeight)),
-                                this.options.maxHeight),
-                            s = 'leaflet-popup-scrolled';
-                        (n && n < i ? ((t.height = n + 'px'), Z) : K)(e, s),
-                            (this._containerWidth =
-                                this._container.offsetWidth);
-                    },
-                    _animateZoom: function (e) {
-                        e = this._map._latLngToNewLayerPoint(
+            un = dn.extend({
+                options: {
+                    maxWidth: 300,
+                    minWidth: 50,
+                    maxHeight: null,
+                    autoPan: !0,
+                    autoPanPaddingTopLeft: null,
+                    autoPanPaddingBottomRight: null,
+                    autoPanPadding: [5, 5],
+                    keepInView: !1,
+                    closeButton: !0,
+                    autoClose: !0,
+                    closeOnEscapeKey: !0,
+                    className: '',
+                },
+                openOn: function (e) {
+                    return e.openPopup(this), this;
+                },
+                onAdd: function (e) {
+                    dn.prototype.onAdd.call(this, e),
+                        e.fire('popupopen', { popup: this }),
+                        this._source &&
+                            (this._source.fire(
+                                'popupopen',
+                                { popup: this },
+                                !0
+                            ),
+                            this._source instanceof Xi ||
+                                this._source.on('preclick', be));
+                },
+                onRemove: function (e) {
+                    dn.prototype.onRemove.call(this, e),
+                        e.fire('popupclose', { popup: this }),
+                        this._source &&
+                            (this._source.fire(
+                                'popupclose',
+                                { popup: this },
+                                !0
+                            ),
+                            this._source instanceof Xi ||
+                                this._source.off('preclick', be));
+                },
+                getEvents: function () {
+                    var e = dn.prototype.getEvents.call(this);
+                    return (
+                        (void 0 !== this.options.closeOnClick ?
+                            this.options.closeOnClick
+                        :   this._map.options.closePopupOnClick) &&
+                            (e.preclick = this._close),
+                        this.options.keepInView &&
+                            (e.moveend = this._adjustPan),
+                        e
+                    );
+                },
+                _close: function () {
+                    this._map && this._map.closePopup(this);
+                },
+                _initLayout: function () {
+                    var e = 'leaflet-popup',
+                        t = (this._container = G(
+                            'div',
+                            e +
+                                ' ' +
+                                (this.options.className || '') +
+                                ' leaflet-zoom-animated'
+                        )),
+                        i = (this._wrapper = G(
+                            'div',
+                            e + '-content-wrapper',
+                            t
+                        ));
+                    if (
+                        ((this._contentNode = G('div', e + '-content', i)),
+                        we(i),
+                        ye(this._contentNode),
+                        _e(i, 'contextmenu', be),
+                        (this._tipContainer = G(
+                            'div',
+                            e + '-tip-container',
+                            t
+                        )),
+                        (this._tip = G('div', e + '-tip', this._tipContainer)),
+                        this.options.closeButton)
+                    ) {
+                        var n = (this._closeButton = G(
+                            'a',
+                            e + '-close-button',
+                            t
+                        ));
+                        (n.href = '#close'),
+                            (n.innerHTML = '&#215;'),
+                            _e(n, 'click', this._onCloseButtonClick, this);
+                    }
+                },
+                _updateLayout: function () {
+                    var e = this._contentNode,
+                        t = e.style;
+                    (t.width = ''), (t.whiteSpace = 'nowrap');
+                    var i = e.offsetWidth;
+                    (i = Math.min(i, this.options.maxWidth)),
+                        (i = Math.max(i, this.options.minWidth)),
+                        (t.width = i + 1 + 'px'),
+                        (t.whiteSpace = ''),
+                        (t.height = '');
+                    var n = e.offsetHeight,
+                        s = this.options.maxHeight;
+                    s && n > s ?
+                        ((t.height = s + 'px'), X(e, 'leaflet-popup-scrolled'))
+                    :   ee(e, 'leaflet-popup-scrolled'),
+                        (this._containerWidth = this._container.offsetWidth);
+                },
+                _animateZoom: function (e) {
+                    var t = this._map._latLngToNewLayerPoint(
                             this._latlng,
                             e.zoom,
                             e.center
-                        );
-                        var t = this._getAnchor();
-                        te(this._container, e.add(t));
-                    },
-                    _adjustPan: function () {
-                        var e, t, i, n, s, a, o, r;
-                        this.options.autoPan &&
-                            (this._map._panAnim && this._map._panAnim.stop(),
-                            this._autopanning ?
-                                (this._autopanning = !1)
-                            :   ((e = this._map),
-                                (t =
-                                    parseInt(
-                                        H(this._container, 'marginBottom'),
-                                        10
-                                    ) || 0),
-                                (t = this._container.offsetHeight + t),
-                                (r = this._containerWidth),
-                                (i = new y(
-                                    this._containerLeft,
-                                    -t - this._containerBottom
-                                ))._add(ie(this._container)),
-                                (i = e.layerPointToContainerPoint(i)),
-                                (s = w(this.options.autoPanPadding)),
-                                (n = w(
-                                    this.options.autoPanPaddingTopLeft || s
-                                )),
-                                (s = w(
-                                    this.options.autoPanPaddingBottomRight || s
-                                )),
-                                (a = e.getSize()),
-                                (o = 0),
-                                i.x + r + s.x > a.x &&
-                                    (o = i.x + r - a.x + s.x),
-                                i.x - o - n.x < (r = 0) && (o = i.x - n.x),
-                                i.y + t + s.y > a.y &&
-                                    (r = i.y + t - a.y + s.y),
-                                i.y - r - n.y < 0 && (r = i.y - n.y),
-                                (o || r) &&
-                                    (this.options.keepInView &&
-                                        (this._autopanning = !0),
-                                    e.fire('autopanstart').panBy([o, r]))));
-                    },
-                    _getAnchor: function () {
-                        return w(
-                            this._source && this._source._getPopupAnchor ?
-                                this._source._getPopupAnchor()
-                            :   [0, 0]
-                        );
-                    },
-                })),
-            Oi =
-                (hi.mergeOptions({ closePopupOnClick: !0 }),
-                hi.include({
-                    openPopup: function (e, t, i) {
-                        return (
-                            this._initOverlay(Li, e, t, i).openOn(this), this
-                        );
-                    },
-                    closePopup: function (e) {
-                        return (
-                            (e = arguments.length ? e : this._popup) &&
-                                e.close(),
-                            this
-                        );
-                    },
-                }),
-                Pt.include({
-                    bindPopup: function (e, t) {
-                        return (
-                            (this._popup = this._initOverlay(
-                                Li,
-                                this._popup,
-                                e,
-                                t
-                            )),
-                            this._popupHandlersAdded ||
-                                (this.on({
-                                    click: this._openPopup,
-                                    keypress: this._onKeyPress,
-                                    remove: this.closePopup,
-                                    move: this._movePopup,
-                                }),
-                                (this._popupHandlersAdded = !0)),
-                            this
-                        );
-                    },
-                    unbindPopup: function () {
-                        return (
-                            this._popup &&
-                                (this.off({
-                                    click: this._openPopup,
-                                    keypress: this._onKeyPress,
-                                    remove: this.closePopup,
-                                    move: this._movePopup,
-                                }),
-                                (this._popupHandlersAdded = !1),
-                                (this._popup = null)),
-                            this
-                        );
-                    },
-                    openPopup: function (e) {
-                        return (
-                            this._popup &&
-                                (this instanceof ki ||
-                                    (this._popup._source = this),
-                                this._popup._prepareOpen(e || this._latlng) &&
-                                    this._popup.openOn(this._map)),
-                            this
-                        );
-                    },
-                    closePopup: function () {
-                        return this._popup && this._popup.close(), this;
-                    },
-                    togglePopup: function () {
-                        return this._popup && this._popup.toggle(this), this;
-                    },
-                    isPopupOpen: function () {
-                        return !!this._popup && this._popup.isOpen();
-                    },
-                    setPopupContent: function (e) {
-                        return this._popup && this._popup.setContent(e), this;
-                    },
-                    getPopup: function () {
-                        return this._popup;
-                    },
-                    _openPopup: function (e) {
-                        var t;
+                        ),
+                        i = this._getAnchor();
+                    re(this._container, t.add(i));
+                },
+                _adjustPan: function () {
+                    if (this.options.autoPan) {
+                        this._map._panAnim && this._map._panAnim.stop();
+                        var e = this._map,
+                            t =
+                                parseInt(
+                                    U(this._container, 'marginBottom'),
+                                    10
+                                ) || 0,
+                            i = this._container.offsetHeight + t,
+                            n = this._containerWidth,
+                            s = new y(
+                                this._containerLeft,
+                                -i - this._containerBottom
+                            );
+                        s._add(le(this._container));
+                        var a = e.layerPointToContainerPoint(s),
+                            o = w(this.options.autoPanPadding),
+                            r = w(this.options.autoPanPaddingTopLeft || o),
+                            l = w(this.options.autoPanPaddingBottomRight || o),
+                            c = e.getSize(),
+                            d = 0,
+                            u = 0;
+                        a.x + n + l.x > c.x && (d = a.x + n - c.x + l.x),
+                            a.x - d - r.x < 0 && (d = a.x - r.x),
+                            a.y + i + l.y > c.y && (u = a.y + i - c.y + l.y),
+                            a.y - u - r.y < 0 && (u = a.y - r.y),
+                            (d || u) && e.fire('autopanstart').panBy([d, u]);
+                    }
+                },
+                _onCloseButtonClick: function (e) {
+                    this._close(), xe(e);
+                },
+                _getAnchor: function () {
+                    return w(
+                        this._source && this._source._getPopupAnchor ?
+                            this._source._getPopupAnchor()
+                        :   [0, 0]
+                    );
+                },
+            });
+        Ti.mergeOptions({ closePopupOnClick: !0 }),
+            Ti.include({
+                openPopup: function (e, t, i) {
+                    return (
+                        e instanceof un || (e = new un(i).setContent(e)),
+                        t && e.setLatLng(t),
+                        this.hasLayer(e) ? this : (
+                            (this._popup &&
+                                this._popup.options.autoClose &&
+                                this.closePopup(),
+                            (this._popup = e),
+                            this.addLayer(e))
+                        )
+                    );
+                },
+                closePopup: function (e) {
+                    return (
+                        (e && e !== this._popup) ||
+                            ((e = this._popup), (this._popup = null)),
+                        e && this.removeLayer(e),
+                        this
+                    );
+                },
+            }),
+            Ui.include({
+                bindPopup: function (e, t) {
+                    return (
+                        e instanceof un ?
+                            (d(e, t), (this._popup = e), (e._source = this))
+                        :   ((this._popup && !t) ||
+                                (this._popup = new un(t, this)),
+                            this._popup.setContent(e)),
+                        this._popupHandlersAdded ||
+                            (this.on({
+                                click: this._openPopup,
+                                keypress: this._onKeyPress,
+                                remove: this.closePopup,
+                                move: this._movePopup,
+                            }),
+                            (this._popupHandlersAdded = !0)),
+                        this
+                    );
+                },
+                unbindPopup: function () {
+                    return (
+                        this._popup &&
+                            (this.off({
+                                click: this._openPopup,
+                                keypress: this._onKeyPress,
+                                remove: this.closePopup,
+                                move: this._movePopup,
+                            }),
+                            (this._popupHandlersAdded = !1),
+                            (this._popup = null)),
+                        this
+                    );
+                },
+                openPopup: function (e, t) {
+                    if (
+                        (e instanceof Ui || ((t = e), (e = this)),
+                        e instanceof Zi)
+                    )
+                        for (var i in this._layers) {
+                            e = this._layers[i];
+                            break;
+                        }
+                    return (
+                        t || (t = e.getCenter ? e.getCenter() : e.getLatLng()),
                         this._popup &&
                             this._map &&
-                            (ve(e),
-                            (t = e.layer || e.target),
-                            this._popup._source !== t || t instanceof zi ?
-                                ((this._popup._source = t),
-                                this.openPopup(e.latlng))
-                            : this._map.hasLayer(this._popup) ?
+                            ((this._popup._source = e),
+                            this._popup.update(),
+                            this._map.openPopup(this._popup, t)),
+                        this
+                    );
+                },
+                closePopup: function () {
+                    return this._popup && this._popup._close(), this;
+                },
+                togglePopup: function (e) {
+                    return (
+                        this._popup &&
+                            (this._popup._map ?
                                 this.closePopup()
-                            :   this.openPopup(e.latlng));
-                    },
-                    _movePopup: function (e) {
-                        this._popup.setLatLng(e.latlng);
-                    },
-                    _onKeyPress: function (e) {
-                        13 === e.originalEvent.keyCode && this._openPopup(e);
-                    },
-                }),
-                Bi.extend({
-                    options: {
-                        pane: 'tooltipPane',
-                        offset: [0, 0],
-                        direction: 'auto',
-                        permanent: !1,
-                        sticky: !1,
-                        opacity: 0.9,
-                    },
-                    onAdd: function (e) {
-                        Bi.prototype.onAdd.call(this, e),
-                            this.setOpacity(this.options.opacity),
-                            e.fire('tooltipopen', { tooltip: this }),
-                            this._source &&
-                                (this.addEventParent(this._source),
-                                this._source.fire(
-                                    'tooltipopen',
-                                    { tooltip: this },
-                                    !0
-                                ));
-                    },
-                    onRemove: function (e) {
-                        Bi.prototype.onRemove.call(this, e),
-                            e.fire('tooltipclose', { tooltip: this }),
-                            this._source &&
-                                (this.removeEventParent(this._source),
-                                this._source.fire(
-                                    'tooltipclose',
-                                    { tooltip: this },
-                                    !0
-                                ));
-                    },
-                    getEvents: function () {
-                        var e = Bi.prototype.getEvents.call(this);
-                        return (
-                            this.options.permanent || (e.preclick = this.close),
-                            e
-                        );
-                    },
-                    _initLayout: function () {
-                        var e =
-                            'leaflet-tooltip ' +
-                            (this.options.className || '') +
-                            ' leaflet-zoom-' +
-                            (this._zoomAnimated ? 'animated' : 'hide');
-                        (this._contentNode = this._container = q('div', e)),
-                            this._container.setAttribute('role', 'tooltip'),
-                            this._container.setAttribute(
-                                'id',
-                                'leaflet-tooltip-' + s(this)
-                            );
-                    },
-                    _updateLayout: function () {},
-                    _adjustPan: function () {},
-                    _setPosition: function (e) {
-                        var t,
-                            i = this._map,
-                            n = this._container,
-                            s = i.latLngToContainerPoint(i.getCenter()),
-                            a =
-                                ((i = i.layerPointToContainerPoint(e)),
-                                this.options.direction),
-                            o = n.offsetWidth,
-                            r = n.offsetHeight,
-                            l = w(this.options.offset),
-                            c = this._getAnchor();
-                        i =
-                            'top' === a ? ((t = o / 2), r)
-                            : 'bottom' === a ? ((t = o / 2), 0)
-                            : ((t =
-                                    'center' === a ? o / 2
-                                    : 'right' === a ? 0
-                                    : 'left' === a ? o
-                                    : i.x < s.x ? ((a = 'right'), 0)
-                                    : ((a = 'left'), o + 2 * (l.x + c.x))),
-                                r / 2);
-                        (e = e
-                            .subtract(w(t, i, !0))
-                            .add(l)
-                            .add(c)),
-                            K(n, 'leaflet-tooltip-right'),
-                            K(n, 'leaflet-tooltip-left'),
-                            K(n, 'leaflet-tooltip-top'),
-                            K(n, 'leaflet-tooltip-bottom'),
-                            Z(n, 'leaflet-tooltip-' + a),
-                            te(n, e);
-                    },
-                    _updatePosition: function () {
-                        var e = this._map.latLngToLayerPoint(this._latlng);
-                        this._setPosition(e);
-                    },
-                    setOpacity: function (e) {
-                        (this.options.opacity = e),
-                            this._container && Q(this._container, e);
-                    },
-                    _animateZoom: function (e) {
-                        (e = this._map._latLngToNewLayerPoint(
-                            this._latlng,
-                            e.zoom,
-                            e.center
-                        )),
-                            this._setPosition(e);
-                    },
-                    _getAnchor: function () {
-                        return w(
-                            (
-                                this._source &&
-                                    this._source._getTooltipAnchor &&
-                                    !this.options.sticky
-                            ) ?
-                                this._source._getTooltipAnchor()
-                            :   [0, 0]
-                        );
-                    },
-                })),
-            Fi =
-                (hi.include({
-                    openTooltip: function (e, t, i) {
-                        return (
-                            this._initOverlay(Oi, e, t, i).openOn(this), this
-                        );
-                    },
-                    closeTooltip: function (e) {
-                        return e.close(), this;
-                    },
-                }),
-                Pt.include({
-                    bindTooltip: function (e, t) {
-                        return (
-                            this._tooltip &&
-                                this.isTooltipOpen() &&
-                                this.unbindTooltip(),
-                            (this._tooltip = this._initOverlay(
-                                Oi,
-                                this._tooltip,
-                                e,
-                                t
-                            )),
-                            this._initTooltipInteractions(),
-                            this._tooltip.options.permanent &&
-                                this._map &&
-                                this._map.hasLayer(this) &&
-                                this.openTooltip(),
-                            this
-                        );
-                    },
-                    unbindTooltip: function () {
-                        return (
-                            this._tooltip &&
-                                (this._initTooltipInteractions(!0),
-                                this.closeTooltip(),
-                                (this._tooltip = null)),
-                            this
+                            :   this.openPopup(e)),
+                        this
+                    );
+                },
+                isPopupOpen: function () {
+                    return !!this._popup && this._popup.isOpen();
+                },
+                setPopupContent: function (e) {
+                    return this._popup && this._popup.setContent(e), this;
+                },
+                getPopup: function () {
+                    return this._popup;
+                },
+                _openPopup: function (e) {
+                    var t = e.layer || e.target;
+                    this._popup &&
+                        this._map &&
+                        (xe(e),
+                        t instanceof Xi ?
+                            this.openPopup(e.layer || e.target, e.latlng)
+                        : (
+                            this._map.hasLayer(this._popup) &&
+                            this._popup._source === t
+                        ) ?
+                            this.closePopup()
+                        :   this.openPopup(t, e.latlng));
+                },
+                _movePopup: function (e) {
+                    this._popup.setLatLng(e.latlng);
+                },
+                _onKeyPress: function (e) {
+                    13 === e.originalEvent.keyCode && this._openPopup(e);
+                },
+            });
+        var hn = dn.extend({
+            options: {
+                pane: 'tooltipPane',
+                offset: [0, 0],
+                direction: 'auto',
+                permanent: !1,
+                sticky: !1,
+                interactive: !1,
+                opacity: 0.9,
+            },
+            onAdd: function (e) {
+                dn.prototype.onAdd.call(this, e),
+                    this.setOpacity(this.options.opacity),
+                    e.fire('tooltipopen', { tooltip: this }),
+                    this._source &&
+                        this._source.fire('tooltipopen', { tooltip: this }, !0);
+            },
+            onRemove: function (e) {
+                dn.prototype.onRemove.call(this, e),
+                    e.fire('tooltipclose', { tooltip: this }),
+                    this._source &&
+                        this._source.fire(
+                            'tooltipclose',
+                            { tooltip: this },
+                            !0
                         );
-                    },
-                    _initTooltipInteractions: function (e) {
-                        var t, i;
-                        (!e && this._tooltipHandlersAdded) ||
-                            ((t = e ? 'off' : 'on'),
-                            (i = {
+            },
+            getEvents: function () {
+                var e = dn.prototype.getEvents.call(this);
+                return (
+                    Ut && !this.options.permanent && (e.preclick = this._close),
+                    e
+                );
+            },
+            _close: function () {
+                this._map && this._map.closeTooltip(this);
+            },
+            _initLayout: function () {
+                var e =
+                    'leaflet-tooltip ' +
+                    (this.options.className || '') +
+                    ' leaflet-zoom-' +
+                    (this._zoomAnimated ? 'animated' : 'hide');
+                this._contentNode = this._container = G('div', e);
+            },
+            _updateLayout: function () {},
+            _adjustPan: function () {},
+            _setPosition: function (e) {
+                var t = this._map,
+                    i = this._container,
+                    n = t.latLngToContainerPoint(t.getCenter()),
+                    s = t.layerPointToContainerPoint(e),
+                    a = this.options.direction,
+                    o = i.offsetWidth,
+                    r = i.offsetHeight,
+                    l = w(this.options.offset),
+                    c = this._getAnchor();
+                'top' === a ? (e = e.add(w(-o / 2 + l.x, -r + l.y + c.y, !0)))
+                : 'bottom' === a ? (e = e.subtract(w(o / 2 - l.x, -l.y, !0)))
+                : 'center' === a ?
+                    (e = e.subtract(w(o / 2 + l.x, r / 2 - c.y + l.y, !0)))
+                : 'right' === a || ('auto' === a && s.x < n.x) ?
+                    ((a = 'right'),
+                    (e = e.add(w(l.x + c.x, c.y - r / 2 + l.y, !0))))
+                :   ((a = 'left'),
+                    (e = e.subtract(w(o + c.x - l.x, r / 2 - c.y - l.y, !0)))),
+                    ee(i, 'leaflet-tooltip-right'),
+                    ee(i, 'leaflet-tooltip-left'),
+                    ee(i, 'leaflet-tooltip-top'),
+                    ee(i, 'leaflet-tooltip-bottom'),
+                    X(i, 'leaflet-tooltip-' + a),
+                    re(i, e);
+            },
+            _updatePosition: function () {
+                var e = this._map.latLngToLayerPoint(this._latlng);
+                this._setPosition(e);
+            },
+            setOpacity: function (e) {
+                (this.options.opacity = e),
+                    this._container && ne(this._container, e);
+            },
+            _animateZoom: function (e) {
+                var t = this._map._latLngToNewLayerPoint(
+                    this._latlng,
+                    e.zoom,
+                    e.center
+                );
+                this._setPosition(t);
+            },
+            _getAnchor: function () {
+                return w(
+                    (
+                        this._source &&
+                            this._source._getTooltipAnchor &&
+                            !this.options.sticky
+                    ) ?
+                        this._source._getTooltipAnchor()
+                    :   [0, 0]
+                );
+            },
+        });
+        Ti.include({
+            openTooltip: function (e, t, i) {
+                return (
+                    e instanceof hn || (e = new hn(i).setContent(e)),
+                    t && e.setLatLng(t),
+                    this.hasLayer(e) ? this : this.addLayer(e)
+                );
+            },
+            closeTooltip: function (e) {
+                return e && this.removeLayer(e), this;
+            },
+        }),
+            Ui.include({
+                bindTooltip: function (e, t) {
+                    return (
+                        e instanceof hn ?
+                            (d(e, t), (this._tooltip = e), (e._source = this))
+                        :   ((this._tooltip && !t) ||
+                                (this._tooltip = new hn(t, this)),
+                            this._tooltip.setContent(e)),
+                        this._initTooltipInteractions(),
+                        this._tooltip.options.permanent &&
+                            this._map &&
+                            this._map.hasLayer(this) &&
+                            this.openTooltip(),
+                        this
+                    );
+                },
+                unbindTooltip: function () {
+                    return (
+                        this._tooltip &&
+                            (this._initTooltipInteractions(!0),
+                            this.closeTooltip(),
+                            (this._tooltip = null)),
+                        this
+                    );
+                },
+                _initTooltipInteractions: function (e) {
+                    if (e || !this._tooltipHandlersAdded) {
+                        var t = e ? 'off' : 'on',
+                            i = {
                                 remove: this.closeTooltip,
                                 move: this._moveTooltip,
-                            }),
-                            this._tooltip.options.permanent ?
-                                (i.add = this._openTooltip)
-                            :   ((i.mouseover = this._openTooltip),
-                                (i.mouseout = this.closeTooltip),
-                                (i.click = this._openTooltip),
-                                this._map ?
-                                    this._addFocusListeners()
-                                :   (i.add = this._addFocusListeners)),
+                            };
+                        this._tooltip.options.permanent ?
+                            (i.add = this._openTooltip)
+                        :   ((i.mouseover = this._openTooltip),
+                            (i.mouseout = this.closeTooltip),
                             this._tooltip.options.sticky &&
                                 (i.mousemove = this._moveTooltip),
+                            Ut && (i.click = this._openTooltip)),
                             this[t](i),
-                            (this._tooltipHandlersAdded = !e));
-                    },
-                    openTooltip: function (e) {
-                        return (
-                            this._tooltip &&
-                                (this instanceof ki ||
-                                    (this._tooltip._source = this),
-                                this._tooltip._prepareOpen(e) &&
-                                    (this._tooltip.openOn(this._map),
-                                    this.getElement ?
-                                        this._setAriaDescribedByOnLayer(this)
-                                    :   this.eachLayer &&
-                                        this.eachLayer(
-                                            this._setAriaDescribedByOnLayer,
-                                            this
-                                        ))),
-                            this
-                        );
-                    },
-                    closeTooltip: function () {
-                        if (this._tooltip) return this._tooltip.close();
-                    },
-                    toggleTooltip: function () {
-                        return (
-                            this._tooltip && this._tooltip.toggle(this), this
-                        );
-                    },
-                    isTooltipOpen: function () {
-                        return this._tooltip.isOpen();
-                    },
-                    setTooltipContent: function (e) {
-                        return (
-                            this._tooltip && this._tooltip.setContent(e), this
-                        );
-                    },
-                    getTooltip: function () {
-                        return this._tooltip;
-                    },
-                    _addFocusListeners: function () {
-                        this.getElement ?
-                            this._addFocusListenersOnLayer(this)
-                        :   this.eachLayer &&
-                            this.eachLayer(
-                                this._addFocusListenersOnLayer,
-                                this
-                            );
-                    },
-                    _addFocusListenersOnLayer: function (e) {
-                        var t =
-                            'function' == typeof e.getElement && e.getElement();
-                        t &&
-                            (ce(
-                                t,
-                                'focus',
-                                function () {
-                                    (this._tooltip._source = e),
-                                        this.openTooltip();
-                                },
-                                this
-                            ),
-                            ce(t, 'blur', this.closeTooltip, this));
-                    },
-                    _setAriaDescribedByOnLayer: function (e) {
-                        (e =
-                            'function' == typeof e.getElement &&
-                            e.getElement()) &&
-                            e.setAttribute(
-                                'aria-describedby',
-                                this._tooltip._container.id
-                            );
-                    },
-                    _openTooltip: function (e) {
-                        var t;
+                            (this._tooltipHandlersAdded = !e);
+                    }
+                },
+                openTooltip: function (e, t) {
+                    if (
+                        (e instanceof Ui || ((t = e), (e = this)),
+                        e instanceof Zi)
+                    )
+                        for (var i in this._layers) {
+                            e = this._layers[i];
+                            break;
+                        }
+                    return (
+                        t || (t = e.getCenter ? e.getCenter() : e.getLatLng()),
                         this._tooltip &&
                             this._map &&
-                            ((
-                                this._map.dragging &&
-                                this._map.dragging.moving() &&
-                                !this._openOnceFlag
-                            ) ?
-                                ((this._openOnceFlag = !0),
-                                (t = this)._map.once('moveend', function () {
-                                    (t._openOnceFlag = !1), t._openTooltip(e);
-                                }))
-                            :   ((this._tooltip._source = e.layer || e.target),
-                                this.openTooltip(
-                                    this._tooltip.options.sticky ?
-                                        e.latlng
-                                    :   void 0
-                                )));
-                    },
-                    _moveTooltip: function (e) {
-                        var t = e.latlng;
-                        this._tooltip.options.sticky &&
-                            e.originalEvent &&
-                            ((e = this._map.mouseEventToContainerPoint(
-                                e.originalEvent
-                            )),
-                            (e = this._map.containerPointToLayerPoint(e)),
-                            (t = this._map.layerPointToLatLng(e))),
-                            this._tooltip.setLatLng(t);
-                    },
-                }),
-                xi.extend({
-                    options: {
-                        iconSize: [12, 12],
-                        html: !1,
-                        bgPos: null,
-                        className: 'leaflet-div-icon',
-                    },
-                    createIcon: function (e) {
-                        e =
-                            e && 'DIV' === e.tagName ?
-                                e
-                            :   document.createElement('div');
-                        var t = this.options;
-                        return (
-                            t.html instanceof Element ?
-                                (W(e), e.appendChild(t.html))
-                            :   (e.innerHTML = !1 !== t.html ? t.html : ''),
-                            t.bgPos &&
-                                ((t = w(t.bgPos)),
-                                (e.style.backgroundPosition =
-                                    -t.x + 'px ' + -t.y + 'px')),
-                            this._setIconStyles(e, 'icon'),
-                            e
+                            ((this._tooltip._source = e),
+                            this._tooltip.update(),
+                            this._map.openTooltip(this._tooltip, t),
+                            this._tooltip.options.interactive &&
+                                this._tooltip._container &&
+                                (X(
+                                    this._tooltip._container,
+                                    'leaflet-clickable'
+                                ),
+                                this.addInteractiveTarget(
+                                    this._tooltip._container
+                                ))),
+                        this
+                    );
+                },
+                closeTooltip: function () {
+                    return (
+                        this._tooltip &&
+                            (this._tooltip._close(),
+                            this._tooltip.options.interactive &&
+                                this._tooltip._container &&
+                                (ee(
+                                    this._tooltip._container,
+                                    'leaflet-clickable'
+                                ),
+                                this.removeInteractiveTarget(
+                                    this._tooltip._container
+                                ))),
+                        this
+                    );
+                },
+                toggleTooltip: function (e) {
+                    return (
+                        this._tooltip &&
+                            (this._tooltip._map ?
+                                this.closeTooltip()
+                            :   this.openTooltip(e)),
+                        this
+                    );
+                },
+                isTooltipOpen: function () {
+                    return this._tooltip.isOpen();
+                },
+                setTooltipContent: function (e) {
+                    return this._tooltip && this._tooltip.setContent(e), this;
+                },
+                getTooltip: function () {
+                    return this._tooltip;
+                },
+                _openTooltip: function (e) {
+                    var t = e.layer || e.target;
+                    this._tooltip &&
+                        this._map &&
+                        this.openTooltip(
+                            t,
+                            this._tooltip.options.sticky ? e.latlng : void 0
                         );
-                    },
-                    createShadow: function () {
-                        return null;
-                    },
-                }));
-        xi.Default = Ti;
-        var Ni = Pt.extend({
+                },
+                _moveTooltip: function (e) {
+                    var t,
+                        i,
+                        n = e.latlng;
+                    this._tooltip.options.sticky &&
+                        e.originalEvent &&
+                        ((t = this._map.mouseEventToContainerPoint(
+                            e.originalEvent
+                        )),
+                        (i = this._map.containerPointToLayerPoint(t)),
+                        (n = this._map.layerPointToLatLng(i))),
+                        this._tooltip.setLatLng(n);
+                },
+            });
+        var pn = Ki.extend({
+            options: {
+                iconSize: [12, 12],
+                html: !1,
+                bgPos: null,
+                className: 'leaflet-div-icon',
+            },
+            createIcon: function (e) {
+                var t =
+                        e && 'DIV' === e.tagName ?
+                            e
+                        :   document.createElement('div'),
+                    i = this.options;
+                if (((t.innerHTML = !1 !== i.html ? i.html : ''), i.bgPos)) {
+                    var n = w(i.bgPos);
+                    t.style.backgroundPosition = -n.x + 'px ' + -n.y + 'px';
+                }
+                return this._setIconStyles(t, 'icon'), t;
+            },
+            createShadow: function () {
+                return null;
+            },
+        });
+        Ki.Default = Yi;
+        var mn = Ui.extend({
                 options: {
                     tileSize: 256,
                     opacity: 1,
-                    updateWhenIdle: Zt.mobile,
+                    updateWhenIdle: Ht,
                     updateWhenZooming: !0,
                     updateInterval: 200,
                     zIndex: 1,
@@ -64031,20 +62787,21 @@ Object.values ||
                     keepBuffer: 2,
                 },
                 initialize: function (e) {
-                    u(this, e);
+                    d(this, e);
                 },
                 onAdd: function () {
                     this._initContainer(),
                         (this._levels = {}),
                         (this._tiles = {}),
-                        this._resetView();
+                        this._resetView(),
+                        this._update();
                 },
                 beforeAdd: function (e) {
                     e._addZoomLimit(this);
                 },
                 onRemove: function (e) {
                     this._removeAllTiles(),
-                        $(this._container),
+                        Z(this._container),
                         e._removeZoomLimit(this),
                         (this._container = null),
                         (this._tileZoom = void 0);
@@ -64052,14 +62809,14 @@ Object.values ||
                 bringToFront: function () {
                     return (
                         this._map &&
-                            (V(this._container), this._setAutoZIndex(Math.max)),
+                            (Y(this._container), this._setAutoZIndex(Math.max)),
                         this
                     );
                 },
                 bringToBack: function () {
                     return (
                         this._map &&
-                            (U(this._container), this._setAutoZIndex(Math.min)),
+                            (J(this._container), this._setAutoZIndex(Math.min)),
                         this
                     );
                 },
@@ -64080,14 +62837,8 @@ Object.values ||
                     return this._loading;
                 },
                 redraw: function () {
-                    var e;
                     return (
-                        this._map &&
-                            (this._removeAllTiles(),
-                            (e = this._clampZoom(this._map.getZoom())) !==
-                                this._tileZoom &&
-                                ((this._tileZoom = e), this._updateLevels()),
-                            this._update()),
+                        this._map && (this._removeAllTiles(), this._update()),
                         this
                     );
                 },
@@ -64101,7 +62852,7 @@ Object.values ||
                     return (
                         this.options.updateWhenIdle ||
                             (this._onMove ||
-                                (this._onMove = a(
+                                (this._onMove = s(
                                     this._onMoveEnd,
                                     this.options.updateInterval,
                                     this
@@ -64141,39 +62892,37 @@ Object.values ||
                         this._updateZIndex());
                 },
                 _updateOpacity: function () {
-                    if (this._map && !Zt.ielt9) {
-                        Q(this._container, this.options.opacity);
-                        var e,
-                            t = +new Date(),
-                            i = !1,
-                            n = !1;
-                        for (e in this._tiles) {
-                            var s,
-                                a = this._tiles[e];
-                            a.current &&
-                                a.loaded &&
-                                ((s = Math.min(1, (t - a.loaded) / 200)),
-                                Q(a.el, s),
-                                s < 1 ?
-                                    (i = !0)
-                                :   (a.active ?
-                                        (n = !0)
-                                    :   this._onOpaqueTile(a),
-                                    (a.active = !0)));
+                    if (this._map && !xt) {
+                        ne(this._container, this.options.opacity);
+                        var e = +new Date(),
+                            t = !1,
+                            i = !1;
+                        for (var n in this._tiles) {
+                            var s = this._tiles[n];
+                            if (s.current && s.loaded) {
+                                var a = Math.min(1, (e - s.loaded) / 200);
+                                ne(s.el, a),
+                                    a < 1 ?
+                                        (t = !0)
+                                    :   (s.active ?
+                                            (i = !0)
+                                        :   this._onOpaqueTile(s),
+                                        (s.active = !0));
+                            }
                         }
-                        n && !this._noPrune && this._pruneTiles(),
-                            i &&
-                                (v(this._fadeFrame),
-                                (this._fadeFrame = g(
+                        i && !this._noPrune && this._pruneTiles(),
+                            t &&
+                                (g(this._fadeFrame),
+                                (this._fadeFrame = f(
                                     this._updateOpacity,
                                     this
                                 )));
                     }
                 },
-                _onOpaqueTile: r,
+                _onOpaqueTile: o,
                 _initContainer: function () {
                     this._container ||
-                        ((this._container = q(
+                        ((this._container = G(
                             'div',
                             'leaflet-layer ' + (this.options.className || '')
                         )),
@@ -64186,20 +62935,19 @@ Object.values ||
                         t = this.options.maxZoom;
                     if (void 0 !== e) {
                         for (var i in this._levels)
-                            (i = Number(i)),
-                                this._levels[i].el.children.length || i === e ?
-                                    ((this._levels[i].el.style.zIndex =
-                                        t - Math.abs(e - i)),
-                                    this._onUpdateLevel(i))
-                                :   ($(this._levels[i].el),
-                                    this._removeTilesAtZoom(i),
-                                    this._onRemoveLevel(i),
-                                    delete this._levels[i]);
+                            this._levels[i].el.children.length || i === e ?
+                                ((this._levels[i].el.style.zIndex =
+                                    t - Math.abs(e - i)),
+                                this._onUpdateLevel(i))
+                            :   (Z(this._levels[i].el),
+                                this._removeTilesAtZoom(i),
+                                this._onRemoveLevel(i),
+                                delete this._levels[i]);
                         var n = this._levels[e],
                             s = this._map;
                         return (
                             n ||
-                                (((n = this._levels[e] = {}).el = q(
+                                (((n = this._levels[e] = {}).el = G(
                                     'div',
                                     'leaflet-tile-container leaflet-zoom-animated',
                                     this._container
@@ -64214,45 +62962,45 @@ Object.values ||
                                     s.getCenter(),
                                     s.getZoom()
                                 ),
-                                r(n.el.offsetWidth),
+                                n.el.offsetWidth,
                                 this._onCreateLevel(n)),
-                            (this._level = n)
+                            (this._level = n),
+                            n
                         );
                     }
                 },
-                _onUpdateLevel: r,
-                _onRemoveLevel: r,
-                _onCreateLevel: r,
+                _onUpdateLevel: o,
+                _onRemoveLevel: o,
+                _onCreateLevel: o,
                 _pruneTiles: function () {
                     if (this._map) {
                         var e,
                             t,
-                            i,
-                            n = this._map.getZoom();
+                            i = this._map.getZoom();
                         if (
-                            n > this.options.maxZoom ||
-                            n < this.options.minZoom
+                            i > this.options.maxZoom ||
+                            i < this.options.minZoom
                         )
                             this._removeAllTiles();
                         else {
                             for (e in this._tiles)
-                                (i = this._tiles[e]).retain = i.current;
+                                (t = this._tiles[e]).retain = t.current;
                             for (e in this._tiles)
-                                (i = this._tiles[e]).current &&
-                                    !i.active &&
-                                    ((t = i.coords),
+                                if ((t = this._tiles[e]).current && !t.active) {
+                                    var n = t.coords;
                                     this._retainParent(
-                                        t.x,
-                                        t.y,
-                                        t.z,
-                                        t.z - 5
+                                        n.x,
+                                        n.y,
+                                        n.z,
+                                        n.z - 5
                                     ) ||
                                         this._retainChildren(
-                                            t.x,
-                                            t.y,
-                                            t.z,
-                                            t.z + 2
-                                        ));
+                                            n.x,
+                                            n.y,
+                                            n.z,
+                                            n.z + 2
+                                        );
+                                }
                             for (e in this._tiles)
                                 this._tiles[e].retain || this._removeTile(e);
                         }
@@ -64267,45 +63015,46 @@ Object.values ||
                 },
                 _invalidateAll: function () {
                     for (var e in this._levels)
-                        $(this._levels[e].el),
-                            this._onRemoveLevel(Number(e)),
+                        Z(this._levels[e].el),
+                            this._onRemoveLevel(e),
                             delete this._levels[e];
                     this._removeAllTiles(), (this._tileZoom = void 0);
                 },
                 _retainParent: function (e, t, i, n) {
-                    i -= 1;
-                    var s =
-                        (((s = new y(
-                            +(e = Math.floor(e / 2)),
-                            +(t = Math.floor(t / 2))
-                        )).z = i),
-                        this._tileCoordsToKey(s));
-                    return (s = this._tiles[s]) && s.active ?
-                            (s.retain = !0)
-                        :   (s && s.loaded && (s.retain = !0),
-                            n < i && this._retainParent(e, t, i, n));
+                    var s = Math.floor(e / 2),
+                        a = Math.floor(t / 2),
+                        o = i - 1,
+                        r = new y(+s, +a);
+                    r.z = +o;
+                    var l = this._tileCoordsToKey(r),
+                        c = this._tiles[l];
+                    return c && c.active ?
+                            ((c.retain = !0), !0)
+                        :   (c && c.loaded && (c.retain = !0),
+                            o > n && this._retainParent(s, a, o, n));
                 },
                 _retainChildren: function (e, t, i, n) {
                     for (var s = 2 * e; s < 2 * e + 2; s++)
                         for (var a = 2 * t; a < 2 * t + 2; a++) {
-                            var o =
-                                (((o = new y(s, a)).z = i + 1),
-                                this._tileCoordsToKey(o));
-                            (o = this._tiles[o]) && o.active ?
-                                (o.retain = !0)
-                            :   (o && o.loaded && (o.retain = !0),
+                            var o = new y(s, a);
+                            o.z = i + 1;
+                            var r = this._tileCoordsToKey(o),
+                                l = this._tiles[r];
+                            l && l.active ?
+                                (l.retain = !0)
+                            :   (l && l.loaded && (l.retain = !0),
                                 i + 1 < n &&
                                     this._retainChildren(s, a, i + 1, n));
                         }
                 },
                 _resetView: function (e) {
-                    (e = e && (e.pinch || e.flyTo)),
-                        this._setView(
-                            this._map.getCenter(),
-                            this._map.getZoom(),
-                            e,
-                            e
-                        );
+                    var t = e && (e.pinch || e.flyTo);
+                    this._setView(
+                        this._map.getCenter(),
+                        this._map.getZoom(),
+                        t,
+                        t
+                    );
                 },
                 _animateZoom: function (e) {
                     this._setView(e.center, e.zoom, !0, e.noUpdate);
@@ -64321,19 +63070,14 @@ Object.values ||
                     );
                 },
                 _setView: function (e, t, i, n) {
-                    var s = Math.round(t),
-                        a =
-                            ((s =
-                                (
-                                    (void 0 !== this.options.maxZoom &&
-                                        s > this.options.maxZoom) ||
-                                    (void 0 !== this.options.minZoom &&
-                                        s < this.options.minZoom)
-                                ) ?
-                                    void 0
-                                :   this._clampZoom(s)),
-                            this.options.updateWhenZooming &&
-                                s !== this._tileZoom);
+                    var s = this._clampZoom(Math.round(t));
+                    ((void 0 !== this.options.maxZoom &&
+                        s > this.options.maxZoom) ||
+                        (void 0 !== this.options.minZoom &&
+                            s < this.options.minZoom)) &&
+                        (s = void 0);
+                    var a =
+                        this.options.updateWhenZooming && s !== this._tileZoom;
                     (n && !a) ||
                         ((this._tileZoom = s),
                         this._abortLoading && this._abortLoading(),
@@ -64349,12 +63093,12 @@ Object.values ||
                         this._setZoomTransform(this._levels[i], e, t);
                 },
                 _setZoomTransform: function (e, t, i) {
-                    var n = this._map.getZoomScale(i, e.zoom);
-                    t = e.origin
-                        .multiplyBy(n)
-                        .subtract(this._map._getNewPixelOrigin(t, i))
-                        .round();
-                    Zt.any3d ? ee(e.el, t, n) : te(e.el, t);
+                    var n = this._map.getZoomScale(i, e.zoom),
+                        s = e.origin
+                            .multiplyBy(n)
+                            .subtract(this._map._getNewPixelOrigin(t, i))
+                            .round();
+                    Ft ? oe(e.el, s, n) : re(e.el, s);
                 },
                 _resetGrid: function () {
                     var e = this._map,
@@ -64386,34 +63130,33 @@ Object.values ||
                     this._map && !this._map._animatingZoom && this._update();
                 },
                 _getTiledPixelBounds: function (e) {
-                    var t =
-                            (i = this._map)._animatingZoom ?
-                                Math.max(i._animateToZoom, i.getZoom())
-                            :   i.getZoom(),
+                    var t = this._map,
                         i =
-                            ((t = i.getZoomScale(t, this._tileZoom)),
-                            (e = i.project(e, this._tileZoom).floor()),
-                            i.getSize().divideBy(2 * t));
-                    return new k(e.subtract(i), e.add(i));
+                            t._animatingZoom ?
+                                Math.max(t._animateToZoom, t.getZoom())
+                            :   t.getZoom(),
+                        n = t.getZoomScale(i, this._tileZoom),
+                        s = t.project(e, this._tileZoom).floor(),
+                        a = t.getSize().divideBy(2 * n);
+                    return new k(s.subtract(a), s.add(a));
                 },
                 _update: function (e) {
-                    if ((n = this._map)) {
-                        var t = this._clampZoom(n.getZoom());
+                    var t = this._map;
+                    if (t) {
+                        var i = this._clampZoom(t.getZoom());
                         if (
-                            (void 0 === e && (e = n.getCenter()),
+                            (void 0 === e && (e = t.getCenter()),
                             void 0 !== this._tileZoom)
                         ) {
-                            var i,
-                                n = this._getTiledPixelBounds(e),
+                            var n = this._getTiledPixelBounds(e),
                                 s = this._pxBoundsToTileRange(n),
                                 a = s.getCenter(),
                                 o = [],
-                                r =
-                                    ((n = this.options.keepBuffer),
-                                    new k(
-                                        s.getBottomLeft().subtract([n, -n]),
-                                        s.getTopRight().add([n, -n])
-                                    ));
+                                r = this.options.keepBuffer,
+                                l = new k(
+                                    s.getBottomLeft().subtract([r, -r]),
+                                    s.getTopRight().add([r, -r])
+                                );
                             if (
                                 !(
                                     isFinite(s.min.x) &&
@@ -64425,31 +63168,28 @@ Object.values ||
                                 throw new Error(
                                     'Attempted to load an infinite number of tiles'
                                 );
-                            for (i in this._tiles) {
-                                var l = this._tiles[i].coords;
-                                (l.z === this._tileZoom &&
-                                    r.contains(new y(l.x, l.y))) ||
-                                    (this._tiles[i].current = !1);
+                            for (var c in this._tiles) {
+                                var d = this._tiles[c].coords;
+                                (d.z === this._tileZoom &&
+                                    l.contains(new y(d.x, d.y))) ||
+                                    (this._tiles[c].current = !1);
                             }
-                            if (1 < Math.abs(t - this._tileZoom))
-                                this._setView(e, t);
+                            if (Math.abs(i - this._tileZoom) > 1)
+                                this._setView(e, i);
                             else {
-                                for (var c = s.min.y; c <= s.max.y; c++)
-                                    for (var d = s.min.x; d <= s.max.x; d++) {
-                                        var u,
-                                            h = new y(d, c);
-                                        (h.z = this._tileZoom),
-                                            this._isValidTile(h) &&
-                                                ((
-                                                    (u =
-                                                        this._tiles[
-                                                            this._tileCoordsToKey(
-                                                                h
-                                                            )
-                                                        ])
-                                                ) ?
-                                                    (u.current = !0)
-                                                :   o.push(h));
+                                for (var u = s.min.y; u <= s.max.y; u++)
+                                    for (var h = s.min.x; h <= s.max.x; h++) {
+                                        var p = new y(h, u);
+                                        if (
+                                            ((p.z = this._tileZoom),
+                                            this._isValidTile(p))
+                                        ) {
+                                            var m =
+                                                this._tiles[
+                                                    this._tileCoordsToKey(p)
+                                                ];
+                                            m ? (m.current = !0) : o.push(p);
+                                        }
                                     }
                                 if (
                                     (o.sort(function (e, t) {
@@ -64462,10 +63202,10 @@ Object.values ||
                                     this._loading ||
                                         ((this._loading = !0),
                                         this.fire('loading'));
-                                    var p = document.createDocumentFragment();
-                                    for (d = 0; d < o.length; d++)
-                                        this._addTile(o[d], p);
-                                    this._level.el.appendChild(p);
+                                    var _ = document.createDocumentFragment();
+                                    for (h = 0; h < o.length; h++)
+                                        this._addTile(o[h], _);
+                                    this._level.el.appendChild(_);
                                 }
                             }
                         }
@@ -64481,11 +63221,9 @@ Object.values ||
                         )
                             return !1;
                     }
-                    return (
-                        !this.options.bounds ||
-                        ((t = this._tileCoordsToBounds(e)),
-                        C(this.options.bounds).overlaps(t))
-                    );
+                    if (!this.options.bounds) return !0;
+                    var n = this._tileCoordsToBounds(e);
+                    return C(this.options.bounds).overlaps(n);
                 },
                 _keyToBounds: function (e) {
                     return this._tileCoordsToBounds(this._keyToTileCoords(e));
@@ -64493,27 +63231,31 @@ Object.values ||
                 _tileCoordsToNwSe: function (e) {
                     var t = this._map,
                         i = this.getTileSize(),
-                        n = e.scaleBy(i);
-                    i = n.add(i);
-                    return [t.unproject(n, e.z), t.unproject(i, e.z)];
+                        n = e.scaleBy(i),
+                        s = n.add(i);
+                    return [t.unproject(n, e.z), t.unproject(s, e.z)];
                 },
                 _tileCoordsToBounds: function (e) {
+                    var t = this._tileCoordsToNwSe(e),
+                        i = new T(t[0], t[1]);
                     return (
-                        (e = new T((e = this._tileCoordsToNwSe(e))[0], e[1])),
-                        this.options.noWrap ? e : this._map.wrapLatLngBounds(e)
+                        this.options.noWrap ||
+                            (i = this._map.wrapLatLngBounds(i)),
+                        i
                     );
                 },
                 _tileCoordsToKey: function (e) {
                     return e.x + ':' + e.y + ':' + e.z;
                 },
                 _keyToTileCoords: function (e) {
-                    var t = new y(+(e = e.split(':'))[0], +e[1]);
-                    return (t.z = +e[2]), t;
+                    var t = e.split(':'),
+                        i = new y(+t[0], +t[1]);
+                    return (i.z = +t[2]), i;
                 },
                 _removeTile: function (e) {
                     var t = this._tiles[e];
                     t &&
-                        ($(t.el),
+                        (Z(t.el),
                         delete this._tiles[e],
                         this.fire('tileunload', {
                             tile: t.el,
@@ -64521,55 +63263,58 @@ Object.values ||
                         }));
                 },
                 _initTile: function (e) {
-                    Z(e, 'leaflet-tile');
+                    X(e, 'leaflet-tile');
                     var t = this.getTileSize();
                     (e.style.width = t.x + 'px'),
                         (e.style.height = t.y + 'px'),
-                        (e.onselectstart = r),
-                        (e.onmousemove = r),
-                        Zt.ielt9 &&
+                        (e.onselectstart = o),
+                        (e.onmousemove = o),
+                        xt &&
                             this.options.opacity < 1 &&
-                            Q(e, this.options.opacity);
+                            ne(e, this.options.opacity),
+                        zt &&
+                            !St &&
+                            (e.style.WebkitBackfaceVisibility = 'hidden');
                 },
                 _addTile: function (e, t) {
-                    var i = this._getTilePos(e),
+                    var n = this._getTilePos(e),
                         s = this._tileCoordsToKey(e),
                         a = this.createTile(
                             this._wrapCoords(e),
-                            n(this._tileReady, this, e)
+                            i(this._tileReady, this, e)
                         );
                     this._initTile(a),
                         this.createTile.length < 2 &&
-                            g(n(this._tileReady, this, e, null, a)),
-                        te(a, i),
+                            f(i(this._tileReady, this, e, null, a)),
+                        re(a, n),
                         (this._tiles[s] = { el: a, coords: e, current: !0 }),
                         t.appendChild(a),
                         this.fire('tileloadstart', { tile: a, coords: e });
                 },
-                _tileReady: function (e, t, i) {
+                _tileReady: function (e, t, n) {
                     t &&
                         this.fire('tileerror', {
                             error: t,
-                            tile: i,
+                            tile: n,
                             coords: e,
                         });
                     var s = this._tileCoordsToKey(e);
-                    (i = this._tiles[s]) &&
-                        ((i.loaded = +new Date()),
+                    (n = this._tiles[s]) &&
+                        ((n.loaded = +new Date()),
                         this._map._fadeAnimated ?
-                            (Q(i.el, 0),
-                            v(this._fadeFrame),
-                            (this._fadeFrame = g(this._updateOpacity, this)))
-                        :   ((i.active = !0), this._pruneTiles()),
+                            (ne(n.el, 0),
+                            g(this._fadeFrame),
+                            (this._fadeFrame = f(this._updateOpacity, this)))
+                        :   ((n.active = !0), this._pruneTiles()),
                         t ||
-                            (Z(i.el, 'leaflet-tile-loaded'),
-                            this.fire('tileload', { tile: i.el, coords: e })),
+                            (X(n.el, 'leaflet-tile-loaded'),
+                            this.fire('tileload', { tile: n.el, coords: e })),
                         this._noTilesToLoad() &&
                             ((this._loading = !1),
                             this.fire('load'),
-                            Zt.ielt9 || !this._map._fadeAnimated ?
-                                g(this._pruneTiles, this)
-                            :   setTimeout(n(this._pruneTiles, this), 250)));
+                            xt || !this._map._fadeAnimated ?
+                                f(this._pruneTiles, this)
+                            :   setTimeout(i(this._pruneTiles, this), 250)));
                 },
                 _getTilePos: function (e) {
                     return e
@@ -64578,8 +63323,8 @@ Object.values ||
                 },
                 _wrapCoords: function (e) {
                     var t = new y(
-                        this._wrapX ? o(e.x, this._wrapX) : e.x,
-                        this._wrapY ? o(e.y, this._wrapY) : e.y
+                        this._wrapX ? a(e.x, this._wrapX) : e.x,
+                        this._wrapY ? a(e.y, this._wrapY) : e.y
                     );
                     return (t.z = e.z), t;
                 },
@@ -64596,7 +63341,7 @@ Object.values ||
                     return !0;
                 },
             }),
-            Hi = Ni.extend({
+            _n = mn.extend({
                 options: {
                     minZoom: 0,
                     maxZoom: 18,
@@ -64607,34 +63352,20 @@ Object.values ||
                     zoomReverse: !1,
                     detectRetina: !1,
                     crossOrigin: !1,
-                    referrerPolicy: !1,
                 },
                 initialize: function (e, t) {
                     (this._url = e),
-                        (
-                            (t = u(this, t)).detectRetina &&
-                            Zt.retina &&
-                            0 < t.maxZoom
-                        ) ?
+                        (t = d(this, t)).detectRetina &&
+                            Kt &&
+                            t.maxZoom > 0 &&
                             ((t.tileSize = Math.floor(t.tileSize / 2)),
                             t.zoomReverse ?
-                                (t.zoomOffset--,
-                                (t.minZoom = Math.min(
-                                    t.maxZoom,
-                                    t.minZoom + 1
-                                )))
-                            :   (t.zoomOffset++,
-                                (t.maxZoom = Math.max(
-                                    t.minZoom,
-                                    t.maxZoom - 1
-                                ))),
-                            (t.minZoom = Math.max(0, t.minZoom)))
-                        : t.zoomReverse ?
-                            (t.minZoom = Math.min(t.maxZoom, t.minZoom))
-                        :   (t.maxZoom = Math.max(t.minZoom, t.maxZoom)),
+                                (t.zoomOffset--, t.minZoom++)
+                            :   (t.zoomOffset++, t.maxZoom--),
+                            (t.minZoom = Math.max(0, t.minZoom))),
                         'string' == typeof t.subdomains &&
                             (t.subdomains = t.subdomains.split('')),
-                        this.on('tileunload', this._onTileRemove);
+                        zt || this.on('tileunload', this._onTileRemove);
                 },
                 setUrl: function (e, t) {
                     return (
@@ -64645,42 +63376,38 @@ Object.values ||
                     );
                 },
                 createTile: function (e, t) {
-                    var i = document.createElement('img');
+                    var n = document.createElement('img');
                     return (
-                        ce(i, 'load', n(this._tileOnLoad, this, t, i)),
-                        ce(i, 'error', n(this._tileOnError, this, t, i)),
-                        (!this.options.crossOrigin &&
-                            '' !== this.options.crossOrigin) ||
-                            (i.crossOrigin =
+                        _e(n, 'load', i(this._tileOnLoad, this, t, n)),
+                        _e(n, 'error', i(this._tileOnError, this, t, n)),
+                        (this.options.crossOrigin ||
+                            '' === this.options.crossOrigin) &&
+                            (n.crossOrigin =
                                 !0 === this.options.crossOrigin ?
                                     ''
                                 :   this.options.crossOrigin),
-                        'string' == typeof this.options.referrerPolicy &&
-                            (i.referrerPolicy = this.options.referrerPolicy),
-                        (i.alt = ''),
-                        (i.src = this.getTileUrl(e)),
-                        i
+                        (n.alt = ''),
+                        n.setAttribute('role', 'presentation'),
+                        (n.src = this.getTileUrl(e)),
+                        n
                     );
                 },
                 getTileUrl: function (e) {
                     var i = {
-                        r: Zt.retina ? '@2x' : '',
+                        r: Kt ? '@2x' : '',
                         s: this._getSubdomain(e),
                         x: e.x,
                         y: e.y,
                         z: this._getZoomForUrl(),
                     };
-                    return (
-                        this._map &&
-                            !this._map.options.crs.infinite &&
-                            ((e = this._globalTileRange.max.y - e.y),
-                            this.options.tms && (i.y = e),
-                            (i['-y'] = e)),
-                        p(this._url, t(i, this.options))
-                    );
+                    if (this._map && !this._map.options.crs.infinite) {
+                        var n = this._globalTileRange.max.y - e.y;
+                        this.options.tms && (i.y = n), (i['-y'] = n);
+                    }
+                    return h(this._url, t(i, this.options));
                 },
                 _tileOnLoad: function (e, t) {
-                    Zt.ielt9 ? setTimeout(n(e, this, null, t), 0) : e(null, t);
+                    xt ? setTimeout(i(e, this, null, t), 0) : e(null, t);
                 },
                 _tileOnError: function (e, t, i) {
                     var n = this.options.errorTileUrl;
@@ -64693,48 +63420,38 @@ Object.values ||
                     var e = this._tileZoom,
                         t = this.options.maxZoom;
                     return (
-                        (e = this.options.zoomReverse ? t - e : e) +
-                        this.options.zoomOffset
+                        this.options.zoomReverse && (e = t - e),
+                        e + this.options.zoomOffset
                     );
                 },
                 _getSubdomain: function (e) {
-                    return (
-                        (e =
-                            Math.abs(e.x + e.y) %
-                            this.options.subdomains.length),
-                        this.options.subdomains[e]
-                    );
+                    var t =
+                        Math.abs(e.x + e.y) % this.options.subdomains.length;
+                    return this.options.subdomains[t];
                 },
                 _abortLoading: function () {
-                    var e, t, i;
+                    var e, t;
                     for (e in this._tiles)
                         this._tiles[e].coords.z !== this._tileZoom &&
-                            (((i = this._tiles[e].el).onload = r),
-                            (i.onerror = r),
-                            i.complete ||
-                                ((i.src = Qe),
-                                (t = this._tiles[e].coords),
-                                $(i),
-                                delete this._tiles[e],
-                                this.fire('tileabort', {
-                                    tile: i,
-                                    coords: t,
-                                })));
+                            (((t = this._tiles[e].el).onload = o),
+                            (t.onerror = o),
+                            t.complete ||
+                                ((t.src = at), Z(t), delete this._tiles[e]));
                 },
                 _removeTile: function (e) {
                     var t = this._tiles[e];
                     if (t)
                         return (
-                            t.el.setAttribute('src', Qe),
-                            Ni.prototype._removeTile.call(this, e)
+                            Et || t.el.setAttribute('src', at),
+                            mn.prototype._removeTile.call(this, e)
                         );
                 },
                 _tileReady: function (e, t, i) {
-                    if (this._map && (!i || i.getAttribute('src') !== Qe))
-                        return Ni.prototype._tileReady.call(this, e, t, i);
+                    if (this._map && (!i || i.getAttribute('src') !== at))
+                        return mn.prototype._tileReady.call(this, e, t, i);
                 },
             }),
-            qi = Hi.extend({
+            fn = _n.extend({
                 defaultWmsParams: {
                     service: 'WMS',
                     request: 'GetMap',
@@ -64747,58 +63464,57 @@ Object.values ||
                 options: { crs: null, uppercase: !1 },
                 initialize: function (e, i) {
                     this._url = e;
-                    var n,
-                        s = t({}, this.defaultWmsParams);
-                    for (n in i) n in this.options || (s[n] = i[n]);
-                    e = (i = u(this, i)).detectRetina && Zt.retina ? 2 : 1;
-                    var a = this.getTileSize();
-                    (s.width = a.x * e),
-                        (s.height = a.y * e),
-                        (this.wmsParams = s);
+                    var n = t({}, this.defaultWmsParams);
+                    for (var s in i) s in this.options || (n[s] = i[s]);
+                    var a = (i = d(this, i)).detectRetina && Kt ? 2 : 1,
+                        o = this.getTileSize();
+                    (n.width = o.x * a),
+                        (n.height = o.y * a),
+                        (this.wmsParams = n);
                 },
                 onAdd: function (e) {
                     (this._crs = this.options.crs || e.options.crs),
                         (this._wmsVersion = parseFloat(this.wmsParams.version));
-                    var t = 1.3 <= this._wmsVersion ? 'crs' : 'srs';
+                    var t = this._wmsVersion >= 1.3 ? 'crs' : 'srs';
                     (this.wmsParams[t] = this._crs.code),
-                        Hi.prototype.onAdd.call(this, e);
+                        _n.prototype.onAdd.call(this, e);
                 },
                 getTileUrl: function (e) {
                     var t = this._tileCoordsToNwSe(e),
-                        i =
-                            ((t = (i = x(
-                                (i = this._crs).project(t[0]),
-                                i.project(t[1])
-                            )).min),
-                            i.max);
-                    t = (
-                        1.3 <= this._wmsVersion && this._crs === yi ?
-                            [t.y, t.x, i.y, i.x]
-                        :   [t.x, t.y, i.x, i.y]).join(',');
+                        i = this._crs,
+                        n = x(i.project(t[0]), i.project(t[1])),
+                        s = n.min,
+                        a = n.max,
+                        o = (
+                            this._wmsVersion >= 1.3 && this._crs === Wi ?
+                                [s.y, s.x, a.y, a.x]
+                            :   [s.x, s.y, a.x, a.y]).join(','),
+                        r = _n.prototype.getTileUrl.call(this, e);
                     return (
-                        (i = Hi.prototype.getTileUrl.call(this, e)) +
-                        h(this.wmsParams, i, this.options.uppercase) +
+                        r +
+                        u(this.wmsParams, r, this.options.uppercase) +
                         (this.options.uppercase ? '&BBOX=' : '&bbox=') +
-                        t
+                        o
                     );
                 },
                 setParams: function (e, i) {
                     return t(this.wmsParams, e), i || this.redraw(), this;
                 },
             });
-        (Hi.WMS = qi),
-            (Ve.wms = function (e, t) {
-                return new qi(e, t);
+        (_n.WMS = fn),
+            (Je.wms = function (e, t) {
+                return new fn(e, t);
             });
-        var $i = Pt.extend({
-                options: { padding: 0.1 },
+        var gn = Ui.extend({
+                options: { padding: 0.1, tolerance: 0 },
                 initialize: function (e) {
-                    u(this, e), s(this), (this._layers = this._layers || {});
+                    d(this, e), n(this), (this._layers = this._layers || {});
                 },
                 onAdd: function () {
                     this._container ||
                         (this._initContainer(),
-                        Z(this._container, 'leaflet-zoom-animated')),
+                        this._zoomAnimated &&
+                            X(this._container, 'leaflet-zoom-animated')),
                         this.getPane().appendChild(this._container),
                         this._update(),
                         this.on('update', this._updatePaths, this);
@@ -64829,17 +63545,14 @@ Object.values ||
                 },
                 _updateTransform: function (e, t) {
                     var i = this._map.getZoomScale(t, this._zoom),
-                        n = this._map
+                        n = le(this._container),
+                        s = this._map
                             .getSize()
                             .multiplyBy(0.5 + this.options.padding),
-                        s = this._map.project(this._center, t);
-                    n = n
-                        .multiplyBy(-i)
-                        .add(s)
-                        .subtract(this._map._getNewPixelOrigin(e, t));
-                    Zt.any3d ?
-                        ee(this._container, n, i)
-                    :   te(this._container, n);
+                        a = this._map.project(this._center, t),
+                        o = this._map.project(e, t).subtract(a),
+                        r = s.multiplyBy(-i).add(n).add(s).subtract(o);
+                    Ft ? oe(this._container, r, i) : re(this._container, r);
                 },
                 _reset: function () {
                     for (var e in (this._update(),
@@ -64867,37 +63580,35 @@ Object.values ||
                         (this._zoom = this._map.getZoom());
                 },
             }),
-            Wi = $i.extend({
-                options: { tolerance: 0 },
+            vn = gn.extend({
                 getEvents: function () {
-                    var e = $i.prototype.getEvents.call(this);
+                    var e = gn.prototype.getEvents.call(this);
                     return (e.viewprereset = this._onViewPreReset), e;
                 },
                 _onViewPreReset: function () {
                     this._postponeUpdatePaths = !0;
                 },
                 onAdd: function () {
-                    $i.prototype.onAdd.call(this), this._draw();
+                    gn.prototype.onAdd.call(this), this._draw();
                 },
                 _initContainer: function () {
                     var e = (this._container =
                         document.createElement('canvas'));
-                    ce(e, 'mousemove', this._onMouseMove, this),
-                        ce(
+                    _e(e, 'mousemove', s(this._onMouseMove, 32, this), this),
+                        _e(
                             e,
                             'click dblclick mousedown mouseup contextmenu',
                             this._onClick,
                             this
                         ),
-                        ce(e, 'mouseout', this._handleMouseOut, this),
-                        (e._leaflet_disable_events = !0),
+                        _e(e, 'mouseout', this._handleMouseOut, this),
                         (this._ctx = e.getContext('2d'));
                 },
                 _destroyContainer: function () {
-                    v(this._redrawRequest),
+                    g(this._redrawRequest),
                         delete this._ctx,
-                        $(this._container),
-                        de(this._container),
+                        Z(this._container),
+                        fe(this._container),
                         delete this._container;
                 },
                 _updatePaths: function () {
@@ -64909,46 +63620,50 @@ Object.values ||
                     }
                 },
                 _update: function () {
-                    var e, t, i, n;
-                    (this._map._animatingZoom && this._bounds) ||
-                        ($i.prototype._update.call(this),
-                        (e = this._bounds),
-                        (t = this._container),
-                        (i = e.getSize()),
-                        (n = Zt.retina ? 2 : 1),
-                        te(t, e.min),
-                        (t.width = n * i.x),
-                        (t.height = n * i.y),
-                        (t.style.width = i.x + 'px'),
-                        (t.style.height = i.y + 'px'),
-                        Zt.retina && this._ctx.scale(2, 2),
-                        this._ctx.translate(-e.min.x, -e.min.y),
-                        this.fire('update'));
+                    if (!this._map._animatingZoom || !this._bounds) {
+                        gn.prototype._update.call(this);
+                        var e = this._bounds,
+                            t = this._container,
+                            i = e.getSize(),
+                            n = Kt ? 2 : 1;
+                        re(t, e.min),
+                            (t.width = n * i.x),
+                            (t.height = n * i.y),
+                            (t.style.width = i.x + 'px'),
+                            (t.style.height = i.y + 'px'),
+                            Kt && this._ctx.scale(2, 2),
+                            this._ctx.translate(-e.min.x, -e.min.y),
+                            this.fire('update');
+                    }
                 },
                 _reset: function () {
-                    $i.prototype._reset.call(this),
+                    gn.prototype._reset.call(this),
                         this._postponeUpdatePaths &&
                             ((this._postponeUpdatePaths = !1),
                             this._updatePaths());
                 },
                 _initPath: function (e) {
-                    this._updateDashArray(e),
-                        (e = (this._layers[s(e)] = e)._order =
-                            { layer: e, prev: this._drawLast, next: null }),
-                        this._drawLast && (this._drawLast.next = e),
-                        (this._drawLast = e),
+                    this._updateDashArray(e), (this._layers[n(e)] = e);
+                    var t = (e._order = {
+                        layer: e,
+                        prev: this._drawLast,
+                        next: null,
+                    });
+                    this._drawLast && (this._drawLast.next = t),
+                        (this._drawLast = t),
                         (this._drawFirst = this._drawFirst || this._drawLast);
                 },
                 _addPath: function (e) {
                     this._requestRedraw(e);
                 },
                 _removePath: function (e) {
-                    var t = (i = e._order).next,
-                        i = i.prev;
-                    t ? (t.prev = i) : (this._drawLast = i),
-                        i ? (i.next = t) : (this._drawFirst = t),
+                    var t = e._order,
+                        i = t.next,
+                        s = t.prev;
+                    i ? (i.prev = s) : (this._drawLast = s),
+                        s ? (s.next = i) : (this._drawFirst = i),
                         delete e._order,
-                        delete this._layers[s(e)],
+                        delete this._layers[n(e)],
                         this._requestRedraw(e);
                 },
                 _updatePath: function (e) {
@@ -64962,35 +63677,34 @@ Object.values ||
                 },
                 _updateDashArray: function (e) {
                     if ('string' == typeof e.options.dashArray) {
-                        for (
-                            var t,
-                                i = e.options.dashArray.split(/[, ]+/),
-                                n = [],
-                                s = 0;
-                            s < i.length;
-                            s++
-                        ) {
-                            if (((t = Number(i[s])), isNaN(t))) return;
-                            n.push(t);
+                        var t,
+                            i,
+                            n = e.options.dashArray.split(/[, ]+/),
+                            s = [];
+                        for (i = 0; i < n.length; i++) {
+                            if (((t = Number(n[i])), isNaN(t))) return;
+                            s.push(t);
                         }
-                        e.options._dashArray = n;
+                        e.options._dashArray = s;
                     } else e.options._dashArray = e.options.dashArray;
                 },
                 _requestRedraw: function (e) {
                     this._map &&
                         (this._extendRedrawBounds(e),
                         (this._redrawRequest =
-                            this._redrawRequest || g(this._redraw, this)));
+                            this._redrawRequest || f(this._redraw, this)));
                 },
                 _extendRedrawBounds: function (e) {
-                    var t;
-                    e._pxBounds &&
-                        ((t = (e.options.weight || 0) + 1),
+                    if (e._pxBounds) {
+                        var t = (e.options.weight || 0) + 1;
                         (this._redrawBounds = this._redrawBounds || new k()),
-                        this._redrawBounds.extend(
-                            e._pxBounds.min.subtract([t, t])
-                        ),
-                        this._redrawBounds.extend(e._pxBounds.max.add([t, t])));
+                            this._redrawBounds.extend(
+                                e._pxBounds.min.subtract([t, t])
+                            ),
+                            this._redrawBounds.extend(
+                                e._pxBounds.max.add([t, t])
+                            );
+                    }
                 },
                 _redraw: function () {
                     (this._redrawRequest = null),
@@ -65002,36 +63716,32 @@ Object.values ||
                         (this._redrawBounds = null);
                 },
                 _clear: function () {
-                    var e,
-                        t = this._redrawBounds;
-                    t ?
-                        ((e = t.getSize()),
-                        this._ctx.clearRect(t.min.x, t.min.y, e.x, e.y))
-                    :   (this._ctx.save(),
-                        this._ctx.setTransform(1, 0, 0, 1, 0, 0),
+                    var e = this._redrawBounds;
+                    if (e) {
+                        var t = e.getSize();
+                        this._ctx.clearRect(e.min.x, e.min.y, t.x, t.y);
+                    } else
                         this._ctx.clearRect(
                             0,
                             0,
                             this._container.width,
                             this._container.height
-                        ),
-                        this._ctx.restore());
+                        );
                 },
                 _draw: function () {
                     var e,
-                        t,
-                        i = this._redrawBounds;
-                    this._ctx.save(),
-                        i &&
-                            ((t = i.getSize()),
-                            this._ctx.beginPath(),
-                            this._ctx.rect(i.min.x, i.min.y, t.x, t.y),
-                            this._ctx.clip()),
-                        (this._drawing = !0);
+                        t = this._redrawBounds;
+                    if ((this._ctx.save(), t)) {
+                        var i = t.getSize();
+                        this._ctx.beginPath(),
+                            this._ctx.rect(t.min.x, t.min.y, i.x, i.y),
+                            this._ctx.clip();
+                    }
+                    this._drawing = !0;
                     for (var n = this._drawFirst; n; n = n.next)
                         (e = n.layer),
-                            (!i ||
-                                (e._pxBounds && e._pxBounds.intersects(i))) &&
+                            (!t ||
+                                (e._pxBounds && e._pxBounds.intersects(t))) &&
                                 e._updatePath();
                     (this._drawing = !1), this._ctx.restore();
                 },
@@ -65056,20 +63766,17 @@ Object.values ||
                     }
                 },
                 _updateCircle: function (e) {
-                    var t, i, n, s;
-                    this._drawing &&
-                        !e._empty() &&
-                        ((t = e._point),
-                        (i = this._ctx),
-                        (n = Math.max(Math.round(e._radius), 1)),
-                        1 !=
-                            (s =
-                                (Math.max(Math.round(e._radiusY), 1) || n) /
-                                n) && (i.save(), i.scale(1, s)),
-                        i.beginPath(),
-                        i.arc(t.x, t.y / s, n, 0, 2 * Math.PI, !1),
-                        1 != s && i.restore(),
-                        this._fillStroke(i, e));
+                    if (this._drawing && !e._empty()) {
+                        var t = e._point,
+                            i = this._ctx,
+                            n = Math.max(Math.round(e._radius), 1),
+                            s = (Math.max(Math.round(e._radiusY), 1) || n) / n;
+                        1 !== s && (i.save(), i.scale(1, s)),
+                            i.beginPath(),
+                            i.arc(t.x, t.y / s, n, 0, 2 * Math.PI, !1),
+                            1 !== s && i.restore(),
+                            this._fillStroke(i, e);
+                    }
                 },
                 _fillStroke: function (e, t) {
                     var i = t.options;
@@ -65101,89 +63808,76 @@ Object.values ||
                     )
                         (t = s.layer).options.interactive &&
                             t._containsPoint(n) &&
-                            ((('click' === e.type || 'preclick' === e.type) &&
-                                this._map._draggableMoved(t)) ||
-                                (i = t));
-                    this._fireEvent(!!i && [i], e);
+                            !this._map._draggableMoved(t) &&
+                            (i = t);
+                    i && (ze(e), this._fireEvent([i], e));
                 },
                 _onMouseMove: function (e) {
-                    var t;
-                    !this._map ||
-                        this._map.dragging.moving() ||
-                        this._map._animatingZoom ||
-                        ((t = this._map.mouseEventToLayerPoint(e)),
-                        this._handleMouseHover(e, t));
+                    if (
+                        this._map &&
+                        !this._map.dragging.moving() &&
+                        !this._map._animatingZoom
+                    ) {
+                        var t = this._map.mouseEventToLayerPoint(e);
+                        this._handleMouseHover(e, t);
+                    }
                 },
                 _handleMouseOut: function (e) {
                     var t = this._hoveredLayer;
                     t &&
-                        (K(this._container, 'leaflet-interactive'),
+                        (ee(this._container, 'leaflet-interactive'),
                         this._fireEvent([t], e, 'mouseout'),
-                        (this._hoveredLayer = null),
-                        (this._mouseHoverThrottled = !1));
+                        (this._hoveredLayer = null));
                 },
                 _handleMouseHover: function (e, t) {
-                    if (!this._mouseHoverThrottled) {
-                        for (var i, s, a = this._drawFirst; a; a = a.next)
-                            (i = a.layer).options.interactive &&
-                                i._containsPoint(t) &&
-                                (s = i);
-                        s !== this._hoveredLayer &&
-                            (this._handleMouseOut(e),
-                            s &&
-                                (Z(this._container, 'leaflet-interactive'),
-                                this._fireEvent([s], e, 'mouseover'),
-                                (this._hoveredLayer = s))),
-                            this._fireEvent(
-                                !!this._hoveredLayer && [this._hoveredLayer],
-                                e
-                            ),
-                            (this._mouseHoverThrottled = !0),
-                            setTimeout(
-                                n(function () {
-                                    this._mouseHoverThrottled = !1;
-                                }, this),
-                                32
-                            );
-                    }
+                    for (var i, n, s = this._drawFirst; s; s = s.next)
+                        (i = s.layer).options.interactive &&
+                            i._containsPoint(t) &&
+                            (n = i);
+                    n !== this._hoveredLayer &&
+                        (this._handleMouseOut(e),
+                        n &&
+                            (X(this._container, 'leaflet-interactive'),
+                            this._fireEvent([n], e, 'mouseover'),
+                            (this._hoveredLayer = n))),
+                        this._hoveredLayer &&
+                            this._fireEvent([this._hoveredLayer], e);
                 },
                 _fireEvent: function (e, t, i) {
                     this._map._fireDOMEvent(t, i || t.type, e);
                 },
                 _bringToFront: function (e) {
-                    var t,
-                        i,
-                        n = e._order;
-                    n &&
-                        ((t = n.next),
-                        (i = n.prev),
-                        t &&
-                            ((t.prev = i) ?
-                                (i.next = t)
-                            :   t && (this._drawFirst = t),
-                            (n.prev = this._drawLast),
-                            ((this._drawLast.next = n).next = null),
-                            (this._drawLast = n),
-                            this._requestRedraw(e)));
+                    var t = e._order;
+                    if (t) {
+                        var i = t.next,
+                            n = t.prev;
+                        i &&
+                            ((i.prev = n),
+                            n ? (n.next = i) : i && (this._drawFirst = i),
+                            (t.prev = this._drawLast),
+                            (this._drawLast.next = t),
+                            (t.next = null),
+                            (this._drawLast = t),
+                            this._requestRedraw(e));
+                    }
                 },
                 _bringToBack: function (e) {
-                    var t,
-                        i,
-                        n = e._order;
-                    n &&
-                        ((t = n.next),
-                        (i = n.prev) &&
-                            ((i.next = t) ?
-                                (t.prev = i)
-                            :   i && (this._drawLast = i),
-                            (n.prev = null),
-                            (n.next = this._drawFirst),
-                            (this._drawFirst.prev = n),
-                            (this._drawFirst = n),
-                            this._requestRedraw(e)));
+                    var t = e._order;
+                    if (t) {
+                        var i = t.next,
+                            n = t.prev;
+                        n &&
+                            ((n.next = i),
+                            i ? (i.prev = n) : n && (this._drawLast = n),
+                            (t.prev = null),
+                            (t.next = this._drawFirst),
+                            (this._drawFirst.prev = t),
+                            (this._drawFirst = t),
+                            this._requestRedraw(e));
+                    }
                 },
             }),
-            Vi = (function () {
+            bn = (function () {
                 try {
                     return (
                         document.namespaces.add(
@@ -65196,148 +63890,148 @@ Object.values ||
                             );
                         }
                     );
-                } catch (e) {}
-                return function (e) {
-                    return document.createElement(
-                        '<' +
-                            e +
-                            ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">'
-                    );
-                };
-            })(),
-            Ui =
-                ((Dt = {
-                    _initContainer: function () {
-                        this._container = q('div', 'leaflet-vml-container');
-                    },
-                    _update: function () {
-                        this._map._animatingZoom ||
-                            ($i.prototype._update.call(this),
-                            this.fire('update'));
-                    },
-                    _initPath: function (e) {
-                        var t = (e._container = Vi('shape'));
-                        Z(
-                            t,
-                            'leaflet-vml-shape ' +
-                                (this.options.className || '')
-                        ),
-                            (t.coordsize = '1 1'),
-                            (e._path = Vi('path')),
-                            t.appendChild(e._path),
-                            this._updateStyle(e),
-                            (this._layers[s(e)] = e);
-                    },
-                    _addPath: function (e) {
-                        var t = e._container;
-                        this._container.appendChild(t),
-                            e.options.interactive && e.addInteractiveTarget(t);
-                    },
-                    _removePath: function (e) {
-                        var t = e._container;
-                        $(t),
-                            e.removeInteractiveTarget(t),
-                            delete this._layers[s(e)];
-                    },
-                    _updateStyle: function (e) {
-                        var t = e._stroke,
-                            i = e._fill,
-                            n = e.options,
-                            s = e._container;
-                        (s.stroked = !!n.stroke),
-                            (s.filled = !!n.fill),
-                            n.stroke ?
-                                ((t = t || (e._stroke = Vi('stroke'))),
-                                s.appendChild(t),
-                                (t.weight = n.weight + 'px'),
-                                (t.color = n.color),
-                                (t.opacity = n.opacity),
-                                n.dashArray ?
-                                    (t.dashStyle =
-                                        Je(n.dashArray) ?
-                                            n.dashArray.join(' ')
-                                        :   n.dashArray.replace(
-                                                /( *, *)/g,
-                                                ' '
-                                            ))
-                                :   (t.dashStyle = ''),
-                                (t.endcap = n.lineCap.replace('butt', 'flat')),
-                                (t.joinstyle = n.lineJoin))
-                            :   t && (s.removeChild(t), (e._stroke = null)),
-                            n.fill ?
-                                ((i = i || (e._fill = Vi('fill'))),
-                                s.appendChild(i),
-                                (i.color = n.fillColor || n.color),
-                                (i.opacity = n.fillOpacity))
-                            :   i && (s.removeChild(i), (e._fill = null));
-                    },
-                    _updateCircle: function (e) {
-                        var t = e._point.round(),
-                            i = Math.round(e._radius),
-                            n = Math.round(e._radiusY || i);
-                        this._setPath(
-                            e,
-                            e._empty() ? 'M0 0' : (
-                                'AL ' +
-                                    t.x +
-                                    ',' +
-                                    t.y +
-                                    ' ' +
-                                    i +
-                                    ',' +
-                                    n +
-                                    ' 0,23592600'
-                            )
+                } catch (e) {
+                    return function (e) {
+                        return document.createElement(
+                            '<' +
+                                e +
+                                ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">'
                         );
-                    },
-                    _setPath: function (e, t) {
-                        e._path.v = t;
-                    },
-                    _bringToFront: function (e) {
-                        V(e._container);
-                    },
-                    _bringToBack: function (e) {
-                        U(e._container);
-                    },
-                }),
-                Zt.vml ? Vi : P),
-            Gi = $i.extend({
+                    };
+                }
+            })(),
+            yn = {
                 _initContainer: function () {
-                    (this._container = Ui('svg')),
+                    this._container = G('div', 'leaflet-vml-container');
+                },
+                _update: function () {
+                    this._map._animatingZoom ||
+                        (gn.prototype._update.call(this), this.fire('update'));
+                },
+                _initPath: function (e) {
+                    var t = (e._container = bn('shape'));
+                    X(t, 'leaflet-vml-shape ' + (this.options.className || '')),
+                        (t.coordsize = '1 1'),
+                        (e._path = bn('path')),
+                        t.appendChild(e._path),
+                        this._updateStyle(e),
+                        (this._layers[n(e)] = e);
+                },
+                _addPath: function (e) {
+                    var t = e._container;
+                    this._container.appendChild(t),
+                        e.options.interactive && e.addInteractiveTarget(t);
+                },
+                _removePath: function (e) {
+                    var t = e._container;
+                    Z(t),
+                        e.removeInteractiveTarget(t),
+                        delete this._layers[n(e)];
+                },
+                _updateStyle: function (e) {
+                    var t = e._stroke,
+                        i = e._fill,
+                        n = e.options,
+                        s = e._container;
+                    (s.stroked = !!n.stroke),
+                        (s.filled = !!n.fill),
+                        n.stroke ?
+                            (t || (t = e._stroke = bn('stroke')),
+                            s.appendChild(t),
+                            (t.weight = n.weight + 'px'),
+                            (t.color = n.color),
+                            (t.opacity = n.opacity),
+                            n.dashArray ?
+                                (t.dashStyle =
+                                    st(n.dashArray) ?
+                                        n.dashArray.join(' ')
+                                    :   n.dashArray.replace(/( *, *)/g, ' '))
+                            :   (t.dashStyle = ''),
+                            (t.endcap = n.lineCap.replace('butt', 'flat')),
+                            (t.joinstyle = n.lineJoin))
+                        :   t && (s.removeChild(t), (e._stroke = null)),
+                        n.fill ?
+                            (i || (i = e._fill = bn('fill')),
+                            s.appendChild(i),
+                            (i.color = n.fillColor || n.color),
+                            (i.opacity = n.fillOpacity))
+                        :   i && (s.removeChild(i), (e._fill = null));
+                },
+                _updateCircle: function (e) {
+                    var t = e._point.round(),
+                        i = Math.round(e._radius),
+                        n = Math.round(e._radiusY || i);
+                    this._setPath(
+                        e,
+                        e._empty() ? 'M0 0' : (
+                            'AL ' +
+                                t.x +
+                                ',' +
+                                t.y +
+                                ' ' +
+                                i +
+                                ',' +
+                                n +
+                                ' 0,23592600'
+                        )
+                    );
+                },
+                _setPath: function (e, t) {
+                    e._path.v = t;
+                },
+                _bringToFront: function (e) {
+                    Y(e._container);
+                },
+                _bringToBack: function (e) {
+                    J(e._container);
+                },
+            },
+            wn = Qt ? bn : P,
+            kn = gn.extend({
+                getEvents: function () {
+                    var e = gn.prototype.getEvents.call(this);
+                    return (e.zoomstart = this._onZoomStart), e;
+                },
+                _initContainer: function () {
+                    (this._container = wn('svg')),
                         this._container.setAttribute('pointer-events', 'none'),
-                        (this._rootGroup = Ui('g')),
+                        (this._rootGroup = wn('g')),
                         this._container.appendChild(this._rootGroup);
                 },
                 _destroyContainer: function () {
-                    $(this._container),
-                        de(this._container),
+                    Z(this._container),
+                        fe(this._container),
                         delete this._container,
                         delete this._rootGroup,
                         delete this._svgSize;
                 },
+                _onZoomStart: function () {
+                    this._update();
+                },
                 _update: function () {
-                    var e, t, i;
-                    (this._map._animatingZoom && this._bounds) ||
-                        ($i.prototype._update.call(this),
-                        (t = (e = this._bounds).getSize()),
-                        (i = this._container),
+                    if (!this._map._animatingZoom || !this._bounds) {
+                        gn.prototype._update.call(this);
+                        var e = this._bounds,
+                            t = e.getSize(),
+                            i = this._container;
                         (this._svgSize && this._svgSize.equals(t)) ||
                             ((this._svgSize = t),
                             i.setAttribute('width', t.x),
                             i.setAttribute('height', t.y)),
-                        te(i, e.min),
-                        i.setAttribute(
-                            'viewBox',
-                            [e.min.x, e.min.y, t.x, t.y].join(' ')
-                        ),
-                        this.fire('update'));
+                            re(i, e.min),
+                            i.setAttribute(
+                                'viewBox',
+                                [e.min.x, e.min.y, t.x, t.y].join(' ')
+                            ),
+                            this.fire('update');
+                    }
                 },
                 _initPath: function (e) {
-                    var t = (e._path = Ui('path'));
-                    e.options.className && Z(t, e.options.className),
-                        e.options.interactive && Z(t, 'leaflet-interactive'),
+                    var t = (e._path = wn('path'));
+                    e.options.className && X(t, e.options.className),
+                        e.options.interactive && X(t, 'leaflet-interactive'),
                         this._updateStyle(e),
-                        (this._layers[s(e)] = e);
+                        (this._layers[n(e)] = e);
                 },
                 _addPath: function (e) {
                     this._rootGroup || this._initContainer(),
@@ -65345,39 +64039,39 @@ Object.values ||
                         e.addInteractiveTarget(e._path);
                 },
                 _removePath: function (e) {
-                    $(e._path),
+                    Z(e._path),
                         e.removeInteractiveTarget(e._path),
-                        delete this._layers[s(e)];
+                        delete this._layers[n(e)];
                 },
                 _updatePath: function (e) {
                     e._project(), e._update();
                 },
                 _updateStyle: function (e) {
-                    var t = e._path;
-                    e = e.options;
+                    var t = e._path,
+                        i = e.options;
                     t &&
-                        (e.stroke ?
-                            (t.setAttribute('stroke', e.color),
-                            t.setAttribute('stroke-opacity', e.opacity),
-                            t.setAttribute('stroke-width', e.weight),
-                            t.setAttribute('stroke-linecap', e.lineCap),
-                            t.setAttribute('stroke-linejoin', e.lineJoin),
-                            e.dashArray ?
-                                t.setAttribute('stroke-dasharray', e.dashArray)
+                        (i.stroke ?
+                            (t.setAttribute('stroke', i.color),
+                            t.setAttribute('stroke-opacity', i.opacity),
+                            t.setAttribute('stroke-width', i.weight),
+                            t.setAttribute('stroke-linecap', i.lineCap),
+                            t.setAttribute('stroke-linejoin', i.lineJoin),
+                            i.dashArray ?
+                                t.setAttribute('stroke-dasharray', i.dashArray)
                             :   t.removeAttribute('stroke-dasharray'),
-                            e.dashOffset ?
+                            i.dashOffset ?
                                 t.setAttribute(
                                     'stroke-dashoffset',
-                                    e.dashOffset
+                                    i.dashOffset
                                 )
                             :   t.removeAttribute('stroke-dashoffset'))
                         :   t.setAttribute('stroke', 'none'),
-                        e.fill ?
-                            (t.setAttribute('fill', e.fillColor || e.color),
-                            t.setAttribute('fill-opacity', e.fillOpacity),
+                        i.fill ?
+                            (t.setAttribute('fill', i.fillColor || i.color),
+                            t.setAttribute('fill-opacity', i.fillOpacity),
                             t.setAttribute(
                                 'fill-rule',
-                                e.fillRule || 'evenodd'
+                                i.fillRule || 'evenodd'
                             ))
                         :   t.setAttribute('fill', 'none'));
                 },
@@ -65392,65 +64086,63 @@ Object.values ||
                             i +
                             ',' +
                             (Math.max(Math.round(e._radiusY), 1) || i) +
-                            ' 0 1,0 ';
-                    t =
-                        e._empty() ? 'M0 0' : (
-                            'M' +
-                            (t.x - i) +
-                            ',' +
-                            t.y +
-                            n +
-                            2 * i +
-                            ',0 ' +
-                            n +
-                            2 * -i +
-                            ',0 '
-                        );
-                    this._setPath(e, t);
+                            ' 0 1,0 ',
+                        s =
+                            e._empty() ? 'M0 0' : (
+                                'M' +
+                                (t.x - i) +
+                                ',' +
+                                t.y +
+                                n +
+                                2 * i +
+                                ',0 ' +
+                                n +
+                                2 * -i +
+                                ',0 '
+                            );
+                    this._setPath(e, s);
                 },
                 _setPath: function (e, t) {
                     e._path.setAttribute('d', t);
                 },
                 _bringToFront: function (e) {
-                    V(e._path);
+                    Y(e._path);
                 },
                 _bringToBack: function (e) {
-                    U(e._path);
+                    J(e._path);
                 },
             });
-        Zt.vml && Gi.include(Dt),
-            hi.include({
+        Qt && kn.include(yn),
+            Ti.include({
                 getRenderer: function (e) {
+                    var t =
+                        e.options.renderer ||
+                        this._getPaneRenderer(e.options.pane) ||
+                        this.options.renderer ||
+                        this._renderer;
                     return (
-                        (e =
-                            (e =
-                                e.options.renderer ||
-                                this._getPaneRenderer(e.options.pane) ||
-                                this.options.renderer ||
-                                this._renderer) ||
-                            (this._renderer = this._createRenderer())),
-                        this.hasLayer(e) || this.addLayer(e),
-                        e
+                        t || (t = this._renderer = this._createRenderer()),
+                        this.hasLayer(t) || this.addLayer(t),
+                        t
                     );
                 },
                 _getPaneRenderer: function (e) {
-                    var t;
+                    if ('overlayPane' === e || void 0 === e) return !1;
+                    var t = this._paneRenderers[e];
                     return (
-                        'overlayPane' !== e &&
-                        void 0 !== e &&
-                        (void 0 === (t = this._paneRenderers[e]) &&
+                        void 0 === t &&
                             ((t = this._createRenderer({ pane: e })),
                             (this._paneRenderers[e] = t)),
-                        t)
+                        t
                     );
                 },
                 _createRenderer: function (e) {
-                    return (this.options.preferCanvas && Ue(e)) || Ge(e);
+                    return (this.options.preferCanvas && Qe(e)) || Xe(e);
                 },
             });
-        var Zi = Mi.extend({
+        var xn = sn.extend({
             initialize: function (e, t) {
-                Mi.prototype.initialize.call(this, this._boundsToLatLngs(e), t);
+                sn.prototype.initialize.call(this, this._boundsToLatLngs(e), t);
             },
             setBounds: function (e) {
                 return this.setLatLngs(this._boundsToLatLngs(e));
@@ -65464,17 +64156,17 @@ Object.values ||
                 ];
             },
         });
-        (Gi.create = Ui),
-            (Gi.pointsToPath = M),
-            (Ii.geometryToLayer = Be),
-            (Ii.coordsToLatLng = Oe),
-            (Ii.coordsToLatLngs = Fe),
-            (Ii.latLngToCoords = Ne),
-            (Ii.latLngsToCoords = He),
-            (Ii.getFeature = qe),
-            (Ii.asFeature = $e),
-            hi.mergeOptions({ boxZoom: !0 });
-        (gt = yt.extend({
+        (kn.create = wn),
+            (kn.pointsToPath = M),
+            (an.geometryToLayer = $e),
+            (an.coordsToLatLng = We),
+            (an.coordsToLatLngs = Ve),
+            (an.latLngToCoords = Ue),
+            (an.latLngsToCoords = Ge),
+            (an.getFeature = Ze),
+            (an.asFeature = Ke),
+            Ti.mergeOptions({ boxZoom: !0 });
+        var Tn = Mi.extend({
             initialize: function (e) {
                 (this._map = e),
                     (this._container = e._container),
@@ -65483,16 +64175,16 @@ Object.values ||
                     e.on('unload', this._destroy, this);
             },
             addHooks: function () {
-                ce(this._container, 'mousedown', this._onMouseDown, this);
+                _e(this._container, 'mousedown', this._onMouseDown, this);
             },
             removeHooks: function () {
-                de(this._container, 'mousedown', this._onMouseDown, this);
+                fe(this._container, 'mousedown', this._onMouseDown, this);
             },
             moved: function () {
                 return this._moved;
             },
             _destroy: function () {
-                $(this._pane), delete this._pane;
+                Z(this._pane), delete this._pane;
             },
             _resetState: function () {
                 (this._resetStateTimeout = 0), (this._moved = !1);
@@ -65506,14 +64198,14 @@ Object.values ||
                 if (!e.shiftKey || (1 !== e.which && 1 !== e.button)) return !1;
                 this._clearDeferredResetState(),
                     this._resetState(),
-                    ut(),
-                    ne(),
+                    ft(),
+                    ce(),
                     (this._startPoint =
                         this._map.mouseEventToContainerPoint(e)),
-                    ce(
+                    _e(
                         document,
                         {
-                            contextmenu: ve,
+                            contextmenu: xe,
                             mousemove: this._onMouseMove,
                             mouseup: this._onMouseUp,
                             keydown: this._onKeyDown,
@@ -65524,24 +64216,25 @@ Object.values ||
             _onMouseMove: function (e) {
                 this._moved ||
                     ((this._moved = !0),
-                    (this._box = q('div', 'leaflet-zoom-box', this._container)),
-                    Z(this._container, 'leaflet-crosshair'),
+                    (this._box = G('div', 'leaflet-zoom-box', this._container)),
+                    X(this._container, 'leaflet-crosshair'),
                     this._map.fire('boxzoomstart')),
                     (this._point = this._map.mouseEventToContainerPoint(e));
-                var t = (e = new k(this._point, this._startPoint)).getSize();
-                te(this._box, e.min),
-                    (this._box.style.width = t.x + 'px'),
-                    (this._box.style.height = t.y + 'px');
+                var t = new k(this._point, this._startPoint),
+                    i = t.getSize();
+                re(this._box, t.min),
+                    (this._box.style.width = i.x + 'px'),
+                    (this._box.style.height = i.y + 'px');
             },
             _finish: function () {
                 this._moved &&
-                    ($(this._box), K(this._container, 'leaflet-crosshair')),
-                    ht(),
-                    se(),
-                    de(
+                    (Z(this._box), ee(this._container, 'leaflet-crosshair')),
+                    gt(),
+                    de(),
+                    fe(
                         document,
                         {
-                            contextmenu: ve,
+                            contextmenu: xe,
                             mousemove: this._onMouseMove,
                             mouseup: this._onMouseUp,
                             keydown: this._onKeyDown,
@@ -65550,864 +64243,712 @@ Object.values ||
                     );
             },
             _onMouseUp: function (e) {
-                (1 !== e.which && 1 !== e.button) ||
-                    (this._finish(),
-                    this._moved &&
-                        (this._clearDeferredResetState(),
+                if (
+                    (1 === e.which || 1 === e.button) &&
+                    (this._finish(), this._moved)
+                ) {
+                    this._clearDeferredResetState(),
                         (this._resetStateTimeout = setTimeout(
-                            n(this._resetState, this),
+                            i(this._resetState, this),
                             0
-                        )),
-                        (e = new T(
-                            this._map.containerPointToLatLng(this._startPoint),
-                            this._map.containerPointToLatLng(this._point)
-                        )),
-                        this._map
-                            .fitBounds(e)
-                            .fire('boxzoomend', { boxZoomBounds: e })));
+                        ));
+                    var t = new T(
+                        this._map.containerPointToLatLng(this._startPoint),
+                        this._map.containerPointToLatLng(this._point)
+                    );
+                    this._map
+                        .fitBounds(t)
+                        .fire('boxzoomend', { boxZoomBounds: t });
+                }
             },
             _onKeyDown: function (e) {
-                27 === e.keyCode &&
-                    (this._finish(),
-                    this._clearDeferredResetState(),
-                    this._resetState());
+                27 === e.keyCode && this._finish();
             },
-        })),
-            hi.addInitHook('addHandler', 'boxZoom', gt),
-            hi.mergeOptions({ doubleClickZoom: !0 }),
-            (jt = yt.extend({
-                addHooks: function () {
-                    this._map.on('dblclick', this._onDoubleClick, this);
-                },
-                removeHooks: function () {
-                    this._map.off('dblclick', this._onDoubleClick, this);
-                },
-                _onDoubleClick: function (e) {
-                    var t = this._map,
-                        i = t.getZoom(),
-                        n = t.options.zoomDelta;
-                    i = e.originalEvent.shiftKey ? i - n : i + n;
-                    'center' === t.options.doubleClickZoom ?
-                        t.setZoom(i)
-                    :   t.setZoomAround(e.containerPoint, i);
-                },
-            }));
-        var Ki =
-                (hi.addInitHook('addHandler', 'doubleClickZoom', jt),
-                hi.mergeOptions({
-                    dragging: !0,
-                    inertia: !0,
-                    inertiaDeceleration: 3400,
-                    inertiaMaxSpeed: 1 / 0,
-                    easeLinearity: 0.2,
-                    worldCopyJump: !1,
-                    maxBoundsViscosity: 0,
-                }),
-                yt.extend({
-                    addHooks: function () {
-                        var e;
-                        this._draggable ||
-                            ((e = this._map),
-                            (this._draggable = new bi(
-                                e._mapPane,
-                                e._container
-                            )),
-                            this._draggable.on(
-                                {
-                                    dragstart: this._onDragStart,
-                                    drag: this._onDrag,
-                                    dragend: this._onDragEnd,
-                                },
-                                this
-                            ),
-                            this._draggable.on(
+        });
+        Ti.addInitHook('addHandler', 'boxZoom', Tn),
+            Ti.mergeOptions({ doubleClickZoom: !0 });
+        var Cn = Mi.extend({
+            addHooks: function () {
+                this._map.on('dblclick', this._onDoubleClick, this);
+            },
+            removeHooks: function () {
+                this._map.off('dblclick', this._onDoubleClick, this);
+            },
+            _onDoubleClick: function (e) {
+                var t = this._map,
+                    i = t.getZoom(),
+                    n = t.options.zoomDelta,
+                    s = e.originalEvent.shiftKey ? i - n : i + n;
+                'center' === t.options.doubleClickZoom ?
+                    t.setZoom(s)
+                :   t.setZoomAround(e.containerPoint, s);
+            },
+        });
+        Ti.addInitHook('addHandler', 'doubleClickZoom', Cn),
+            Ti.mergeOptions({
+                dragging: !0,
+                inertia: !St,
+                inertiaDeceleration: 3400,
+                inertiaMaxSpeed: 1 / 0,
+                easeLinearity: 0.2,
+                worldCopyJump: !1,
+                maxBoundsViscosity: 0,
+            });
+        var zn = Mi.extend({
+            addHooks: function () {
+                if (!this._draggable) {
+                    var e = this._map;
+                    (this._draggable = new Oi(e._mapPane, e._container)),
+                        this._draggable.on(
+                            {
+                                dragstart: this._onDragStart,
+                                drag: this._onDrag,
+                                dragend: this._onDragEnd,
+                            },
+                            this
+                        ),
+                        this._draggable.on(
+                            'predrag',
+                            this._onPreDragLimit,
+                            this
+                        ),
+                        e.options.worldCopyJump &&
+                            (this._draggable.on(
                                 'predrag',
-                                this._onPreDragLimit,
-                                this
-                            ),
-                            e.options.worldCopyJump &&
-                                (this._draggable.on(
-                                    'predrag',
-                                    this._onPreDragWrap,
-                                    this
-                                ),
-                                e.on('zoomend', this._onZoomEnd, this),
-                                e.whenReady(this._onZoomEnd, this))),
-                            Z(
-                                this._map._container,
-                                'leaflet-grab leaflet-touch-drag'
-                            ),
-                            this._draggable.enable(),
-                            (this._positions = []),
-                            (this._times = []);
-                    },
-                    removeHooks: function () {
-                        K(this._map._container, 'leaflet-grab'),
-                            K(this._map._container, 'leaflet-touch-drag'),
-                            this._draggable.disable();
-                    },
-                    moved: function () {
-                        return this._draggable && this._draggable._moved;
-                    },
-                    moving: function () {
-                        return this._draggable && this._draggable._moving;
-                    },
-                    _onDragStart: function () {
-                        var e,
-                            t = this._map;
-                        t._stop(),
-                            (
-                                this._map.options.maxBounds &&
-                                this._map.options.maxBoundsViscosity
-                            ) ?
-                                ((e = C(this._map.options.maxBounds)),
-                                (this._offsetLimit = x(
-                                    this._map
-                                        .latLngToContainerPoint(
-                                            e.getNorthWest()
-                                        )
-                                        .multiplyBy(-1),
-                                    this._map
-                                        .latLngToContainerPoint(
-                                            e.getSouthEast()
-                                        )
-                                        .multiplyBy(-1)
-                                        .add(this._map.getSize())
-                                )),
-                                (this._viscosity = Math.min(
-                                    1,
-                                    Math.max(
-                                        0,
-                                        this._map.options.maxBoundsViscosity
-                                    )
-                                )))
-                            :   (this._offsetLimit = null),
-                            t.fire('movestart').fire('dragstart'),
-                            t.options.inertia &&
-                                ((this._positions = []), (this._times = []));
-                    },
-                    _onDrag: function (e) {
-                        var t, i;
-                        this._map.options.inertia &&
-                            ((t = this._lastTime = +new Date()),
-                            (i = this._lastPos =
-                                this._draggable._absPos ||
-                                this._draggable._newPos),
-                            this._positions.push(i),
-                            this._times.push(t),
-                            this._prunePositions(t)),
-                            this._map.fire('move', e).fire('drag', e);
-                    },
-                    _prunePositions: function (e) {
-                        for (
-                            ;
-                            1 < this._positions.length &&
-                            50 < e - this._times[0];
-
-                        )
-                            this._positions.shift(), this._times.shift();
-                    },
-                    _onZoomEnd: function () {
-                        var e = this._map.getSize().divideBy(2),
-                            t = this._map.latLngToLayerPoint([0, 0]);
-                        (this._initialWorldOffset = t.subtract(e).x),
-                            (this._worldWidth = this._map
-                                .getPixelWorldBounds()
-                                .getSize().x);
-                    },
-                    _viscousLimit: function (e, t) {
-                        return e - (e - t) * this._viscosity;
-                    },
-                    _onPreDragLimit: function () {
-                        var e, t;
-                        this._viscosity &&
-                            this._offsetLimit &&
-                            ((e = this._draggable._newPos.subtract(
-                                this._draggable._startPos
-                            )),
-                            (t = this._offsetLimit),
-                            e.x < t.min.x &&
-                                (e.x = this._viscousLimit(e.x, t.min.x)),
-                            e.y < t.min.y &&
-                                (e.y = this._viscousLimit(e.y, t.min.y)),
-                            e.x > t.max.x &&
-                                (e.x = this._viscousLimit(e.x, t.max.x)),
-                            e.y > t.max.y &&
-                                (e.y = this._viscousLimit(e.y, t.max.y)),
-                            (this._draggable._newPos =
-                                this._draggable._startPos.add(e)));
-                    },
-                    _onPreDragWrap: function () {
-                        var e = this._worldWidth,
-                            t = Math.round(e / 2),
-                            i = this._initialWorldOffset,
-                            n =
-                                (((s = this._draggable._newPos.x) - t + i) %
-                                    e) +
-                                t -
-                                i,
-                            s = ((s + t + i) % e) - t - i;
-                        e = Math.abs(n + i) < Math.abs(s + i) ? n : s;
-                        (this._draggable._absPos =
-                            this._draggable._newPos.clone()),
-                            (this._draggable._newPos.x = e);
-                    },
-                    _onDragEnd: function (e) {
-                        var t,
-                            i,
-                            n,
-                            s,
-                            a = this._map,
-                            o = a.options,
-                            r =
-                                !o.inertia ||
-                                e.noInertia ||
-                                this._times.length < 2;
-                        a.fire('dragend', e),
-                            (
-                                !r &&
-                                (this._prunePositions(+new Date()),
-                                (e = this._lastPos.subtract(
-                                    this._positions[0]
-                                )),
-                                (r = (this._lastTime - this._times[0]) / 1e3),
-                                (t = o.easeLinearity),
-                                (r = (e = e.multiplyBy(t / r)).distanceTo([
-                                    0, 0,
-                                ])),
-                                (i = Math.min(o.inertiaMaxSpeed, r)),
-                                (e = e.multiplyBy(i / r)),
-                                (n = i / (o.inertiaDeceleration * t)),
-                                (s = e.multiplyBy(-n / 2).round()).x || s.y)
-                            ) ?
-                                ((s = a._limitOffset(s, a.options.maxBounds)),
-                                g(function () {
-                                    a.panBy(s, {
-                                        duration: n,
-                                        easeLinearity: t,
-                                        noMoveStart: !0,
-                                        animate: !0,
-                                    });
-                                }))
-                            :   a.fire('moveend');
-                    },
-                })),
-            Yi =
-                ((Rt =
-                    (hi.addInitHook('addHandler', 'dragging', Ki),
-                    hi.mergeOptions({ keyboard: !0, keyboardPanDelta: 80 }),
-                    yt.extend({
-                        keyCodes: {
-                            left: [37],
-                            right: [39],
-                            down: [40],
-                            up: [38],
-                            zoomIn: [187, 107, 61, 171],
-                            zoomOut: [189, 109, 54, 173],
-                        },
-                        initialize: function (e) {
-                            (this._map = e),
-                                this._setPanDelta(e.options.keyboardPanDelta),
-                                this._setZoomDelta(e.options.zoomDelta);
-                        },
-                        addHooks: function () {
-                            var e = this._map._container;
-                            e.tabIndex <= 0 && (e.tabIndex = '0'),
-                                ce(
-                                    e,
-                                    {
-                                        focus: this._onFocus,
-                                        blur: this._onBlur,
-                                        mousedown: this._onMouseDown,
-                                    },
-                                    this
-                                ),
-                                this._map.on(
-                                    {
-                                        focus: this._addHooks,
-                                        blur: this._removeHooks,
-                                    },
-                                    this
-                                );
-                        },
-                        removeHooks: function () {
-                            this._removeHooks(),
-                                de(
-                                    this._map._container,
-                                    {
-                                        focus: this._onFocus,
-                                        blur: this._onBlur,
-                                        mousedown: this._onMouseDown,
-                                    },
-                                    this
-                                ),
-                                this._map.off(
-                                    {
-                                        focus: this._addHooks,
-                                        blur: this._removeHooks,
-                                    },
-                                    this
-                                );
-                        },
-                        _onMouseDown: function () {
-                            var e, t, i;
-                            this._focused ||
-                                ((i = document.body),
-                                (e = document.documentElement),
-                                (t = i.scrollTop || e.scrollTop),
-                                (i = i.scrollLeft || e.scrollLeft),
-                                this._map._container.focus(),
-                                window.scrollTo(i, t));
-                        },
-                        _onFocus: function () {
-                            (this._focused = !0), this._map.fire('focus');
-                        },
-                        _onBlur: function () {
-                            (this._focused = !1), this._map.fire('blur');
-                        },
-                        _setPanDelta: function (e) {
-                            for (
-                                var t = (this._panKeys = {}),
-                                    i = this.keyCodes,
-                                    n = 0,
-                                    s = i.left.length;
-                                n < s;
-                                n++
-                            )
-                                t[i.left[n]] = [-1 * e, 0];
-                            for (n = 0, s = i.right.length; n < s; n++)
-                                t[i.right[n]] = [e, 0];
-                            for (n = 0, s = i.down.length; n < s; n++)
-                                t[i.down[n]] = [0, e];
-                            for (n = 0, s = i.up.length; n < s; n++)
-                                t[i.up[n]] = [0, -1 * e];
-                        },
-                        _setZoomDelta: function (e) {
-                            for (
-                                var t = (this._zoomKeys = {}),
-                                    i = this.keyCodes,
-                                    n = 0,
-                                    s = i.zoomIn.length;
-                                n < s;
-                                n++
-                            )
-                                t[i.zoomIn[n]] = e;
-                            for (n = 0, s = i.zoomOut.length; n < s; n++)
-                                t[i.zoomOut[n]] = -e;
-                        },
-                        _addHooks: function () {
-                            ce(document, 'keydown', this._onKeyDown, this);
-                        },
-                        _removeHooks: function () {
-                            de(document, 'keydown', this._onKeyDown, this);
-                        },
-                        _onKeyDown: function (e) {
-                            if (!(e.altKey || e.ctrlKey || e.metaKey)) {
-                                var t,
-                                    i,
-                                    n = e.keyCode,
-                                    s = this._map;
-                                if (n in this._panKeys)
-                                    (s._panAnim && s._panAnim._inProgress) ||
-                                        ((i = this._panKeys[n]),
-                                        e.shiftKey && (i = w(i).multiplyBy(3)),
-                                        s.options.maxBounds &&
-                                            (i = s._limitOffset(
-                                                w(i),
-                                                s.options.maxBounds
-                                            )),
-                                        s.options.worldCopyJump ?
-                                            ((t = s.wrapLatLng(
-                                                s.unproject(
-                                                    s
-                                                        .project(s.getCenter())
-                                                        .add(i)
-                                                )
-                                            )),
-                                            s.panTo(t))
-                                        :   s.panBy(i));
-                                else if (n in this._zoomKeys)
-                                    s.setZoom(
-                                        s.getZoom() +
-                                            (e.shiftKey ? 3 : 1) *
-                                                this._zoomKeys[n]
-                                    );
-                                else {
-                                    if (
-                                        27 !== n ||
-                                        !s._popup ||
-                                        !s._popup.options.closeOnEscapeKey
-                                    )
-                                        return;
-                                    s.closePopup();
-                                }
-                                ve(e);
-                            }
-                        },
-                    }))),
-                (Bt =
-                    (hi.addInitHook('addHandler', 'keyboard', Rt),
-                    hi.mergeOptions({
-                        scrollWheelZoom: !0,
-                        wheelDebounceTime: 40,
-                        wheelPxPerZoomLevel: 60,
-                    }),
-                    yt.extend({
-                        addHooks: function () {
-                            ce(
-                                this._map._container,
-                                'wheel',
-                                this._onWheelScroll,
+                                this._onPreDragWrap,
                                 this
                             ),
-                                (this._delta = 0);
-                        },
-                        removeHooks: function () {
-                            de(
-                                this._map._container,
-                                'wheel',
-                                this._onWheelScroll,
-                                this
-                            );
-                        },
-                        _onWheelScroll: function (e) {
-                            var t = we(e),
-                                i = this._map.options.wheelDebounceTime;
-                            (this._delta += t),
-                                (this._lastMousePos =
-                                    this._map.mouseEventToContainerPoint(e)),
-                                this._startTime ||
-                                    (this._startTime = +new Date()),
-                                (t = Math.max(
-                                    i - (+new Date() - this._startTime),
-                                    0
-                                ));
-                            clearTimeout(this._timer),
-                                (this._timer = setTimeout(
-                                    n(this._performZoom, this),
-                                    t
-                                )),
-                                ve(e);
-                        },
-                        _performZoom: function () {
-                            var e = this._map,
-                                t = e.getZoom(),
-                                i = this._map.options.zoomSnap || 0,
-                                n =
-                                    (e._stop(),
-                                    this._delta /
-                                        (4 *
-                                            this._map.options
-                                                .wheelPxPerZoomLevel));
-                            (n =
-                                (4 *
-                                    Math.log(
-                                        2 / (1 + Math.exp(-Math.abs(n)))
-                                    )) /
-                                Math.LN2),
-                                (i = i ? Math.ceil(n / i) * i : n),
-                                (n =
-                                    e._limitZoom(
-                                        t + (0 < this._delta ? i : -i)
-                                    ) - t);
-                            (this._delta = 0),
-                                (this._startTime = null),
-                                n &&
-                                    ('center' === e.options.scrollWheelZoom ?
-                                        e.setZoom(t + n)
-                                    :   e.setZoomAround(
-                                            this._lastMousePos,
-                                            t + n
-                                        ));
-                        },
-                    }))),
-                (Lt =
-                    (hi.addInitHook('addHandler', 'scrollWheelZoom', Bt),
-                    hi.mergeOptions({
-                        tapHold: Zt.touchNative && Zt.safari && Zt.mobile,
-                        tapTolerance: 15,
-                    }),
-                    yt.extend({
-                        addHooks: function () {
-                            ce(
-                                this._map._container,
-                                'touchstart',
-                                this._onDown,
-                                this
-                            );
-                        },
-                        removeHooks: function () {
-                            de(
-                                this._map._container,
-                                'touchstart',
-                                this._onDown,
-                                this
-                            );
-                        },
-                        _onDown: function (e) {
-                            var t;
-                            clearTimeout(this._holdTimeout),
-                                1 === e.touches.length &&
-                                    ((t = e.touches[0]),
-                                    (this._startPos = this._newPos =
-                                        new y(t.clientX, t.clientY)),
-                                    (this._holdTimeout = setTimeout(
-                                        n(function () {
-                                            this._cancel(),
-                                                this._isTapValid() &&
-                                                    (ce(
-                                                        document,
-                                                        'touchend',
-                                                        ge
-                                                    ),
-                                                    ce(
-                                                        document,
-                                                        'touchend touchcancel',
-                                                        this._cancelClickPrevent
-                                                    ),
-                                                    this._simulateEvent(
-                                                        'contextmenu',
-                                                        t
-                                                    ));
-                                        }, this),
-                                        600
-                                    )),
-                                    ce(
-                                        document,
-                                        'touchend touchcancel contextmenu',
-                                        this._cancel,
-                                        this
-                                    ),
-                                    ce(
-                                        document,
-                                        'touchmove',
-                                        this._onMove,
-                                        this
-                                    ));
-                        },
-                        _cancelClickPrevent: function e() {
-                            de(document, 'touchend', ge),
-                                de(document, 'touchend touchcancel', e);
-                        },
-                        _cancel: function () {
-                            clearTimeout(this._holdTimeout),
-                                de(
-                                    document,
-                                    'touchend touchcancel contextmenu',
-                                    this._cancel,
-                                    this
-                                ),
-                                de(document, 'touchmove', this._onMove, this);
-                        },
-                        _onMove: function (e) {
-                            (e = e.touches[0]),
-                                (this._newPos = new y(e.clientX, e.clientY));
-                        },
-                        _isTapValid: function () {
-                            return (
-                                this._newPos.distanceTo(this._startPos) <=
-                                this._map.options.tapTolerance
-                            );
-                        },
-                        _simulateEvent: function (e, t) {
-                            ((e = new MouseEvent(e, {
-                                bubbles: !0,
-                                cancelable: !0,
-                                view: window,
-                                screenX: t.screenX,
-                                screenY: t.screenY,
-                                clientX: t.clientX,
-                                clientY: t.clientY,
-                            }))._simulated = !0),
-                                t.target.dispatchEvent(e);
-                        },
-                    }))),
-                (Ot =
-                    (hi.addInitHook('addHandler', 'tapHold', Lt),
-                    hi.mergeOptions({
-                        touchZoom: Zt.touch,
-                        bounceAtZoomLimits: !0,
-                    }),
-                    yt.extend({
-                        addHooks: function () {
-                            Z(this._map._container, 'leaflet-touch-zoom'),
-                                ce(
-                                    this._map._container,
-                                    'touchstart',
-                                    this._onTouchStart,
-                                    this
-                                );
-                        },
-                        removeHooks: function () {
-                            K(this._map._container, 'leaflet-touch-zoom'),
-                                de(
-                                    this._map._container,
-                                    'touchstart',
-                                    this._onTouchStart,
-                                    this
-                                );
-                        },
-                        _onTouchStart: function (e) {
-                            var t,
-                                i,
-                                n = this._map;
-                            !e.touches ||
-                                2 !== e.touches.length ||
-                                n._animatingZoom ||
-                                this._zooming ||
-                                ((t = n.mouseEventToContainerPoint(
-                                    e.touches[0]
-                                )),
-                                (i = n.mouseEventToContainerPoint(
-                                    e.touches[1]
-                                )),
-                                (this._centerPoint = n.getSize()._divideBy(2)),
-                                (this._startLatLng = n.containerPointToLatLng(
-                                    this._centerPoint
-                                )),
-                                'center' !== n.options.touchZoom &&
-                                    (this._pinchStartLatLng =
-                                        n.containerPointToLatLng(
-                                            t.add(i)._divideBy(2)
-                                        )),
-                                (this._startDist = t.distanceTo(i)),
-                                (this._startZoom = n.getZoom()),
-                                (this._moved = !1),
-                                (this._zooming = !0),
-                                n._stop(),
-                                ce(
-                                    document,
-                                    'touchmove',
-                                    this._onTouchMove,
-                                    this
-                                ),
-                                ce(
-                                    document,
-                                    'touchend touchcancel',
-                                    this._onTouchEnd,
-                                    this
-                                ),
-                                ge(e));
+                            e.on('zoomend', this._onZoomEnd, this),
+                            e.whenReady(this._onZoomEnd, this));
+                }
+                X(this._map._container, 'leaflet-grab leaflet-touch-drag'),
+                    this._draggable.enable(),
+                    (this._positions = []),
+                    (this._times = []);
+            },
+            removeHooks: function () {
+                ee(this._map._container, 'leaflet-grab'),
+                    ee(this._map._container, 'leaflet-touch-drag'),
+                    this._draggable.disable();
+            },
+            moved: function () {
+                return this._draggable && this._draggable._moved;
+            },
+            moving: function () {
+                return this._draggable && this._draggable._moving;
+            },
+            _onDragStart: function () {
+                var e = this._map;
+                if (
+                    (e._stop(),
+                    this._map.options.maxBounds &&
+                        this._map.options.maxBoundsViscosity)
+                ) {
+                    var t = C(this._map.options.maxBounds);
+                    (this._offsetLimit = x(
+                        this._map
+                            .latLngToContainerPoint(t.getNorthWest())
+                            .multiplyBy(-1),
+                        this._map
+                            .latLngToContainerPoint(t.getSouthEast())
+                            .multiplyBy(-1)
+                            .add(this._map.getSize())
+                    )),
+                        (this._viscosity = Math.min(
+                            1,
+                            Math.max(0, this._map.options.maxBoundsViscosity)
+                        ));
+                } else this._offsetLimit = null;
+                e.fire('movestart').fire('dragstart'),
+                    e.options.inertia &&
+                        ((this._positions = []), (this._times = []));
+            },
+            _onDrag: function (e) {
+                if (this._map.options.inertia) {
+                    var t = (this._lastTime = +new Date()),
+                        i = (this._lastPos =
+                            this._draggable._absPos || this._draggable._newPos);
+                    this._positions.push(i),
+                        this._times.push(t),
+                        this._prunePositions(t);
+                }
+                this._map.fire('move', e).fire('drag', e);
+            },
+            _prunePositions: function (e) {
+                for (; this._positions.length > 1 && e - this._times[0] > 50; )
+                    this._positions.shift(), this._times.shift();
+            },
+            _onZoomEnd: function () {
+                var e = this._map.getSize().divideBy(2),
+                    t = this._map.latLngToLayerPoint([0, 0]);
+                (this._initialWorldOffset = t.subtract(e).x),
+                    (this._worldWidth = this._map
+                        .getPixelWorldBounds()
+                        .getSize().x);
+            },
+            _viscousLimit: function (e, t) {
+                return e - (e - t) * this._viscosity;
+            },
+            _onPreDragLimit: function () {
+                if (this._viscosity && this._offsetLimit) {
+                    var e = this._draggable._newPos.subtract(
+                            this._draggable._startPos
+                        ),
+                        t = this._offsetLimit;
+                    e.x < t.min.x && (e.x = this._viscousLimit(e.x, t.min.x)),
+                        e.y < t.min.y &&
+                            (e.y = this._viscousLimit(e.y, t.min.y)),
+                        e.x > t.max.x &&
+                            (e.x = this._viscousLimit(e.x, t.max.x)),
+                        e.y > t.max.y &&
+                            (e.y = this._viscousLimit(e.y, t.max.y)),
+                        (this._draggable._newPos =
+                            this._draggable._startPos.add(e));
+                }
+            },
+            _onPreDragWrap: function () {
+                var e = this._worldWidth,
+                    t = Math.round(e / 2),
+                    i = this._initialWorldOffset,
+                    n = this._draggable._newPos.x,
+                    s = ((n - t + i) % e) + t - i,
+                    a = ((n + t + i) % e) - t - i,
+                    o = Math.abs(s + i) < Math.abs(a + i) ? s : a;
+                (this._draggable._absPos = this._draggable._newPos.clone()),
+                    (this._draggable._newPos.x = o);
+            },
+            _onDragEnd: function (e) {
+                var t = this._map,
+                    i = t.options,
+                    n = !i.inertia || this._times.length < 2;
+                if ((t.fire('dragend', e), n)) t.fire('moveend');
+                else {
+                    this._prunePositions(+new Date());
+                    var s = this._lastPos.subtract(this._positions[0]),
+                        a = (this._lastTime - this._times[0]) / 1e3,
+                        o = i.easeLinearity,
+                        r = s.multiplyBy(o / a),
+                        l = r.distanceTo([0, 0]),
+                        c = Math.min(i.inertiaMaxSpeed, l),
+                        d = r.multiplyBy(c / l),
+                        u = c / (i.inertiaDeceleration * o),
+                        h = d.multiplyBy(-u / 2).round();
+                    h.x || h.y ?
+                        ((h = t._limitOffset(h, t.options.maxBounds)),
+                        f(function () {
+                            t.panBy(h, {
+                                duration: u,
+                                easeLinearity: o,
+                                noMoveStart: !0,
+                                animate: !0,
+                            });
+                        }))
+                    :   t.fire('moveend');
+                }
+            },
+        });
+        Ti.addInitHook('addHandler', 'dragging', zn),
+            Ti.mergeOptions({ keyboard: !0, keyboardPanDelta: 80 });
+        var Sn = Mi.extend({
+            keyCodes: {
+                left: [37],
+                right: [39],
+                down: [40],
+                up: [38],
+                zoomIn: [187, 107, 61, 171],
+                zoomOut: [189, 109, 54, 173],
+            },
+            initialize: function (e) {
+                (this._map = e),
+                    this._setPanDelta(e.options.keyboardPanDelta),
+                    this._setZoomDelta(e.options.zoomDelta);
+            },
+            addHooks: function () {
+                var e = this._map._container;
+                e.tabIndex <= 0 && (e.tabIndex = '0'),
+                    _e(
+                        e,
+                        {
+                            focus: this._onFocus,
+                            blur: this._onBlur,
+                            mousedown: this._onMouseDown,
                         },
-                        _onTouchMove: function (e) {
-                            if (
-                                e.touches &&
-                                2 === e.touches.length &&
-                                this._zooming
-                            ) {
-                                var t = this._map,
-                                    i = t.mouseEventToContainerPoint(
-                                        e.touches[0]
-                                    ),
-                                    s = t.mouseEventToContainerPoint(
-                                        e.touches[1]
-                                    ),
-                                    a = i.distanceTo(s) / this._startDist;
-                                if (
-                                    ((this._zoom = t.getScaleZoom(
-                                        a,
-                                        this._startZoom
-                                    )),
-                                    !t.options.bounceAtZoomLimits &&
-                                        ((this._zoom < t.getMinZoom() &&
-                                            a < 1) ||
-                                            (this._zoom > t.getMaxZoom() &&
-                                                1 < a)) &&
-                                        (this._zoom = t._limitZoom(this._zoom)),
-                                    'center' === t.options.touchZoom)
-                                ) {
-                                    if (
-                                        ((this._center = this._startLatLng),
-                                        1 == a)
-                                    )
-                                        return;
-                                } else {
-                                    if (
-                                        ((i = i
-                                            ._add(s)
-                                            ._divideBy(2)
-                                            ._subtract(this._centerPoint)),
-                                        1 == a && 0 === i.x && 0 === i.y)
-                                    )
-                                        return;
-                                    this._center = t.unproject(
-                                        t
-                                            .project(
-                                                this._pinchStartLatLng,
-                                                this._zoom
-                                            )
-                                            .subtract(i),
-                                        this._zoom
-                                    );
-                                }
-                                this._moved ||
-                                    (t._moveStart(!0, !1), (this._moved = !0)),
-                                    v(this._animRequest),
-                                    (s = n(
-                                        t._move,
-                                        t,
-                                        this._center,
-                                        this._zoom,
-                                        { pinch: !0, round: !1 },
-                                        void 0
-                                    )),
-                                    (this._animRequest = g(s, this, !0)),
-                                    ge(e);
-                            }
+                        this
+                    ),
+                    this._map.on(
+                        { focus: this._addHooks, blur: this._removeHooks },
+                        this
+                    );
+            },
+            removeHooks: function () {
+                this._removeHooks(),
+                    fe(
+                        this._map._container,
+                        {
+                            focus: this._onFocus,
+                            blur: this._onBlur,
+                            mousedown: this._onMouseDown,
                         },
-                        _onTouchEnd: function () {
-                            this._moved && this._zooming ?
-                                ((this._zooming = !1),
-                                v(this._animRequest),
-                                de(
-                                    document,
-                                    'touchmove',
-                                    this._onTouchMove,
-                                    this
-                                ),
-                                de(
-                                    document,
-                                    'touchend touchcancel',
-                                    this._onTouchEnd,
-                                    this
-                                ),
-                                this._map.options.zoomAnimation ?
-                                    this._map._animateZoom(
-                                        this._center,
-                                        this._map._limitZoom(this._zoom),
-                                        !0,
-                                        this._map.options.zoomSnap
-                                    )
-                                :   this._map._resetView(
-                                        this._center,
-                                        this._map._limitZoom(this._zoom)
-                                    ))
-                            :   (this._zooming = !1);
-                        },
-                    }))),
-                hi.addInitHook('addHandler', 'touchZoom', Ot),
-                (hi.BoxZoom = gt),
-                (hi.DoubleClickZoom = jt),
-                (hi.Drag = Ki),
-                (hi.Keyboard = Rt),
-                (hi.ScrollWheelZoom = Bt),
-                (hi.TapHold = Lt),
-                (hi.TouchZoom = Ot),
-                (e.Bounds = k),
-                (e.Browser = Zt),
-                (e.CRS = ot),
-                (e.Canvas = Wi),
-                (e.Circle = Ei),
-                (e.CircleMarker = Ai),
-                (e.Class = b),
-                (e.Control = pi),
-                (e.DivIcon = Fi),
-                (e.DivOverlay = Bi),
-                (e.DomEvent = bt),
-                (e.DomUtil = vt),
-                (e.Draggable = bi),
-                (e.Evented = st),
-                (e.FeatureGroup = ki),
-                (e.GeoJSON = Ii),
-                (e.GridLayer = Ni),
-                (e.Handler = yt),
-                (e.Icon = xi),
-                (e.ImageOverlay = Di),
-                (e.LatLng = S),
-                (e.LatLngBounds = T),
-                (e.Layer = Pt),
-                (e.LayerGroup = wi),
-                (e.LineUtil = xt),
-                (e.Map = hi),
-                (e.Marker = Si),
-                (e.Mixin = wt),
-                (e.Path = zi),
-                (e.Point = y),
-                (e.PolyUtil = kt),
-                (e.Polygon = Mi),
-                (e.Polyline = Pi),
-                (e.Popup = Li),
-                (e.PosAnimation = ui),
-                (e.Projection = St),
-                (e.Rectangle = Zi),
-                (e.Renderer = $i),
-                (e.SVG = Gi),
-                (e.SVGOverlay = Ri),
-                (e.TileLayer = Hi),
-                (e.Tooltip = Oi),
-                (e.Transformation = A),
-                (e.Util = it),
-                (e.VideoOverlay = ji),
-                (e.bind = n),
-                (e.bounds = x),
-                (e.canvas = Ue),
-                (e.circle = function (e, t, i) {
-                    return new Ei(e, t, i);
-                }),
-                (e.circleMarker = function (e, t) {
-                    return new Ai(e, t);
-                }),
-                (e.control = xe),
-                (e.divIcon = function (e) {
-                    return new Fi(e);
-                }),
-                (e.extend = t),
-                (e.featureGroup = function (e, t) {
-                    return new ki(e, t);
-                }),
-                (e.geoJSON = We),
-                (e.geoJson = It),
-                (e.gridLayer = function (e) {
-                    return new Ni(e);
-                }),
-                (e.icon = function (e) {
-                    return new xi(e);
-                }),
-                (e.imageOverlay = function (e, t, i) {
-                    return new Di(e, t, i);
-                }),
-                (e.latLng = z),
-                (e.latLngBounds = C),
-                (e.layerGroup = function (e, t) {
-                    return new wi(e, t);
-                }),
-                (e.map = function (e, t) {
-                    return new hi(e, t);
-                }),
-                (e.marker = function (e, t) {
-                    return new Si(e, t);
-                }),
-                (e.point = w),
-                (e.polygon = function (e, t) {
-                    return new Mi(e, t);
-                }),
-                (e.polyline = function (e, t) {
-                    return new Pi(e, t);
-                }),
-                (e.popup = function (e, t) {
-                    return new Li(e, t);
-                }),
-                (e.rectangle = function (e, t) {
-                    return new Zi(e, t);
-                }),
-                (e.setOptions = u),
-                (e.stamp = s),
-                (e.svg = Ge),
-                (e.svgOverlay = function (e, t, i) {
-                    return new Ri(e, t, i);
-                }),
-                (e.tileLayer = Ve),
-                (e.tooltip = function (e, t) {
-                    return new Oi(e, t);
-                }),
-                (e.transformation = E),
-                (e.version = '1.9.4'),
-                (e.videoOverlay = function (e, t, i) {
-                    return new ji(e, t, i);
-                }),
-                window.L);
+                        this
+                    ),
+                    this._map.off(
+                        { focus: this._addHooks, blur: this._removeHooks },
+                        this
+                    );
+            },
+            _onMouseDown: function () {
+                if (!this._focused) {
+                    var e = document.body,
+                        t = document.documentElement,
+                        i = e.scrollTop || t.scrollTop,
+                        n = e.scrollLeft || t.scrollLeft;
+                    this._map._container.focus(), window.scrollTo(n, i);
+                }
+            },
+            _onFocus: function () {
+                (this._focused = !0), this._map.fire('focus');
+            },
+            _onBlur: function () {
+                (this._focused = !1), this._map.fire('blur');
+            },
+            _setPanDelta: function (e) {
+                var t,
+                    i,
+                    n = (this._panKeys = {}),
+                    s = this.keyCodes;
+                for (t = 0, i = s.left.length; t < i; t++)
+                    n[s.left[t]] = [-1 * e, 0];
+                for (t = 0, i = s.right.length; t < i; t++)
+                    n[s.right[t]] = [e, 0];
+                for (t = 0, i = s.down.length; t < i; t++)
+                    n[s.down[t]] = [0, e];
+                for (t = 0, i = s.up.length; t < i; t++)
+                    n[s.up[t]] = [0, -1 * e];
+            },
+            _setZoomDelta: function (e) {
+                var t,
+                    i,
+                    n = (this._zoomKeys = {}),
+                    s = this.keyCodes;
+                for (t = 0, i = s.zoomIn.length; t < i; t++) n[s.zoomIn[t]] = e;
+                for (t = 0, i = s.zoomOut.length; t < i; t++)
+                    n[s.zoomOut[t]] = -e;
+            },
+            _addHooks: function () {
+                _e(document, 'keydown', this._onKeyDown, this);
+            },
+            _removeHooks: function () {
+                fe(document, 'keydown', this._onKeyDown, this);
+            },
+            _onKeyDown: function (e) {
+                if (!(e.altKey || e.ctrlKey || e.metaKey)) {
+                    var t,
+                        i = e.keyCode,
+                        n = this._map;
+                    if (i in this._panKeys)
+                        (n._panAnim && n._panAnim._inProgress) ||
+                            ((t = this._panKeys[i]),
+                            e.shiftKey && (t = w(t).multiplyBy(3)),
+                            n.panBy(t),
+                            n.options.maxBounds &&
+                                n.panInsideBounds(n.options.maxBounds));
+                    else if (i in this._zoomKeys)
+                        n.setZoom(
+                            n.getZoom() +
+                                (e.shiftKey ? 3 : 1) * this._zoomKeys[i]
+                        );
+                    else {
+                        if (
+                            27 !== i ||
+                            !n._popup ||
+                            !n._popup.options.closeOnEscapeKey
+                        )
+                            return;
+                        n.closePopup();
+                    }
+                    xe(e);
+                }
+            },
+        });
+        Ti.addInitHook('addHandler', 'keyboard', Sn),
+            Ti.mergeOptions({
+                scrollWheelZoom: !0,
+                wheelDebounceTime: 40,
+                wheelPxPerZoomLevel: 60,
+            });
+        var An = Mi.extend({
+            addHooks: function () {
+                _e(
+                    this._map._container,
+                    'mousewheel',
+                    this._onWheelScroll,
+                    this
+                ),
+                    (this._delta = 0);
+            },
+            removeHooks: function () {
+                fe(
+                    this._map._container,
+                    'mousewheel',
+                    this._onWheelScroll,
+                    this
+                );
+            },
+            _onWheelScroll: function (e) {
+                var t = Ce(e),
+                    n = this._map.options.wheelDebounceTime;
+                (this._delta += t),
+                    (this._lastMousePos =
+                        this._map.mouseEventToContainerPoint(e)),
+                    this._startTime || (this._startTime = +new Date());
+                var s = Math.max(n - (+new Date() - this._startTime), 0);
+                clearTimeout(this._timer),
+                    (this._timer = setTimeout(i(this._performZoom, this), s)),
+                    xe(e);
+            },
+            _performZoom: function () {
+                var e = this._map,
+                    t = e.getZoom(),
+                    i = this._map.options.zoomSnap || 0;
+                e._stop();
+                var n =
+                        this._delta /
+                        (4 * this._map.options.wheelPxPerZoomLevel),
+                    s =
+                        (4 * Math.log(2 / (1 + Math.exp(-Math.abs(n))))) /
+                        Math.LN2,
+                    a = i ? Math.ceil(s / i) * i : s,
+                    o = e._limitZoom(t + (this._delta > 0 ? a : -a)) - t;
+                (this._delta = 0),
+                    (this._startTime = null),
+                    o &&
+                        ('center' === e.options.scrollWheelZoom ?
+                            e.setZoom(t + o)
+                        :   e.setZoomAround(this._lastMousePos, t + o));
+            },
+        });
+        Ti.addInitHook('addHandler', 'scrollWheelZoom', An),
+            Ti.mergeOptions({ tap: !0, tapTolerance: 15 });
+        var En = Mi.extend({
+            addHooks: function () {
+                _e(this._map._container, 'touchstart', this._onDown, this);
+            },
+            removeHooks: function () {
+                fe(this._map._container, 'touchstart', this._onDown, this);
+            },
+            _onDown: function (e) {
+                if (e.touches) {
+                    if ((ke(e), (this._fireClick = !0), e.touches.length > 1))
+                        return (
+                            (this._fireClick = !1),
+                            void clearTimeout(this._holdTimeout)
+                        );
+                    var t = e.touches[0],
+                        n = t.target;
+                    (this._startPos = this._newPos =
+                        new y(t.clientX, t.clientY)),
+                        n.tagName &&
+                            'a' === n.tagName.toLowerCase() &&
+                            X(n, 'leaflet-active'),
+                        (this._holdTimeout = setTimeout(
+                            i(function () {
+                                this._isTapValid() &&
+                                    ((this._fireClick = !1),
+                                    this._onUp(),
+                                    this._simulateEvent('contextmenu', t));
+                            }, this),
+                            1e3
+                        )),
+                        this._simulateEvent('mousedown', t),
+                        _e(
+                            document,
+                            { touchmove: this._onMove, touchend: this._onUp },
+                            this
+                        );
+                }
+            },
+            _onUp: function (e) {
+                if (
+                    (clearTimeout(this._holdTimeout),
+                    fe(
+                        document,
+                        { touchmove: this._onMove, touchend: this._onUp },
+                        this
+                    ),
+                    this._fireClick && e && e.changedTouches)
+                ) {
+                    var t = e.changedTouches[0],
+                        i = t.target;
+                    i &&
+                        i.tagName &&
+                        'a' === i.tagName.toLowerCase() &&
+                        ee(i, 'leaflet-active'),
+                        this._simulateEvent('mouseup', t),
+                        this._isTapValid() && this._simulateEvent('click', t);
+                }
+            },
+            _isTapValid: function () {
+                return (
+                    this._newPos.distanceTo(this._startPos) <=
+                    this._map.options.tapTolerance
+                );
+            },
+            _onMove: function (e) {
+                var t = e.touches[0];
+                (this._newPos = new y(t.clientX, t.clientY)),
+                    this._simulateEvent('mousemove', t);
+            },
+            _simulateEvent: function (e, t) {
+                var i = document.createEvent('MouseEvents');
+                (i._simulated = !0),
+                    (t.target._simulatedClick = !0),
+                    i.initMouseEvent(
+                        e,
+                        !0,
+                        !0,
+                        window,
+                        1,
+                        t.screenX,
+                        t.screenY,
+                        t.clientX,
+                        t.clientY,
+                        !1,
+                        !1,
+                        !1,
+                        !1,
+                        0,
+                        null
+                    ),
+                    t.target.dispatchEvent(i);
+            },
+        });
+        Ut && !Vt && Ti.addInitHook('addHandler', 'tap', En),
+            Ti.mergeOptions({ touchZoom: Ut && !St, bounceAtZoomLimits: !0 });
+        var Pn = Mi.extend({
+            addHooks: function () {
+                X(this._map._container, 'leaflet-touch-zoom'),
+                    _e(
+                        this._map._container,
+                        'touchstart',
+                        this._onTouchStart,
+                        this
+                    );
+            },
+            removeHooks: function () {
+                ee(this._map._container, 'leaflet-touch-zoom'),
+                    fe(
+                        this._map._container,
+                        'touchstart',
+                        this._onTouchStart,
+                        this
+                    );
+            },
+            _onTouchStart: function (e) {
+                var t = this._map;
+                if (
+                    e.touches &&
+                    2 === e.touches.length &&
+                    !t._animatingZoom &&
+                    !this._zooming
+                ) {
+                    var i = t.mouseEventToContainerPoint(e.touches[0]),
+                        n = t.mouseEventToContainerPoint(e.touches[1]);
+                    (this._centerPoint = t.getSize()._divideBy(2)),
+                        (this._startLatLng = t.containerPointToLatLng(
+                            this._centerPoint
+                        )),
+                        'center' !== t.options.touchZoom &&
+                            (this._pinchStartLatLng = t.containerPointToLatLng(
+                                i.add(n)._divideBy(2)
+                            )),
+                        (this._startDist = i.distanceTo(n)),
+                        (this._startZoom = t.getZoom()),
+                        (this._moved = !1),
+                        (this._zooming = !0),
+                        t._stop(),
+                        _e(document, 'touchmove', this._onTouchMove, this),
+                        _e(document, 'touchend', this._onTouchEnd, this),
+                        ke(e);
+                }
+            },
+            _onTouchMove: function (e) {
+                if (e.touches && 2 === e.touches.length && this._zooming) {
+                    var t = this._map,
+                        n = t.mouseEventToContainerPoint(e.touches[0]),
+                        s = t.mouseEventToContainerPoint(e.touches[1]),
+                        a = n.distanceTo(s) / this._startDist;
+                    if (
+                        ((this._zoom = t.getScaleZoom(a, this._startZoom)),
+                        !t.options.bounceAtZoomLimits &&
+                            ((this._zoom < t.getMinZoom() && a < 1) ||
+                                (this._zoom > t.getMaxZoom() && a > 1)) &&
+                            (this._zoom = t._limitZoom(this._zoom)),
+                        'center' === t.options.touchZoom)
+                    ) {
+                        if (((this._center = this._startLatLng), 1 === a))
+                            return;
+                    } else {
+                        var o = n
+                            ._add(s)
+                            ._divideBy(2)
+                            ._subtract(this._centerPoint);
+                        if (1 === a && 0 === o.x && 0 === o.y) return;
+                        this._center = t.unproject(
+                            t
+                                .project(this._pinchStartLatLng, this._zoom)
+                                .subtract(o),
+                            this._zoom
+                        );
+                    }
+                    this._moved || (t._moveStart(!0, !1), (this._moved = !0)),
+                        g(this._animRequest);
+                    var r = i(t._move, t, this._center, this._zoom, {
+                        pinch: !0,
+                        round: !1,
+                    });
+                    (this._animRequest = f(r, this, !0)), ke(e);
+                }
+            },
+            _onTouchEnd: function () {
+                this._moved && this._zooming ?
+                    ((this._zooming = !1),
+                    g(this._animRequest),
+                    fe(document, 'touchmove', this._onTouchMove),
+                    fe(document, 'touchend', this._onTouchEnd),
+                    this._map.options.zoomAnimation ?
+                        this._map._animateZoom(
+                            this._center,
+                            this._map._limitZoom(this._zoom),
+                            !0,
+                            this._map.options.zoomSnap
+                        )
+                    :   this._map._resetView(
+                            this._center,
+                            this._map._limitZoom(this._zoom)
+                        ))
+                :   (this._zooming = !1);
+            },
+        });
+        Ti.addInitHook('addHandler', 'touchZoom', Pn),
+            (Ti.BoxZoom = Tn),
+            (Ti.DoubleClickZoom = Cn),
+            (Ti.Drag = zn),
+            (Ti.Keyboard = Sn),
+            (Ti.ScrollWheelZoom = An),
+            (Ti.Tap = En),
+            (Ti.TouchZoom = Pn),
+            (Object.freeze = et),
+            (e.version = '1.4.0+HEAD.3337f36'),
+            (e.Control = Ci),
+            (e.control = zi),
+            (e.Browser = Xt),
+            (e.Evented = ut),
+            (e.Mixin = ji),
+            (e.Util = ct),
+            (e.Class = v),
+            (e.Handler = Mi),
+            (e.extend = t),
+            (e.bind = i),
+            (e.stamp = n),
+            (e.setOptions = d),
+            (e.DomEvent = ki),
+            (e.DomUtil = vi),
+            (e.PosAnimation = xi),
+            (e.Draggable = Oi),
+            (e.LineUtil = Ni),
+            (e.PolyUtil = Li),
+            (e.Point = y),
+            (e.point = w),
+            (e.Bounds = k),
+            (e.bounds = x),
+            (e.Transformation = A),
+            (e.transformation = E),
+            (e.Projection = qi),
+            (e.LatLng = z),
+            (e.latLng = S),
+            (e.LatLngBounds = T),
+            (e.latLngBounds = C),
+            (e.CRS = pt),
+            (e.GeoJSON = an),
+            (e.geoJSON = Ye),
+            (e.geoJson = rn),
+            (e.Layer = Ui),
+            (e.LayerGroup = Gi),
+            (e.layerGroup = function (e, t) {
+                return new Gi(e, t);
+            }),
+            (e.FeatureGroup = Zi),
+            (e.featureGroup = function (e) {
+                return new Zi(e);
+            }),
+            (e.ImageOverlay = ln),
+            (e.imageOverlay = function (e, t, i) {
+                return new ln(e, t, i);
+            }),
+            (e.VideoOverlay = cn),
+            (e.videoOverlay = function (e, t, i) {
+                return new cn(e, t, i);
+            }),
+            (e.DivOverlay = dn),
+            (e.Popup = un),
+            (e.popup = function (e, t) {
+                return new un(e, t);
+            }),
+            (e.Tooltip = hn),
+            (e.tooltip = function (e, t) {
+                return new hn(e, t);
+            }),
+            (e.Icon = Ki),
+            (e.icon = function (e) {
+                return new Ki(e);
+            }),
+            (e.DivIcon = pn),
+            (e.divIcon = function (e) {
+                return new pn(e);
+            }),
+            (e.Marker = Qi),
+            (e.marker = function (e, t) {
+                return new Qi(e, t);
+            }),
+            (e.TileLayer = _n),
+            (e.tileLayer = Je),
+            (e.GridLayer = mn),
+            (e.gridLayer = function (e) {
+                return new mn(e);
+            }),
+            (e.SVG = kn),
+            (e.svg = Xe),
+            (e.Renderer = gn),
+            (e.Canvas = vn),
+            (e.canvas = Qe),
+            (e.Path = Xi),
+            (e.CircleMarker = en),
+            (e.circleMarker = function (e, t) {
+                return new en(e, t);
+            }),
+            (e.Circle = tn),
+            (e.circle = function (e, t, i) {
+                return new tn(e, t, i);
+            }),
+            (e.Polyline = nn),
+            (e.polyline = function (e, t) {
+                return new nn(e, t);
+            }),
+            (e.Polygon = sn),
+            (e.polygon = function (e, t) {
+                return new sn(e, t);
+            }),
+            (e.Rectangle = xn),
+            (e.rectangle = function (e, t) {
+                return new xn(e, t);
+            }),
+            (e.Map = Ti),
+            (e.map = function (e, t) {
+                return new Ti(e, t);
+            });
+        var Mn = window.L;
         (e.noConflict = function () {
-            return (window.L = Yi), this;
+            return (window.L = Mn), this;
         }),
             (window.L = e);
     }),
@@ -67122,1079 +65663,18 @@ Object.values ||
             })
         : 'object' == typeof module && module.exports ? (module.exports = b)
         : (e.md5 = b);
-    })(this),
-    (function (e) {
-        'object' == typeof exports && 'undefined' != typeof module ?
-            (module.exports = e())
-        : 'function' == typeof define && define.amd ? define([], e)
-        : (('undefined' != typeof window ? window
-            : 'undefined' != typeof global ? global
-            : 'undefined' != typeof self ? self
-            : this
-            ).rbush = e());
-    })(function () {
-        return (function e(t, i, n) {
-            function s(o, r) {
-                if (!i[o]) {
-                    if (!t[o]) {
-                        var l = 'function' == typeof require && require;
-                        if (!r && l) return l(o, !0);
-                        if (a) return a(o, !0);
-                        var c = new Error("Cannot find module '" + o + "'");
-                        throw ((c.code = 'MODULE_NOT_FOUND'), c);
-                    }
-                    var d = (i[o] = { exports: {} });
-                    t[o][0].call(
-                        d.exports,
-                        function (e) {
-                            return s(t[o][1][e] || e);
-                        },
-                        d,
-                        d.exports,
-                        e,
-                        t,
-                        i,
-                        n
-                    );
-                }
-                return i[o].exports;
-            }
-            for (
-                var a = 'function' == typeof require && require, o = 0;
-                o < n.length;
-                o++
-            )
-                s(n[o]);
-            return s;
-        })(
-            {
-                1: [
-                    function (e, t) {
-                        'use strict';
-                        function i(e, t) {
-                            if (!(this instanceof i)) return new i(e, t);
-                            (this._maxEntries = Math.max(4, e || 9)),
-                                (this._minEntries = Math.max(
-                                    2,
-                                    Math.ceil(0.4 * this._maxEntries)
-                                )),
-                                t && this._initFormat(t),
-                                this.clear();
-                        }
-                        function n(e, t) {
-                            s(e, 0, e.children.length, t, e);
-                        }
-                        function s(e, t, i, n, s) {
-                            s || (s = h(null)),
-                                (s.minX = 1 / 0),
-                                (s.minY = 1 / 0),
-                                (s.maxX = -1 / 0),
-                                (s.maxY = -1 / 0);
-                            for (var o, r = t; r < i; r++)
-                                (o = e.children[r]), a(s, e.leaf ? n(o) : o);
-                            return s;
-                        }
-                        function a(e, t) {
-                            return (
-                                (e.minX = Math.min(e.minX, t.minX)),
-                                (e.minY = Math.min(e.minY, t.minY)),
-                                (e.maxX = Math.max(e.maxX, t.maxX)),
-                                (e.maxY = Math.max(e.maxY, t.maxY)),
-                                e
-                            );
-                        }
-                        function o(e, t) {
-                            return e.minX - t.minX;
-                        }
-                        function r(e, t) {
-                            return e.minY - t.minY;
-                        }
-                        function l(e) {
-                            return (e.maxX - e.minX) * (e.maxY - e.minY);
-                        }
-                        function c(e) {
-                            return e.maxX - e.minX + (e.maxY - e.minY);
-                        }
-                        function d(e, t) {
-                            return (
-                                e.minX <= t.minX &&
-                                e.minY <= t.minY &&
-                                t.maxX <= e.maxX &&
-                                t.maxY <= e.maxY
-                            );
-                        }
-                        function u(e, t) {
-                            return (
-                                t.minX <= e.maxX &&
-                                t.minY <= e.maxY &&
-                                t.maxX >= e.minX &&
-                                t.maxY >= e.minY
-                            );
-                        }
-                        function h(e) {
-                            return {
-                                children: e,
-                                height: 1,
-                                leaf: !0,
-                                minX: 1 / 0,
-                                minY: 1 / 0,
-                                maxX: -1 / 0,
-                                maxY: -1 / 0,
-                            };
-                        }
-                        function p(e, t, i, n, s) {
-                            for (var a, o = [t, i]; o.length; )
-                                (i = o.pop()) - (t = o.pop()) <= n ||
-                                    ((a = t + Math.ceil((i - t) / n / 2) * n),
-                                    m(e, a, t, i, s),
-                                    o.push(t, a, a, i));
-                        }
-                        (t.exports = i), (t.exports.default = i);
-                        var m = e('quickselect');
-                        i.prototype = {
-                            all: function () {
-                                return this._all(this.data, []);
-                            },
-                            search: function (e) {
-                                var t = this.data,
-                                    i = [],
-                                    n = this.toBBox;
-                                if (!u(e, t)) return i;
-                                for (var s, a, o, r, l = []; t; ) {
-                                    for (
-                                        s = 0, a = t.children.length;
-                                        s < a;
-                                        s++
-                                    )
-                                        (o = t.children[s]),
-                                            u(e, (r = t.leaf ? n(o) : o)) &&
-                                                (t.leaf ? i.push(o)
-                                                : d(e, r) ? this._all(o, i)
-                                                : l.push(o));
-                                    t = l.pop();
-                                }
-                                return i;
-                            },
-                            collides: function (e) {
-                                var t = this.data,
-                                    i = this.toBBox;
-                                if (!u(e, t)) return !1;
-                                for (var n, s, a, o, r = []; t; ) {
-                                    for (
-                                        n = 0, s = t.children.length;
-                                        n < s;
-                                        n++
-                                    )
-                                        if (
-                                            ((a = t.children[n]),
-                                            u(e, (o = t.leaf ? i(a) : a)))
-                                        ) {
-                                            if (t.leaf || d(e, o)) return !0;
-                                            r.push(a);
-                                        }
-                                    t = r.pop();
-                                }
-                                return !1;
-                            },
-                            load: function (e) {
-                                if (!e || !e.length) return this;
-                                if (e.length < this._minEntries) {
-                                    for (var t = 0, i = e.length; t < i; t++)
-                                        this.insert(e[t]);
-                                    return this;
-                                }
-                                var n = this._build(
-                                    e.slice(),
-                                    0,
-                                    e.length - 1,
-                                    0
-                                );
-                                if (this.data.children.length)
-                                    if (this.data.height === n.height)
-                                        this._splitRoot(this.data, n);
-                                    else {
-                                        if (this.data.height < n.height) {
-                                            var s = this.data;
-                                            (this.data = n), (n = s);
-                                        }
-                                        this._insert(
-                                            n,
-                                            this.data.height - n.height - 1,
-                                            !0
-                                        );
-                                    }
-                                else this.data = n;
-                                return this;
-                            },
-                            insert: function (e) {
-                                return (
-                                    e && this._insert(e, this.data.height - 1),
-                                    this
-                                );
-                            },
-                            clear: function () {
-                                return (this.data = h([])), this;
-                            },
-                            remove: function (e, t) {
-                                if (!e) return this;
-                                for (
-                                    var i,
-                                        n,
-                                        s,
-                                        a,
-                                        o = this.data,
-                                        r = this.toBBox(e),
-                                        l = [],
-                                        c = [];
-                                    o || l.length;
-
-                                ) {
-                                    if (
-                                        (o ||
-                                            ((o = l.pop()),
-                                            (n = l[l.length - 1]),
-                                            (i = c.pop()),
-                                            (a = !0)),
-                                        o.leaf &&
-                                            -1 !==
-                                                (s = (function (e, t, i) {
-                                                    if (!i) return t.indexOf(e);
-                                                    for (
-                                                        var n = 0;
-                                                        n < t.length;
-                                                        n++
-                                                    )
-                                                        if (i(e, t[n]))
-                                                            return n;
-                                                    return -1;
-                                                })(e, o.children, t)))
-                                    )
-                                        return (
-                                            o.children.splice(s, 1),
-                                            l.push(o),
-                                            this._condense(l),
-                                            this
-                                        );
-                                    a || o.leaf || !d(o, r) ?
-                                        n ? (i++, (o = n.children[i]), (a = !1))
-                                        :   (o = null)
-                                    :   (l.push(o),
-                                        c.push(i),
-                                        (i = 0),
-                                        (n = o),
-                                        (o = o.children[0]));
-                                }
-                                return this;
-                            },
-                            toBBox: function (e) {
-                                return e;
-                            },
-                            compareMinX: o,
-                            compareMinY: r,
-                            toJSON: function () {
-                                return this.data;
-                            },
-                            fromJSON: function (e) {
-                                return (this.data = e), this;
-                            },
-                            _all: function (e, t) {
-                                for (var i = []; e; )
-                                    e.leaf ?
-                                        t.push.apply(t, e.children)
-                                    :   i.push.apply(i, e.children),
-                                        (e = i.pop());
-                                return t;
-                            },
-                            _build: function (e, t, i, s) {
-                                var a,
-                                    o = i - t + 1,
-                                    r = this._maxEntries;
-                                if (o <= r)
-                                    return (
-                                        n(
-                                            (a = h(e.slice(t, i + 1))),
-                                            this.toBBox
-                                        ),
-                                        a
-                                    );
-                                s ||
-                                    ((s = Math.ceil(Math.log(o) / Math.log(r))),
-                                    (r = Math.ceil(o / Math.pow(r, s - 1)))),
-                                    ((a = h([])).leaf = !1),
-                                    (a.height = s);
-                                var l,
-                                    c,
-                                    d,
-                                    u,
-                                    m = Math.ceil(o / r),
-                                    _ = m * Math.ceil(Math.sqrt(r));
-                                for (
-                                    p(e, t, i, _, this.compareMinX), l = t;
-                                    l <= i;
-                                    l += _
-                                )
-                                    for (
-                                        p(
-                                            e,
-                                            l,
-                                            (d = Math.min(l + _ - 1, i)),
-                                            m,
-                                            this.compareMinY
-                                        ),
-                                            c = l;
-                                        c <= d;
-                                        c += m
-                                    )
-                                        (u = Math.min(c + m - 1, d)),
-                                            a.children.push(
-                                                this._build(e, c, u, s - 1)
-                                            );
-                                return n(a, this.toBBox), a;
-                            },
-                            _chooseSubtree: function (e, t, i, n) {
-                                for (
-                                    var s, a, o, r, c, d, u, h;
-                                    n.push(t), !t.leaf && n.length - 1 !== i;
-
-                                ) {
-                                    for (
-                                        u = h = 1 / 0,
-                                            s = 0,
-                                            a = t.children.length;
-                                        s < a;
-                                        s++
-                                    )
-                                        (c = l((o = t.children[s]))),
-                                            (
-                                                (d =
-                                                    (function (e, t) {
-                                                        return (
-                                                            (Math.max(
-                                                                t.maxX,
-                                                                e.maxX
-                                                            ) -
-                                                                Math.min(
-                                                                    t.minX,
-                                                                    e.minX
-                                                                )) *
-                                                            (Math.max(
-                                                                t.maxY,
-                                                                e.maxY
-                                                            ) -
-                                                                Math.min(
-                                                                    t.minY,
-                                                                    e.minY
-                                                                ))
-                                                        );
-                                                    })(e, o) - c) < h
-                                            ) ?
-                                                ((h = d),
-                                                (u = c < u ? c : u),
-                                                (r = o))
-                                            :   d === h &&
-                                                c < u &&
-                                                ((u = c), (r = o));
-                                    t = r || t.children[0];
-                                }
-                                return t;
-                            },
-                            _insert: function (e, t, i) {
-                                var n = this.toBBox,
-                                    s = i ? e : n(e),
-                                    o = [],
-                                    r = this._chooseSubtree(s, this.data, t, o);
-                                for (
-                                    r.children.push(e), a(r, s);
-                                    t >= 0 &&
-                                    o[t].children.length > this._maxEntries;
-
-                                )
-                                    this._split(o, t), t--;
-                                this._adjustParentBBoxes(s, o, t);
-                            },
-                            _split: function (e, t) {
-                                var i = e[t],
-                                    s = i.children.length,
-                                    a = this._minEntries;
-                                this._chooseSplitAxis(i, a, s);
-                                var o = this._chooseSplitIndex(i, a, s),
-                                    r = h(
-                                        i.children.splice(
-                                            o,
-                                            i.children.length - o
-                                        )
-                                    );
-                                (r.height = i.height),
-                                    (r.leaf = i.leaf),
-                                    n(i, this.toBBox),
-                                    n(r, this.toBBox),
-                                    t ?
-                                        e[t - 1].children.push(r)
-                                    :   this._splitRoot(i, r);
-                            },
-                            _splitRoot: function (e, t) {
-                                (this.data = h([e, t])),
-                                    (this.data.height = e.height + 1),
-                                    (this.data.leaf = !1),
-                                    n(this.data, this.toBBox);
-                            },
-                            _chooseSplitIndex: function (e, t, i) {
-                                var n, a, o, r, c, d, u, h;
-                                for (d = u = 1 / 0, n = t; n <= i - t; n++)
-                                    (r = (function (e, t) {
-                                        var i = Math.max(e.minX, t.minX),
-                                            n = Math.max(e.minY, t.minY),
-                                            s = Math.min(e.maxX, t.maxX),
-                                            a = Math.min(e.maxY, t.maxY);
-                                        return (
-                                            Math.max(0, s - i) *
-                                            Math.max(0, a - n)
-                                        );
-                                    })(
-                                        (a = s(e, 0, n, this.toBBox)),
-                                        (o = s(e, n, i, this.toBBox))
-                                    )),
-                                        (c = l(a) + l(o)),
-                                        r < d ?
-                                            ((d = r),
-                                            (h = n),
-                                            (u = c < u ? c : u))
-                                        :   r === d &&
-                                            c < u &&
-                                            ((u = c), (h = n));
-                                return h;
-                            },
-                            _chooseSplitAxis: function (e, t, i) {
-                                var n = e.leaf ? this.compareMinX : o,
-                                    s = e.leaf ? this.compareMinY : r;
-                                this._allDistMargin(e, t, i, n) <
-                                    this._allDistMargin(e, t, i, s) &&
-                                    e.children.sort(n);
-                            },
-                            _allDistMargin: function (e, t, i, n) {
-                                e.children.sort(n);
-                                var o,
-                                    r,
-                                    l = this.toBBox,
-                                    d = s(e, 0, t, l),
-                                    u = s(e, i - t, i, l),
-                                    h = c(d) + c(u);
-                                for (o = t; o < i - t; o++)
-                                    (r = e.children[o]),
-                                        a(d, e.leaf ? l(r) : r),
-                                        (h += c(d));
-                                for (o = i - t - 1; o >= t; o--)
-                                    (r = e.children[o]),
-                                        a(u, e.leaf ? l(r) : r),
-                                        (h += c(u));
-                                return h;
-                            },
-                            _adjustParentBBoxes: function (e, t, i) {
-                                for (var n = i; n >= 0; n--) a(t[n], e);
-                            },
-                            _condense: function (e) {
-                                for (var t, i = e.length - 1; i >= 0; i--)
-                                    0 === e[i].children.length ?
-                                        i > 0 ?
-                                            (t = e[i - 1].children).splice(
-                                                t.indexOf(e[i]),
-                                                1
-                                            )
-                                        :   this.clear()
-                                    :   n(e[i], this.toBBox);
-                            },
-                            _initFormat: function (e) {
-                                var t = ['return a', ' - b', ';'];
-                                (this.compareMinX = new Function(
-                                    'a',
-                                    'b',
-                                    t.join(e[0])
-                                )),
-                                    (this.compareMinY = new Function(
-                                        'a',
-                                        'b',
-                                        t.join(e[1])
-                                    )),
-                                    (this.toBBox = new Function(
-                                        'a',
-                                        'return {minX: a' +
-                                            e[0] +
-                                            ', minY: a' +
-                                            e[1] +
-                                            ', maxX: a' +
-                                            e[2] +
-                                            ', maxY: a' +
-                                            e[3] +
-                                            '};'
-                                    ));
-                            },
-                        };
-                    },
-                    { quickselect: 2 },
-                ],
-                2: [
-                    function (e, t) {
-                        'use strict';
-                        function i(e, t, i, s, a) {
-                            n(
-                                e,
-                                t,
-                                i || 0,
-                                s || e.length - 1,
-                                a ||
-                                    function (e, t) {
-                                        return (
-                                            e < t ? -1
-                                            : e > t ? 1
-                                            : 0
-                                        );
-                                    }
-                            );
-                        }
-                        function n(e, t, i, a, o) {
-                            for (; a > i; ) {
-                                if (a - i > 600) {
-                                    var r = a - i + 1,
-                                        l = t - i + 1,
-                                        c = Math.log(r),
-                                        d = 0.5 * Math.exp((2 * c) / 3),
-                                        u =
-                                            0.5 *
-                                            Math.sqrt((c * d * (r - d)) / r) *
-                                            (l - r / 2 < 0 ? -1 : 1);
-                                    n(
-                                        e,
-                                        t,
-                                        Math.max(
-                                            i,
-                                            Math.floor(t - (l * d) / r + u)
-                                        ),
-                                        Math.min(
-                                            a,
-                                            Math.floor(
-                                                t + ((r - l) * d) / r + u
-                                            )
-                                        ),
-                                        o
-                                    );
-                                }
-                                var h = e[t],
-                                    p = i,
-                                    m = a;
-                                for (
-                                    s(e, i, t), o(e[a], h) > 0 && s(e, i, a);
-                                    p < m;
-
-                                ) {
-                                    for (s(e, p, m), p++, m--; o(e[p], h) < 0; )
-                                        p++;
-                                    for (; o(e[m], h) > 0; ) m--;
-                                }
-                                0 === o(e[i], h) ? s(e, i, m) : s(e, ++m, a),
-                                    m <= t && (i = m + 1),
-                                    t <= m && (a = m - 1);
-                            }
-                        }
-                        function s(e, t, i) {
-                            var n = e[t];
-                            (e[t] = e[i]), (e[i] = n);
-                        }
-                        (t.exports = i), (t.exports.default = i);
-                    },
-                    {},
-                ],
-            },
-            {},
-            [1]
-        )(1);
-    }),
-    (L.DomEvent.fakeStop = () => !0),
-    (window.L.CanvasIconLayer = layerFactory(L)),
-    (MapProviders = Object.freeze({
-        MAP_KIT: 'map_kit',
-        LEAFLET: 'leaflet',
-        LEAFLET_CANVAS: 'leaflet_canvas',
-        NATIVE: 'native_map',
-    })),
-    (MapEventTypes = Object.freeze({
-        MOVE: 'move',
-        ZOOM: 'zoom',
-        TYPE_CHANGE: 'type_change',
-        VIEW_TYPE_CHANGE: 'view_type_change',
-        WHEEL: 'wheel',
-        OVERLAY_ADD: 'overlayadd',
-        OVERLAY_REMOVE: 'overlayremove',
-    })),
-    (MAP_EVENT_MAPPING = Object.freeze({
-        move: { map_kit: 'region-change-end', leaflet: 'moveend' },
-        zoom: { map_kit: 'zoom-end' },
-        type_change: { map_kit: 'map-type-change' },
-        wheel: { map_kit: 'wheel' },
-        view_type_change: { map_kit: 'view_type_change' },
-        overlayadd: { leaflet: 'overlayadd', leaflet_canvas: 'overlayadd' },
-        overlayremove: {
-            leaflet: 'overlayremove',
-            leaflet_canvas: 'overlayremove',
-        },
-    }));
-const DEFAULT_LEAFLET_ZOOM = 13;
-class XYMap {
-    #e = void 0;
-    #t = void 0;
-    #i = void 0;
-    constructor(e) {
-        this.mapProvider = e;
-    }
-    init(e) {
-        switch (this.mapProvider) {
-            case MapProviders.MAP_KIT:
-                this.#n(e);
-                break;
-            case MapProviders.LEAFLET:
-                this.#s(e);
-                break;
-            case MapProviders.LEAFLET_CANVAS:
-                this.#a(e);
-                break;
-            case MapProviders.NATIVE:
-                console.log(MapProviders.NATIVE), this.#s(e);
-        }
-    }
-    supportsCanvas() {
-        return this.mapProvider === MapProviders.LEAFLET_CANVAS;
-    }
-    getCanvasLayer() {
-        return this.#i || (this.#i = L.canvasIconLayer()), this.#i;
-    }
-    isMarkerVisible(e) {
-        let t = [0, 0];
-        switch (this.mapProvider) {
-            case MapProviders.MAP_KIT:
-                const i = e.coordinate;
-                t = [i.latitude, i.longitude];
-                break;
-            case MapProviders.LEAFLET:
-            case MapProviders.LEAFLET_CANVAS:
-                t = e.getLatLng();
-                break;
-            case MapProviders.NATIVE:
-                return !1;
-        }
-        return this.isVisible(t);
-    }
-    isVisible(e) {
-        switch (this.mapProvider) {
-            case MapProviders.MAP_KIT:
-                return this.#o(e);
-            case MapProviders.LEAFLET:
-            case MapProviders.LEAFLET_CANVAS:
-                return this.#r(e);
-            case MapProviders.NATIVE:
-                return !1;
-        }
-    }
-    getCenter() {
-        switch (this.mapProvider) {
-            case MapProviders.MAP_KIT:
-                return this.#e.center;
-            case MapProviders.LEAFLET:
-            case MapProviders.LEAFLET_CANVAS:
-                return this.#t.getCenter();
-            case MapProviders.NATIVE:
-                return console.log(MapProviders.NATIVE), this.#t.getCenter();
-        }
-    }
-    getRegion() {
-        return this.mapProvider === MapProviders.MAP_KIT ? this.#e.region : [];
-    }
-    setRegion(e) {
-        return this.mapProvider === MapProviders.MAP_KIT ?
-                (this.#e.region = e)
-            :   [];
-    }
-    getMapViewType() {
-        return this.mapProvider === MapProviders.MAP_KIT ?
-                this.#e.mapType
-            :   null;
-    }
-    createMapMarker(e, t) {
-        switch (this.mapProvider) {
-            case MapProviders.MAP_KIT:
-                return this.#l(e, t);
-            case MapProviders.LEAFLET:
-            case MapProviders.LEAFLET_CANVAS:
-            case MapProviders.NATIVE:
-                return this.#c(e, t);
-            default:
-                return null;
-        }
-    }
-    createMapMarkerAddAddToMap(e, t, i) {
-        const n = this.createMapMarker(e, t);
-        return this.addMarkerToLayer(i, n), n;
-    }
-    addMarkers(e, t) {
-        if (
-            (e || (e = xy_map.getCanvasLayer()),
-            this.mapProvider === MapProviders.LEAFLET_CANVAS)
-        )
-            e.addMarkers(t);
-    }
-    addMarkerToLayer(e, t) {
-        if (t)
-            switch (this.mapProvider) {
-                case MapProviders.MAP_KIT:
-                    this.#e.addAnnotation(t);
-                    break;
-                case MapProviders.LEAFLET:
-                    t.addTo(e);
-                    break;
-                case MapProviders.LEAFLET_CANVAS:
-                    e.addMarker(t);
-            }
-        else console.log('marker is missing');
-    }
-    removeMarker(e) {
-        switch (this.mapProvider) {
-            case MapProviders.MAP_KIT:
-                this.#e.removeAnnotation(e);
-                break;
-            case MapProviders.LEAFLET:
-                e.remove();
-                break;
-            case MapProviders.LEAFLET_CANVAS:
-                this.#i.removeMarker(e, !0);
-        }
-    }
-    updateMarker(e, t) {
-        switch (this.mapProvider) {
-            case MapProviders.MAP_KIT:
-                this.#d(e, t);
-                break;
-            case MapProviders.LEAFLET:
-                this.#u(e, t);
-                break;
-            case MapProviders.LEAFLET_CANVAS:
-                this.#h(e, t);
-        }
-    }
-    invalidateSize() {
-        switch (this.mapProvider) {
-            case MapProviders.LEAFLET:
-            case MapProviders.LEAFLET_CANVAS:
-            case MapProviders.NATIVE:
-                this.#t.invalidateSize();
-        }
-    }
-    addControlLayers(e) {
-        if (this.mapProvider === MapProviders.LEAFLET) {
-            L.control.layers(null, e).addTo(this.#t);
-        }
-    }
-    addLayer(e) {
-        switch (this.mapProvider) {
-            case MapProviders.LEAFLET:
-            case MapProviders.LEAFLET_CANVAS:
-                e.addTo(this.#t);
-                break;
-            default:
-                return;
-        }
-    }
-    removeLayer(e) {
-        switch (this.mapProvider) {
-            case MapProviders.LEAFLET:
-            case MapProviders.LEAFLET_CANVAS:
-                this.#t.removeLayer(e);
-                break;
-            default:
-                return;
-        }
-    }
-    showLayer(e) {
-        if (e)
-            switch (this.mapProvider) {
-                case MapProviders.LEAFLET:
-                    e.addTo(this.#t);
-                    break;
-                case MapProviders.LEAFLET_CANVAS:
-                    break;
-                default:
-                    return;
-            }
-    }
-    hideLayer(e) {
-        if (e)
-            switch (this.mapProvider) {
-                case MapProviders.LEAFLET:
-                    this.#t.removeLayer(e);
-                    break;
-                case MapProviders.LEAFLET_CANVAS:
-                    break;
-                default:
-                    return;
-            }
-    }
-    hasLayer(e) {
-        return (
-            !!e &&
-            this.mapProvider === MapProviders.LEAFLET &&
-            this.#t.hasLayer(e)
-        );
-    }
-    redraw() {
-        this.mapProvider === MapProviders.LEAFLET_CANVAS &&
-            xy_map.getCanvasLayer()._redraw();
-    }
-    addEventListener(e, t) {
-        switch (e) {
-            case MapEventTypes.MOVE:
-            case MapEventTypes.ZOOM:
-            case MapEventTypes.OVERLAY_ADD:
-            case MapEventTypes.OVERLAY_REMOVE:
-            case MapEventTypes.WHEEL:
-            case MapEventTypes.VIEW_TYPE_CHANGE:
-                this.#p(e, t);
-        }
-    }
-    setColorScheme(e) {
-        if (this.mapProvider === MapProviders.MAP_KIT)
-            this.#e.center.colorScheme = e;
-    }
-    #n(e) {
-        mapkit.init({
-            authorizationCallback: function (e) {
-                var t = new XMLHttpRequest();
-                t.open('GET', '/mapkittoken'),
-                    t.addEventListener('load', function () {
-                        e(this.responseText);
-                    }),
-                    t.send();
-            },
-        });
-        let t = new mapkit.Coordinate(e.coordinates[0], e.coordinates[1]),
-            i = new mapkit.CoordinateSpan(0.1, 0.1);
-        (this.#e = new mapkit.Map(e.map_name, {
-            region: new mapkit.CoordinateRegion(t, i),
-            showsUserLocationControl: !0,
-            showsScale: mapkit.FeatureVisibility.Visible,
-            mapType: e.map_type,
-        })),
-            (map = this.#e);
-    }
-    #s(e) {
-        let t = '';
-        !e.osm_mode ||
-            (1 != e.osm_mode && 2 != e.osm_mode) ||
-            (t = `leaflet-dark-${e.osm_mode}`);
-        const i = L.tileLayer(e.osm_tile_url_format, e.osm_leaflet_data);
-        if (
-            ((this.#t = L.map(e.map_name, {
-                zoomControl: e.zoom_option,
-                padding: 0.3,
-            }).setView(
-                e.coordinates,
-                e.zoom_level ? e.zoom_level : DEFAULT_LEAFLET_ZOOM
-            )),
-            this.addLayer(i),
-            e.extend_option)
-        ) {
-            let t = this.#m(e);
-            this.#t.addControl(new t());
-        }
-        this.addLayer(L.control.scale()),
-            '' !== t && i.getContainer() && i.getContainer().classList.add(t),
-            (map = this.#t);
-    }
-    #a(e) {
-        let t = '';
-        !e.osm_mode ||
-            (1 != e.osm_mode && 2 != e.osm_mode) ||
-            (t = `leaflet-dark-${e.osm_mode}`);
-        const i = L.tileLayer(e.osm_tile_url_format, e.osm_leaflet_data);
-        if (
-            ((this.#t = L.map(e.map_name, {
-                zoomControl: e.zoom_option,
-                padding: 0.3,
-            }).setView(
-                e.coordinates,
-                e.zoom_level ? e.zoom_level : DEFAULT_LEAFLET_ZOOM
-            )),
-            this.addLayer(i),
-            e.extend_option)
-        ) {
-            let t = this.#m(e);
-            this.#t.addControl(new t());
-        }
-        this.addLayer(L.control.scale()),
-            (this.#i = L.canvasIconLayer({ padding: 0.3 })),
-            '' !== t && i.getContainer() && i.getContainer().classList.add(t),
-            (map = this.#t);
-    }
-    #m(e) {
-        return L.Control.extend({
-            options: { position: 'topleft' },
-            onAdd: function () {
-                let t = L.DomUtil.create(
-                    'div',
-                    'leaflet-bar leaflet-control leaflet-control-custom map-expand-button hidden-xs cursor-clickable'
-                );
-                return (
-                    (t.style.backgroundColor = 'white'),
-                    (t.style.width = '26px'),
-                    (t.style.height = '26px'),
-                    (t.onclick = function () {
-                        mapExpand(
-                            3 == e.user_design_mode ||
-                                4 == e.user_design_mode ||
-                                6 == e.user_design_mode
-                        );
-                    }),
-                    t
-                );
-            },
-        });
-    }
-    #p(e, t) {
-        const i = MAP_EVENT_MAPPING[e][this.mapProvider];
-        if (i)
-            switch (this.mapProvider) {
-                case MapProviders.MAP_KIT:
-                    e === MapEventTypes.WHEEL ?
-                        this.#e.element.addEventListener(i, t)
-                    :   this.#e.addEventListener(i, t);
-                    break;
-                case MapProviders.LEAFLET:
-                case MapProviders.LEAFLET_CANVAS:
-                    this.#t.addEventListener(i, t);
-            }
-    }
-    #o(e) {
-        const t = parseFloat(this.#e.region.center.latitude),
-            i = parseFloat(this.#e.region.span.latitudeDelta),
-            n = t - i,
-            s = t + i,
-            a = parseFloat(this.#e.region.center.longitude),
-            o = parseFloat(this.#e.region.span.longitudeDelta),
-            r = a - o,
-            l = a + o;
-        return n <= e[0] && s >= e[0] && r <= e[1] && l >= e[1];
-    }
-    #r(e) {
-        let t = e;
-        return this.#t.getBounds().pad(this.#t.options.padding).contains(t);
-    }
-    #l(e, t) {
-        let i = new mapkit.ImageAnnotation(
-            new mapkit.Coordinate(e.latitude, e.longitude),
-            { url: { 1: e.flavour_url } }
-        );
-        if (
-            ((i.element.className = 'mapkit-marker'),
-            i.element.addEventListener('mouseover', () => {
-                this.#e.selectedAnnotation = i;
-            }),
-            i.element.addEventListener('mouseenter', () => {
-                this.#e.selectedAnnotation = i;
-            }),
-            i.element.addEventListener('mouseout', () => {
-                this.#e.selectedAnnotation = null;
-            }),
-            i.element.addEventListener('click', t),
-            'b' === e.markerType &&
-                (i.element.setAttribute('title', e.name),
-                (i.title = e.name),
-                (i.building_id = e.id),
-                (i.element.building_id = e.id)),
-            'm' === e.markerType)
-        ) {
-            (i.mission_id = e.id), (i.element.mission_id = e.id);
-            let t = e.plain_caption;
-            t || (t = e.caption),
-                i.element.setAttribute('title', t),
-                (i.title = t),
-                (i.subtitle = e.address);
-        }
-        return i;
-    }
-    #d(e, t) {
-        return (
-            (t.url = { 1: e.flavour_url }),
-            (t.opacity = 1),
-            (t.title = e.caption),
-            (t.subtitle = e.address),
-            t
-        );
-    }
-    #c(e, t) {
-        let i = e.name;
-        isParamPresent(e, 'caption_address') && (i = e.caption_address),
-            !i && isParamPresent(e, 'caption') && (i = e.caption);
-        let n = L.marker([e.latitude, e.longitude], {
-            zIndexOffset: e.zIndexOffset,
-            title: e.plain_caption,
-            icon: L.icon({
-                iconUrl: e.flavour_url,
-                iconSize: [32, 37],
-                iconAnchor: [16, 18],
-            }),
-        });
-        return (
-            n.setOpacity(1),
-            this.mapProvider === MapProviders.LEAFLET &&
-                this.#_(e.flavour_url, n),
-            n.bindTooltip(i, e.tooltipParams),
-            void 0 !== e.opacity && n.setOpacity(e.opacity),
-            n.on('click', t),
-            n
-        );
-    }
-    #_(e, t) {
-        var i = new Image();
-        (i.src = e),
-            $(i).load(function () {
-                t.setIcon(
-                    L.icon({
-                        iconUrl: e,
-                        iconSize: [i.width, i.height],
-                        iconAnchor: iconAnchorCalculate([i.width, i.height]),
-                    })
-                );
-            });
-    }
-    #u(e, t) {
-        return (
-            t.setIcon(icon_empty),
-            t.setOpacity(1),
-            iconMapGenerate(e.flavour_url, t),
-            t.setTooltipContent(e.caption),
-            t
-        );
-    }
-    #h(e, t) {
-        return (
-            t.setOpacity(1),
-            (t.canvas_img = null),
-            (t.options.icon.options.iconUrl = flavouredAsset(e.flavour_url)),
-            t.setTooltipContent(e.caption),
-            this.#i._redraw(),
-            t
-        );
-    }
-}
+    })(this);
 const isSafari = void 0 !== window.safari;
 var currentUserId = -1,
     user_id = -1,
     map,
-    xy_map,
     alliance_member_buildings_show,
     geocoder,
     directionsService,
     building_eval_unload,
     building_markers = Array(),
     building_markers_cache = Array(),
-    building_markers_params_cache_per_id = new Map(),
-    building_markers_per_id = new Map(),
+    building_markers_cache_per_id = new Map(),
     building_draw_timeOut,
     building_timers = Array(),
     building_marker_image = '/images/building_fire.png',
@@ -68269,6 +65749,7 @@ var currentUserId = -1,
     alliance_chat_ban_countdown_timer,
     mission_overview_timer,
     mission_overview_last_count,
+    buildingVehicleGraphicCache = {},
     buildingVehicleGraphicCachePerId = new Map(),
     TIME_MODIFIER_SONDERRECHTE = 0.8,
     TIME_MODIFIER_NORMAL = 1.1,
@@ -68347,7 +65828,6 @@ var pauseTick = !1,
         window.oCancelAnimationFrame ||
         window.msCancelRequestAnimationFrame ||
         window.msCancelAnimationFrame;
-let missionsWorker, buildingsWorker;
 $(function () {
     function onCoinsTop() {
         return !mobile_bridge_use || (mobileBridgeAdd('coins_window', {}), !1);
@@ -72385,26 +69865,26 @@ if (
                                                 )
                                             );
                                     else {
-                                        var S =
+                                        var z =
                                             this.previousElementSibling &&
                                             'OPTGROUP' ===
                                                 this.previousElementSibling
                                                     .tagName;
                                         if (
-                                            !S &&
+                                            !z &&
                                             i.options.hideDisabled &&
                                             void 0 !==
                                                 (d = a.data('prevHiddenIndex'))
                                         ) {
-                                            var z =
+                                            var S =
                                                 u.eq(d)[0]
                                                     .previousElementSibling;
-                                            z &&
-                                                'OPTGROUP' === z.tagName &&
-                                                !z.disabled &&
-                                                (S = !0);
+                                            S &&
+                                                'OPTGROUP' === S.tagName &&
+                                                !S.disabled &&
+                                                (z = !0);
                                         }
-                                        S &&
+                                        z &&
                                             (o++,
                                             n.push(
                                                 r(
@@ -72897,7 +70377,7 @@ if (
                                 'auto' != this.options.size &&
                                 this.$lis.not(x).length > this.options.size
                             ) {
-                                var S = this.$lis
+                                var z = this.$lis
                                         .not('.divider')
                                         .not(x)
                                         .children()
@@ -72905,10 +70385,10 @@ if (
                                         .last()
                                         .parent()
                                         .index(),
-                                    z = this.$lis
-                                        .slice(0, S + 1)
+                                    S = this.$lis
+                                        .slice(0, z + 1)
                                         .filter('.divider').length;
-                                (t = _ * this.options.size + z * y + w.vert),
+                                (t = _ * this.options.size + S * y + w.vert),
                                     c.options.container ?
                                         (d.data('height') ||
                                             d.data('height', d.height()),
@@ -73930,7 +71410,7 @@ if (
             y(e, 'display', '');
         }
         function b(e) {
-            j(e) ? g(e) : v(e);
+            D(e) ? g(e) : v(e);
         }
         function y(e, t, i) {
             if (arguments.length < 3) {
@@ -73988,22 +71468,22 @@ if (
         function C(e, t) {
             return t.parentNode.insertBefore(e, t);
         }
-        function S(e) {
+        function z(e) {
             return e.className.trim().split(/\s+/);
         }
-        function z(e, t) {
+        function S(e, t) {
             return k(e, '.' + t);
         }
         function A(e, t) {
-            var i = S(e);
+            var i = z(e);
             i.indexOf(t) < 0 && i.push(t), (e.className = i.join(' '));
         }
         function E(e, t) {
-            var i = S(e);
+            var i = z(e);
             s(i, t), (e.className = i.join(' '));
         }
         function P(e, t, i) {
-            (i = pe(i) ? !z(e, t) : i) ? A(e, t) : E(e, t);
+            (i = pe(i) ? !S(e, t) : i) ? A(e, t) : E(e, t);
         }
         function M(e, t) {
             if (pe(t)) {
@@ -74023,7 +71503,7 @@ if (
             }
             y(e, 'height', t);
         }
-        function D(e, t, i) {
+        function j(e, t, i) {
             var n;
             me(window.CustomEvent) ?
                 (n = new CustomEvent(t, {
@@ -74040,7 +71520,7 @@ if (
                 ),
                 e.dispatchEvent(n);
         }
-        function j(e) {
+        function D(e) {
             return !!e.getClientRects().length;
         }
         function R(e) {
@@ -74060,22 +71540,22 @@ if (
                 e = a;
             }
         }
-        function L(e, t, i, n) {
+        function O(e, t, i, n) {
             B(e, t, i, n, !0);
         }
-        function O(e, t) {
+        function N(e, t) {
             var i = (t = t || document).createDocumentFragment(),
                 n = r('div', {}, t);
             for (n.innerHTML = e; n.firstChild; ) u(i, n.firstChild);
             return i;
         }
-        function F(e) {
+        function L(e) {
             return (
                 e &&
                 (!k(e, 'p,div') || e.className || _(e, 'style') || !i(w(e)))
             );
         }
-        function N(e, t) {
+        function F(e, t) {
             var i = r(t, {}, e.ownerDocument);
             for (
                 a(e.attributes, function (e, t) {
@@ -74159,13 +71639,13 @@ if (
                     ) {
                         for (
                             n = U(u), s = U(u, !0), r = !1;
-                            z(s, 'sceditor-ignore');
+                            S(s, 'sceditor-ignore');
 
                         )
                             s = U(s, !0);
                         if (q(u) && s) {
                             for (a = s; a.lastChild; )
-                                for (a = a.lastChild; z(a, 'sceditor-ignore'); )
+                                for (a = a.lastChild; S(a, 'sceditor-ignore'); )
                                     a = U(a, !0);
                             r =
                                 a.nodeType === ve ?
@@ -74262,7 +71742,7 @@ if (
             var t,
                 i = /^[^\/]*:/i,
                 n = window.location;
-            return e && i.test(e) && !ze.test(e) ?
+            return e && i.test(e) && !Se.test(e) ?
                     ((t = n.pathname.split('/')).pop(),
                     n.protocol + '//' + n.host + t.join('/') + '/' + e)
                 :   e;
@@ -74273,7 +71753,7 @@ if (
                 Object.keys(t).forEach(function (e) {
                     n = n.replace(new RegExp(Q('{' + e + '}'), 'g'), t[e]);
                 }),
-                i && (n = O(n)),
+                i && (n = N(n)),
                 n
             );
         }
@@ -74383,7 +71863,7 @@ if (
                         d = s.createDocumentFragment();
                     if (
                         ('string' == typeof e ?
-                            (t && (e += l.selectedHtml() + t), (d = O(e)))
+                            (t && (e += l.selectedHtml() + t), (d = N(e)))
                         :   (u(d, e),
                             t &&
                                 (u(d, l.selectedRange().extractContents()),
@@ -74536,15 +72016,15 @@ if (
                         s = l.cloneSelected();
                     if (!s) return !1;
                     s.collapse(!1),
-                        (i = De(s, !0, e)),
-                        (n = De(s, !1, t)),
+                        (i = je(s, !0, e)),
+                        (n = je(s, !1, t)),
                         s.setStart(i.node, i.offset),
                         s.setEnd(n.node, n.offset),
                         l.selectRange(s);
                 }),
                 (l.getOuterText = function (e, t) {
                     var i = l.cloneSelected();
-                    return i ? (i.collapse(!e), De(i, e, t).text) : '';
+                    return i ? (i.collapse(!e), je(i, e, t).text) : '';
                 }),
                 (l.replaceKeyword = function (e, t, i, n, s, a) {
                     i ||
@@ -74677,7 +72157,7 @@ if (
                                     d = i ? l.search(r[c]) : l.indexOf(c);
                                 if (d > -1) {
                                     var u = l.indexOf(c, d),
-                                        h = O(t[c], n),
+                                        h = N(t[c], n),
                                         p = l.substr(u + c.length);
                                     h.appendChild(n.createTextNode(p)),
                                         (s.nodeValue = l.substr(0, u)),
@@ -74712,10 +72192,10 @@ if (
                 f,
                 x,
                 T,
-                S,
+                z,
                 R,
                 B,
-                O,
+                N,
                 $,
                 V,
                 U,
@@ -74733,14 +72213,14 @@ if (
                 ye,
                 ke,
                 xe,
-                ze,
+                Se,
                 Ae,
                 Ee,
                 Me,
                 Ie,
-                De,
+                je,
+                Le,
                 Fe,
-                Ne,
                 He,
                 qe,
                 $e,
@@ -74781,7 +72261,7 @@ if (
             (_t.opts.emoticons = t.emoticons || we.emoticons),
                 (xe = function () {
                     (e._sceditor = _t),
-                        kt.locale && 'en' !== kt.locale && De(),
+                        kt.locale && 'en' !== kt.locale && je(),
                         C(
                             (o = r('div', { className: 'sceditor-container' })),
                             e
@@ -74794,21 +72274,21 @@ if (
                     'init' in (i = t ? new t() : {}) && i.init.call(_t),
                         Ie(),
                         $e(),
-                        Fe(),
+                        Le(),
                         Me(),
-                        Ne(),
+                        Fe(),
                         He(),
-                        Se || _t.toggleSourceMode(),
+                        ze || _t.toggleSourceMode(),
                         tt();
                     var n = function () {
-                        m(je, 'load', n),
+                        m(De, 'load', n),
                             kt.autofocus && ot(),
                             mt(),
                             nt(),
                             Y.call('ready'),
                             'onReady' in i && i.onReady.call(_t);
                     };
-                    p(je, 'load', n), 'complete' === Re.readyState && n();
+                    p(De, 'load', n), 'complete' === Re.readyState && n();
                 }),
                 (Ie = function () {
                     var e = kt.plugins;
@@ -74818,7 +72298,7 @@ if (
                             Y.register(e.trim());
                         });
                 }),
-                (De = function () {
+                (je = function () {
                     var e;
                     (U = le.locale[kt.locale]) ||
                         ((e = kt.locale.split('-')), (U = le.locale[e[0]])),
@@ -74834,15 +72314,15 @@ if (
                             (A(o, 'sourceMode'), g(f))
                         :   (A(o, 'wysiwygMode'), g(R)),
                         kt.spellcheck || _(o, 'spellcheck', 'false'),
-                        'https:' === je.location.protocol &&
+                        'https:' === De.location.protocol &&
                             _(f, 'src', 'javascript:false'),
                         u(o, f),
                         u(o, R),
                         _t.dimensions(kt.width || M(e), kt.height || I(e));
                     var t = Be ? 'ie ie' + Be : '';
                     (t += Ce ? ' ios' : ''),
-                        (S = f.contentDocument).open(),
-                        S.write(
+                        (z = f.contentDocument).open(),
+                        z.write(
                             te('html', {
                                 attrs: ' class="' + t + '"',
                                 spellcheck:
@@ -74851,8 +72331,8 @@ if (
                                 style: kt.style,
                             })
                         ),
-                        S.close(),
-                        (T = S.body),
+                        z.close(),
+                        (T = z.body),
                         (x = f.contentWindow),
                         _t.readOnly(!!kt.readOnly),
                         (Ce || Te || Be) &&
@@ -74866,7 +72346,7 @@ if (
                     var n = kt.placeholder || _(e, 'placeholder');
                     n && ((R.placeholder = n), _(T, 'placeholder', n));
                 }),
-                (Ne = function () {
+                (Fe = function () {
                     kt.autoUpdate && (p(T, 'blur', pt), p(R, 'blur', pt)),
                         null === kt.rtl &&
                             (kt.rtl = 'rtl' === y(R, 'direction')),
@@ -74882,7 +72362,7 @@ if (
                         i = 'compositionstart compositionend',
                         n = 'keydown keyup keypress focus blur contextmenu',
                         s =
-                            'onselectionchange' in S ? 'selectionchange' : (
+                            'onselectionchange' in z ? 'selectionchange' : (
                                 'keyup focus blur contextmenu mouseup touchend click'
                             );
                     p(Re, 'click', Xe),
@@ -74900,7 +72380,7 @@ if (
                         p(T, s, st),
                         p(T, n, Qe),
                         kt.emoticonsCompat &&
-                            je.getSelection &&
+                            De.getSelection &&
                             p(T, 'keyup', lt),
                         p(T, 'blur', function () {
                             _t.val() || A(T, 'placeholder');
@@ -74913,12 +72393,12 @@ if (
                         p(R, 'keydown', Ue),
                         p(R, i, Je),
                         p(R, n, Qe),
-                        p(S, 'mousedown', Ye),
-                        p(S, s, st),
-                        p(S, 'beforedeactivate keyup mouseup', Ee),
-                        p(S, 'keyup', nt),
-                        p(S, 'focus', function () {
-                            O = null;
+                        p(z, 'mousedown', Ye),
+                        p(z, s, st),
+                        p(z, 'beforedeactivate keyup mouseup', Ee),
+                        p(z, 'keyup', nt),
+                        p(z, 'focus', function () {
+                            N = null;
                         }),
                         p(o, 'selectionchanged', at),
                         p(o, 'selectionchanged', tt),
@@ -74928,7 +72408,7 @@ if (
                             Qe
                         );
                 }),
-                (Fe = function () {
+                (Le = function () {
                     var e,
                         t = _t.commands,
                         i = (kt.toolbarExclude || '').split(','),
@@ -74966,7 +72446,7 @@ if (
                                             (a._sceWysiwygMode = !!r.exec),
                                             P(a, 'disabled', !r.exec),
                                             p(a, 'click', function (e) {
-                                                z(a, 'disabled') || Ae(a, r),
+                                                S(a, 'disabled') || Ae(a, r),
                                                     tt(),
                                                     e.preventDefault();
                                             }),
@@ -75022,7 +72502,7 @@ if (
                         x = M(o),
                         T = I(o),
                         C = !1,
-                        S = _t.rtl();
+                        z = _t.rtl();
                     if (
                         ((e = kt.resizeMinHeight || T / 1.5),
                         (t = kt.resizeMaxHeight || 2.5 * T),
@@ -75030,12 +72510,12 @@ if (
                         (n = kt.resizeMaxWidth || 1.25 * x),
                         (s = function (s) {
                             'touchmove' === s.type ?
-                                ((s = je.event),
+                                ((s = De.event),
                                 (b = s.changedTouches[0].pageX),
                                 (y = s.changedTouches[0].pageY))
                             :   ((b = s.pageX), (y = s.pageY));
                             var a = k + (y - f),
-                                o = S ? w - (b - _) : w + (b - _);
+                                o = z ? w - (b - _) : w + (b - _);
                             n > 0 && o > n && (o = n),
                                 i > 0 && o < i && (o = i),
                                 kt.resizeWidth || (o = !1),
@@ -75056,15 +72536,15 @@ if (
                         }),
                         ke && ke.create)
                     ) {
-                        var z = ke.create('grip');
-                        z && (u(l, z), A(l, 'has-icon'));
+                        var S = ke.create('grip');
+                        S && (u(l, S), A(l, 'has-icon'));
                     }
                     u(o, l),
                         u(o, c),
                         g(c),
                         p(l, 'touchstart mousedown', function (e) {
                             'touchstart' === e.type ?
-                                ((e = je.event),
+                                ((e = De.event),
                                 (_ = e.touches[0].pageX),
                                 (f = e.touches[0].pageY))
                             :   ((_ = e.pageX), (f = e.pageY)),
@@ -75099,7 +72579,7 @@ if (
                         t,
                         i = T.firstChild,
                         n = !!kt.autofocusEnd;
-                    if (j(o)) {
+                    if (D(o)) {
                         if (_t.sourceMode())
                             return (
                                 (t = n ? R.value.length : 0),
@@ -75108,16 +72588,16 @@ if (
                         if ((G(T), n))
                             for (
                                 (i = T.lastChild) ||
-                                ((i = r('p', {}, S)), u(T, i));
+                                ((i = r('p', {}, z)), u(T, i));
                                 i.lastChild;
 
                             )
                                 (i = i.lastChild),
-                                    !Le &&
+                                    !Oe &&
                                         k(i, 'br') &&
                                         i.previousSibling &&
                                         (i = i.previousSibling);
-                        (e = S.createRange()),
+                        (e = z.createRange()),
                             H(i) ?
                                 e.selectNodeContents(i)
                             :   (e.setStartBefore(i), n && e.setStartAfter(i)),
@@ -75178,14 +72658,14 @@ if (
                 (_t.maximize = function (e) {
                     var t = 'sceditor-maximize';
                     return pe(e) ?
-                            z(o, t)
-                        :   ((e = !!e) && (fe = je.pageYOffset),
+                            S(o, t)
+                        :   ((e = !!e) && (fe = De.pageYOffset),
                             P(Re.documentElement, t, e),
                             P(Re.body, t, e),
                             P(o, t, e),
                             _t.width(e ? '100%' : kt.width, !1),
                             _t.height(e ? '100%' : kt.height, !1),
-                            e || je.scrollTo(0, fe),
+                            e || De.scrollTo(0, fe),
                             mt(),
                             _t);
                 }),
@@ -75203,7 +72683,7 @@ if (
                         var n = Re.createRange();
                         n.selectNodeContents(T);
                         var s = n.getBoundingClientRect(),
-                            a = S.documentElement.clientHeight - 1,
+                            a = z.documentElement.clientHeight - 1,
                             o = s.bottom - s.top,
                             r = _t.height() + 1 + (o - a);
                         t || -1 === ue.max || (r = Math.min(r, ue.max)),
@@ -75214,7 +72694,7 @@ if (
                     if (Y) {
                         Y.destroy(),
                             (Z = null),
-                            (O = null),
+                            (N = null),
                             (Y = null),
                             B && d(B),
                             m(Re, 'click', Xe);
@@ -75234,7 +72714,7 @@ if (
                     var l,
                         c = 'sceditor-' + t;
                     _t.closeDropDown(!0),
-                        (B && z(B, c)) ||
+                        (B && S(B, c)) ||
                             (!1 !== s &&
                                 a(
                                     h(i, ':not(input):not(textarea)'),
@@ -75295,7 +72775,7 @@ if (
                             r = n.items;
                         e.preventDefault();
                         for (var l = 0; l < o.length; l++) {
-                            if (je.FileReader && r && Oe.test(r[l].type))
+                            if (De.FileReader && r && Ne.test(r[l].type))
                                 return s(n.items[l].getAsFile());
                             a[o[l]] = n.getData(o[l]);
                         }
@@ -75322,17 +72802,17 @@ if (
                     }
                 }),
                 (Ve = function (e) {
-                    var t = r('div', {}, S);
+                    var t = r('div', {}, z);
                     Y.call('pasteRaw', e),
-                        D(o, 'pasteraw', e),
+                        j(o, 'pasteraw', e),
                         e.html ?
                             ((t.innerHTML = e.html), W(t))
                         :   (t.innerHTML = X(e.text || ''));
                     var n = { val: t.innerHTML };
                     'fragmentToSource' in i &&
-                        (n.val = i.fragmentToSource(n.val, S, J)),
+                        (n.val = i.fragmentToSource(n.val, z, J)),
                         Y.call('paste', n),
-                        D(o, 'paste', n),
+                        j(o, 'paste', n),
                         'fragmentToHtml' in i &&
                             (n.val = i.fragmentToHtml(n.val, J)),
                         Y.call('pasteHtml', n),
@@ -75350,7 +72830,7 @@ if (
                         (!i && c(Q, 'code')) ||
                             (Z.insertHTML(e, t),
                             Z.saveRange(),
-                            ze(),
+                            Se(),
                             v((n = h(T, '#sceditor-end-marker')[0])),
                             (s = T.scrollTop),
                             (a = K(n).top + 1.5 * n.offsetHeight - o),
@@ -75420,7 +72900,7 @@ if (
                         var o = Z.selectedHtml();
                         !1 !== n &&
                             'fragmentToSource' in i &&
-                            (o = i.fragmentToSource(o, S, J)),
+                            (o = i.fragmentToSource(o, z, J)),
                             (e += o + t);
                     }
                     return (
@@ -75439,7 +72919,7 @@ if (
                 }),
                 (_t.getWysiwygEditorValue = function (e) {
                     for (
-                        var t, n = r('div', {}, S), s = T.childNodes, a = 0;
+                        var t, n = r('div', {}, z), s = T.childNodes, a = 0;
                         a < s.length;
                         a++
                     )
@@ -75451,7 +72931,7 @@ if (
                         (t = n.innerHTML),
                         !1 !== e &&
                             i.hasOwnProperty('toSource') &&
-                            (t = i.toSource(t, S)),
+                            (t = i.toSource(t, z)),
                         t
                     );
                 }),
@@ -75468,7 +72948,7 @@ if (
                 (_t.setWysiwygEditorValue = function (e) {
                     e || (e = '<p>' + (Be ? '' : '<br />') + '</p>'),
                         (T.innerHTML = e),
-                        ze(),
+                        Se(),
                         nt(),
                         dt(),
                         mt();
@@ -75479,11 +72959,11 @@ if (
                 (_t.updateOriginal = function () {
                     e.value = _t.val();
                 }),
-                (ze = function () {
+                (Se = function () {
                     kt.emoticonsEnabled && oe(T, wt, kt.emoticonsCompat);
                 }),
                 (_t.inSourceMode = function () {
-                    return z(o, 'sourceMode');
+                    return S(o, 'sourceMode');
                 }),
                 (_t.sourceMode = function (e) {
                     var t = _t.inSourceMode();
@@ -75494,13 +72974,13 @@ if (
                 }),
                 (_t.toggleSourceMode = function () {
                     var e = _t.inSourceMode();
-                    (!Se && e) ||
+                    (!ze && e) ||
                         (e || (Z.saveRange(), Z.clear()),
                         _t.blur(),
                         e ?
                             _t.setWysiwygEditorValue(_t.getSourceEditorValue())
                         :   _t.setSourceEditorValue(_t.getWysiwygEditorValue()),
-                        (O = null),
+                        (N = null),
                         b(R),
                         b(f),
                         P(o, 'wysiwygMode', e),
@@ -75531,14 +73011,14 @@ if (
                             ));
                 }),
                 (Ee = function () {
-                    Be && (O = Z.selectedRange());
+                    Be && (N = Z.selectedRange());
                 }),
                 (_t.execCommand = function (e, t) {
                     var i = !1,
                         n = _t.commands[e];
                     if ((_t.focus(), !c(Z.parentNode(), 'code'))) {
                         try {
-                            i = S.execCommand(e, !1, t);
+                            i = z.execCommand(e, !1, t);
                         } catch (e) {}
                         !i &&
                             n &&
@@ -75568,15 +73048,15 @@ if (
                                     e = e.parentNode;
                                 e &&
                                     q(e, !0) &&
-                                    (Z.saveRange(), re(T, S), Z.restoreRange());
+                                    (Z.saveRange(), re(T, z), Z.restoreRange());
                             }
-                            D(o, 'selectionchanged');
+                            j(o, 'selectionchanged');
                         }
                         ie = !1;
                     }
                     ie ||
                         ((ie = !0),
-                        'onselectionchange' in S ? e() : setTimeout(e, 100));
+                        'onselectionchange' in z ? e() : setTimeout(e, 100));
                 }),
                 (at = function () {
                     var e,
@@ -75585,7 +73065,7 @@ if (
                         ((e = J),
                         (J = t),
                         (Q = Z.getFirstBlockParent(t)),
-                        D(o, 'nodechanged', { oldNode: e, newNode: J }));
+                        j(o, 'nodechanged', { oldNode: e, newNode: J }));
                 }),
                 (_t.currentNode = function () {
                     return J;
@@ -75597,7 +73077,7 @@ if (
                     var e,
                         t,
                         i = 'active',
-                        n = S,
+                        n = z,
                         s = _t.sourceMode();
                     if (_t.readOnly())
                         a(h(l, i), function (e, t) {
@@ -75633,11 +73113,11 @@ if (
                     if (
                         !e.defaultPrevented &&
                         (_t.closeDropDown(),
-                        13 === e.which && !k(Q, 'li,ul,ol') && F(Q))
+                        13 === e.which && !k(Q, 'li,ul,ol') && L(Q))
                     ) {
-                        O = null;
-                        var t = r('br', {}, S);
-                        if ((Z.insertNode(t), !Le)) {
+                        N = null;
+                        var t = r('br', {}, z);
+                        if ((Z.insertNode(t), !Oe)) {
                             var i = t.parentNode,
                                 n = i.lastChild;
                             n &&
@@ -75653,17 +73133,17 @@ if (
                     }
                 }),
                 (nt = function () {
-                    L(T, function (e) {
+                    O(T, function (e) {
                         if (
                             e.nodeType === ge &&
                             !/inline/.test(y(e, 'display')) &&
                             !k(e, '.sceditor-nlf') &&
-                            F(e)
+                            L(e)
                         ) {
-                            var t = r('p', {}, S);
+                            var t = r('p', {}, z);
                             return (
                                 (t.className = 'sceditor-nlf'),
-                                (t.innerHTML = Le ? '' : '<br />'),
+                                (t.innerHTML = Oe ? '' : '<br />'),
                                 u(T, t),
                                 !1
                             );
@@ -75679,7 +73159,7 @@ if (
                     _t.val(e.value);
                 }),
                 (Ye = function () {
-                    _t.closeDropDown(), (O = null);
+                    _t.closeDropDown(), (N = null);
                 }),
                 (_t._ = function () {
                     var e,
@@ -75731,11 +73211,11 @@ if (
                     if (me(e)) _t.bind('focus', e, t, i);
                     else if (_t.inSourceMode()) R.focus();
                     else {
-                        if (h(S, ':focus').length) return;
+                        if (h(z, ':focus').length) return;
                         var n,
                             s = Z.selectedRange();
                         ee || ot(),
-                            !Le &&
+                            !Oe &&
                                 s &&
                                 1 === s.endOffset &&
                                 s.collapsed &&
@@ -75747,7 +73227,7 @@ if (
                                 Z.selectRange(s)),
                             x.focus(),
                             T.focus(),
-                            O && (Z.selectRange(O), (O = null));
+                            N && (Z.selectRange(N), (N = null));
                     }
                     return tt(), _t;
                 }),
@@ -75804,12 +73284,12 @@ if (
                     ((kt.emoticonsEnabled = e), e) ?
                         (p(T, 'keypress', rt),
                         _t.sourceMode() ||
-                            (Z.saveRange(), ze(), dt(!1), Z.restoreRange()))
+                            (Z.saveRange(), Se(), dt(!1), Z.restoreRange()))
                     :   (a(
                             h(T, 'img[data-sceditor-emoticon]'),
                             function (e, t) {
                                 var i = w(t, 'sceditor-emoticon'),
-                                    n = S.createTextNode(i);
+                                    n = z.createTextNode(i);
                                 t.parentNode.replaceChild(n, t);
                             }
                         ),
@@ -75820,8 +73300,8 @@ if (
                 (_t.css = function (e) {
                     return (
                         de ||
-                            ((de = r('style', { id: 'inline' }, S)),
-                            u(S.head, de)),
+                            ((de = r('style', { id: 'inline' }, z)),
+                            u(z.head, de)),
                         he(e) ?
                             (de.styleSheet ?
                                 (de.styleSheet.cssText = e)
@@ -75982,7 +73462,7 @@ if (
                     }
                 }),
                 (ct = function () {
-                    for (var e = Q; !F(e) || q(e, !0); )
+                    for (var e = Q; !L(e) || q(e, !0); )
                         if (!(e = e.parentNode) || k(e, 'body')) return;
                     return e;
                 }),
@@ -75992,9 +73472,9 @@ if (
                             k(e, 'body') ||
                             (Z.saveRange(),
                             (e.className = ''),
-                            (O = null),
+                            (N = null),
                             _(e, 'style', ''),
-                            k(e, 'p,div,td') || N(e, 'p'),
+                            k(e, 'p,div,td') || F(e, 'p'),
                             Z.restoreRange()),
                         _t
                     );
@@ -76010,12 +73490,12 @@ if (
                         ($ = !1),
                             (e =
                                 !1 !== e &&
-                                !S.getElementById('sceditor-start-marker')),
+                                !z.getElementById('sceditor-start-marker')),
                             V && (clearTimeout(V), (V = !1)),
                             n && e && Z.saveRange(),
                             (t = i ? R.value : T.innerHTML) !== dt.lastVal &&
                                 ((dt.lastVal = t),
-                                D(o, 'valuechanged', {
+                                j(o, 'valuechanged', {
                                     rawValue: i ? _t.val() : t,
                                 })),
                             n && e && Z.removeMarkers();
@@ -76167,7 +73647,7 @@ if (
             })(),
             Te = '-ms-ime-align' in document.documentElement.style,
             Ce = /iPhone|iPod|iPad| wosbrowser\//i.test(ke),
-            Se =
+            ze =
                 (((ue = document.createElement('div')).contentEditable = !0),
                 'contentEditable' in document.documentElement &&
                     'true' === ue.contentEditable &&
@@ -76184,7 +73664,7 @@ if (
                     'UCWEB' === navigator.vendor && (de = !1),
                     xe <= 9 && (de = !0),
                     !de)),
-            ze =
+            Se =
                 /^(https?|s?ftp|mailto|spotify|skype|ssh|teamspeak|tel):|(\/\/)|data:image\/(png|bmp|gif|p?jpe?g);/i,
             Ae = {
                 html: '<!DOCTYPE html><html{attrs}><head><style>.ie * {min-height: auto !important} .ie table td {height:15px} @supports (-ms-ime-align:auto) { * { min-height: auto !important; } }</style><meta http-equiv="Content-Type" content="text/html;charset={charset}" /><link rel="stylesheet" type="text/css" href="{style}" /></head><body contenteditable="true" {spellcheck}><p></p></body></html>',
@@ -76307,7 +73787,7 @@ if (
                                     (s += '</div>');
                             }),
                             (a._htmlCache = s)),
-                            u(n, O(a._htmlCache)),
+                            u(n, N(a._htmlCache)),
                             p(n, 'click', 'a', function (t) {
                                 i(w(this, 'color')),
                                     e.closeDropDown(!0),
@@ -76875,7 +74355,7 @@ if (
             Me = {};
         ne.plugins = Me;
         var Ie = xe && xe < 11,
-            De = function (e, t, i) {
+            je = function (e, t, i) {
                 var n,
                     s,
                     a,
@@ -76903,11 +74383,11 @@ if (
                             (c = r.nextSibling));
                 return { node: r || c, offset: d, text: l };
             },
-            je = window,
+            De = window,
             Re = document,
             Be = xe,
-            Le = Be && Be < 11,
-            Oe = /^image\/(p?jpe?g|gif|png|bmp)$/i;
+            Oe = Be && Be < 11,
+            Ne = /^image\/(p?jpe?g|gif|png|bmp)$/i;
         (le.locale = {}),
             (le.formats = {}),
             (le.icons = {}),
@@ -76947,7 +74427,7 @@ if (
                 defaultOptions: we,
                 ie: xe,
                 ios: Ce,
-                isWysiwygSupported: Se,
+                isWysiwygSupported: ze,
                 regexEscape: Q,
                 escapeEntities: X,
                 escapeUriScheme: ee,
@@ -76960,10 +74440,10 @@ if (
                     width: M,
                     height: I,
                     traverse: B,
-                    rTraverse: L,
-                    parseHTML: O,
-                    hasStyling: F,
-                    convertElement: N,
+                    rTraverse: O,
+                    parseHTML: N,
+                    hasStyling: L,
+                    convertElement: F,
                     blockLevelList: ye,
                     canHaveChildren: H,
                     isInline: q,
@@ -76985,7 +74465,7 @@ if (
                 create: function (e, t) {
                     (t = t || {}),
                         l(e, '.sceditor-container') ||
-                            ((t.runWithoutWysiwygSupport || Se) &&
+                            ((t.runWithoutWysiwygSupport || ze) &&
                                 new le(e, t));
                 },
                 instance: function (e) {
@@ -77138,7 +74618,7 @@ if (
             y(e, 'display', '');
         }
         function b(e) {
-            j(e) ? g(e) : v(e);
+            D(e) ? g(e) : v(e);
         }
         function y(e, t, i) {
             if (arguments.length < 3) {
@@ -77196,22 +74676,22 @@ if (
         function C(e, t) {
             return t.parentNode.insertBefore(e, t);
         }
-        function S(e) {
+        function z(e) {
             return e.className.trim().split(/\s+/);
         }
-        function z(e, t) {
+        function S(e, t) {
             return k(e, '.' + t);
         }
         function A(e, t) {
-            var i = S(e);
+            var i = z(e);
             i.indexOf(t) < 0 && i.push(t), (e.className = i.join(' '));
         }
         function E(e, t) {
-            var i = S(e);
+            var i = z(e);
             s(i, t), (e.className = i.join(' '));
         }
         function P(e, t, i) {
-            (i = pe(i) ? !z(e, t) : i) ? A(e, t) : E(e, t);
+            (i = pe(i) ? !S(e, t) : i) ? A(e, t) : E(e, t);
         }
         function M(e, t) {
             if (pe(t)) {
@@ -77231,7 +74711,7 @@ if (
             }
             y(e, 'height', t);
         }
-        function D(e, t, i) {
+        function j(e, t, i) {
             var n;
             me(window.CustomEvent) ?
                 (n = new CustomEvent(t, {
@@ -77248,7 +74728,7 @@ if (
                 ),
                 e.dispatchEvent(n);
         }
-        function j(e) {
+        function D(e) {
             return !!e.getClientRects().length;
         }
         function R(e) {
@@ -77268,22 +74748,22 @@ if (
                 e = a;
             }
         }
-        function L(e, t, i, n) {
+        function O(e, t, i, n) {
             B(e, t, i, n, !0);
         }
-        function O(e, t) {
+        function N(e, t) {
             var i = (t = t || document).createDocumentFragment(),
                 n = r('div', {}, t);
             for (n.innerHTML = e; n.firstChild; ) u(i, n.firstChild);
             return i;
         }
-        function F(e) {
+        function L(e) {
             return (
                 e &&
                 (!k(e, 'p,div') || e.className || _(e, 'style') || !i(w(e)))
             );
         }
-        function N(e, t) {
+        function F(e, t) {
             var i = r(t, {}, e.ownerDocument);
             for (
                 a(e.attributes, function (e, t) {
@@ -77367,13 +74847,13 @@ if (
                     ) {
                         for (
                             n = U(u), s = U(u, !0), r = !1;
-                            z(s, 'sceditor-ignore');
+                            S(s, 'sceditor-ignore');
 
                         )
                             s = U(s, !0);
                         if (q(u) && s) {
                             for (a = s; a.lastChild; )
-                                for (a = a.lastChild; z(a, 'sceditor-ignore'); )
+                                for (a = a.lastChild; S(a, 'sceditor-ignore'); )
                                     a = U(a, !0);
                             r =
                                 a.nodeType === ve ?
@@ -77470,7 +74950,7 @@ if (
             var t,
                 i = /^[^\/]*:/i,
                 n = window.location;
-            return e && i.test(e) && !ze.test(e) ?
+            return e && i.test(e) && !Se.test(e) ?
                     ((t = n.pathname.split('/')).pop(),
                     n.protocol + '//' + n.host + t.join('/') + '/' + e)
                 :   e;
@@ -77481,7 +74961,7 @@ if (
                 Object.keys(t).forEach(function (e) {
                     n = n.replace(new RegExp(Q('{' + e + '}'), 'g'), t[e]);
                 }),
-                i && (n = O(n)),
+                i && (n = N(n)),
                 n
             );
         }
@@ -77591,7 +75071,7 @@ if (
                         d = s.createDocumentFragment();
                     if (
                         ('string' == typeof e ?
-                            (t && (e += l.selectedHtml() + t), (d = O(e)))
+                            (t && (e += l.selectedHtml() + t), (d = N(e)))
                         :   (u(d, e),
                             t &&
                                 (u(d, l.selectedRange().extractContents()),
@@ -77744,15 +75224,15 @@ if (
                         s = l.cloneSelected();
                     if (!s) return !1;
                     s.collapse(!1),
-                        (i = De(s, !0, e)),
-                        (n = De(s, !1, t)),
+                        (i = je(s, !0, e)),
+                        (n = je(s, !1, t)),
                         s.setStart(i.node, i.offset),
                         s.setEnd(n.node, n.offset),
                         l.selectRange(s);
                 }),
                 (l.getOuterText = function (e, t) {
                     var i = l.cloneSelected();
-                    return i ? (i.collapse(!e), De(i, e, t).text) : '';
+                    return i ? (i.collapse(!e), je(i, e, t).text) : '';
                 }),
                 (l.replaceKeyword = function (e, t, i, n, s, a) {
                     i ||
@@ -77885,7 +75365,7 @@ if (
                                     d = i ? l.search(r[c]) : l.indexOf(c);
                                 if (d > -1) {
                                     var u = l.indexOf(c, d),
-                                        h = O(t[c], n),
+                                        h = N(t[c], n),
                                         p = l.substr(u + c.length);
                                     h.appendChild(n.createTextNode(p)),
                                         (s.nodeValue = l.substr(0, u)),
@@ -77920,10 +75400,10 @@ if (
                 f,
                 x,
                 T,
-                S,
+                z,
                 R,
                 B,
-                O,
+                N,
                 $,
                 V,
                 U,
@@ -77941,14 +75421,14 @@ if (
                 ye,
                 ke,
                 xe,
-                ze,
+                Se,
                 Ae,
                 Ee,
                 Me,
                 Ie,
-                De,
+                je,
+                Le,
                 Fe,
-                Ne,
                 He,
                 qe,
                 $e,
@@ -77989,7 +75469,7 @@ if (
             (_t.opts.emoticons = t.emoticons || we.emoticons),
                 (xe = function () {
                     (e._sceditor = _t),
-                        kt.locale && 'en' !== kt.locale && De(),
+                        kt.locale && 'en' !== kt.locale && je(),
                         C(
                             (o = r('div', { className: 'sceditor-container' })),
                             e
@@ -78002,21 +75482,21 @@ if (
                     'init' in (i = t ? new t() : {}) && i.init.call(_t),
                         Ie(),
                         $e(),
-                        Fe(),
+                        Le(),
                         Me(),
-                        Ne(),
+                        Fe(),
                         He(),
-                        Se || _t.toggleSourceMode(),
+                        ze || _t.toggleSourceMode(),
                         tt();
                     var n = function () {
-                        m(je, 'load', n),
+                        m(De, 'load', n),
                             kt.autofocus && ot(),
                             mt(),
                             nt(),
                             Y.call('ready'),
                             'onReady' in i && i.onReady.call(_t);
                     };
-                    p(je, 'load', n), 'complete' === Re.readyState && n();
+                    p(De, 'load', n), 'complete' === Re.readyState && n();
                 }),
                 (Ie = function () {
                     var e = kt.plugins;
@@ -78026,7 +75506,7 @@ if (
                             Y.register(e.trim());
                         });
                 }),
-                (De = function () {
+                (je = function () {
                     var e;
                     (U = le.locale[kt.locale]) ||
                         ((e = kt.locale.split('-')), (U = le.locale[e[0]])),
@@ -78042,15 +75522,15 @@ if (
                             (A(o, 'sourceMode'), g(f))
                         :   (A(o, 'wysiwygMode'), g(R)),
                         kt.spellcheck || _(o, 'spellcheck', 'false'),
-                        'https:' === je.location.protocol &&
+                        'https:' === De.location.protocol &&
                             _(f, 'src', 'javascript:false'),
                         u(o, f),
                         u(o, R),
                         _t.dimensions(kt.width || M(e), kt.height || I(e));
                     var t = Be ? 'ie ie' + Be : '';
                     (t += Ce ? ' ios' : ''),
-                        (S = f.contentDocument).open(),
-                        S.write(
+                        (z = f.contentDocument).open(),
+                        z.write(
                             te('html', {
                                 attrs: ' class="' + t + '"',
                                 spellcheck:
@@ -78059,8 +75539,8 @@ if (
                                 style: kt.style,
                             })
                         ),
-                        S.close(),
-                        (T = S.body),
+                        z.close(),
+                        (T = z.body),
                         (x = f.contentWindow),
                         _t.readOnly(!!kt.readOnly),
                         (Ce || Te || Be) &&
@@ -78074,7 +75554,7 @@ if (
                     var n = kt.placeholder || _(e, 'placeholder');
                     n && ((R.placeholder = n), _(T, 'placeholder', n));
                 }),
-                (Ne = function () {
+                (Fe = function () {
                     kt.autoUpdate && (p(T, 'blur', pt), p(R, 'blur', pt)),
                         null === kt.rtl &&
                             (kt.rtl = 'rtl' === y(R, 'direction')),
@@ -78090,7 +75570,7 @@ if (
                         i = 'compositionstart compositionend',
                         n = 'keydown keyup keypress focus blur contextmenu',
                         s =
-                            'onselectionchange' in S ? 'selectionchange' : (
+                            'onselectionchange' in z ? 'selectionchange' : (
                                 'keyup focus blur contextmenu mouseup touchend click'
                             );
                     p(Re, 'click', Xe),
@@ -78108,7 +75588,7 @@ if (
                         p(T, s, st),
                         p(T, n, Qe),
                         kt.emoticonsCompat &&
-                            je.getSelection &&
+                            De.getSelection &&
                             p(T, 'keyup', lt),
                         p(T, 'blur', function () {
                             _t.val() || A(T, 'placeholder');
@@ -78121,12 +75601,12 @@ if (
                         p(R, 'keydown', Ue),
                         p(R, i, Je),
                         p(R, n, Qe),
-                        p(S, 'mousedown', Ye),
-                        p(S, s, st),
-                        p(S, 'beforedeactivate keyup mouseup', Ee),
-                        p(S, 'keyup', nt),
-                        p(S, 'focus', function () {
-                            O = null;
+                        p(z, 'mousedown', Ye),
+                        p(z, s, st),
+                        p(z, 'beforedeactivate keyup mouseup', Ee),
+                        p(z, 'keyup', nt),
+                        p(z, 'focus', function () {
+                            N = null;
                         }),
                         p(o, 'selectionchanged', at),
                         p(o, 'selectionchanged', tt),
@@ -78136,7 +75616,7 @@ if (
                             Qe
                         );
                 }),
-                (Fe = function () {
+                (Le = function () {
                     var e,
                         t = _t.commands,
                         i = (kt.toolbarExclude || '').split(','),
@@ -78174,7 +75654,7 @@ if (
                                             (a._sceWysiwygMode = !!r.exec),
                                             P(a, 'disabled', !r.exec),
                                             p(a, 'click', function (e) {
-                                                z(a, 'disabled') || Ae(a, r),
+                                                S(a, 'disabled') || Ae(a, r),
                                                     tt(),
                                                     e.preventDefault();
                                             }),
@@ -78230,7 +75710,7 @@ if (
                         x = M(o),
                         T = I(o),
                         C = !1,
-                        S = _t.rtl();
+                        z = _t.rtl();
                     if (
                         ((e = kt.resizeMinHeight || T / 1.5),
                         (t = kt.resizeMaxHeight || 2.5 * T),
@@ -78238,12 +75718,12 @@ if (
                         (n = kt.resizeMaxWidth || 1.25 * x),
                         (s = function (s) {
                             'touchmove' === s.type ?
-                                ((s = je.event),
+                                ((s = De.event),
                                 (b = s.changedTouches[0].pageX),
                                 (y = s.changedTouches[0].pageY))
                             :   ((b = s.pageX), (y = s.pageY));
                             var a = k + (y - f),
-                                o = S ? w - (b - _) : w + (b - _);
+                                o = z ? w - (b - _) : w + (b - _);
                             n > 0 && o > n && (o = n),
                                 i > 0 && o < i && (o = i),
                                 kt.resizeWidth || (o = !1),
@@ -78264,15 +75744,15 @@ if (
                         }),
                         ke && ke.create)
                     ) {
-                        var z = ke.create('grip');
-                        z && (u(l, z), A(l, 'has-icon'));
+                        var S = ke.create('grip');
+                        S && (u(l, S), A(l, 'has-icon'));
                     }
                     u(o, l),
                         u(o, c),
                         g(c),
                         p(l, 'touchstart mousedown', function (e) {
                             'touchstart' === e.type ?
-                                ((e = je.event),
+                                ((e = De.event),
                                 (_ = e.touches[0].pageX),
                                 (f = e.touches[0].pageY))
                             :   ((_ = e.pageX), (f = e.pageY)),
@@ -78307,7 +75787,7 @@ if (
                         t,
                         i = T.firstChild,
                         n = !!kt.autofocusEnd;
-                    if (j(o)) {
+                    if (D(o)) {
                         if (_t.sourceMode())
                             return (
                                 (t = n ? R.value.length : 0),
@@ -78316,16 +75796,16 @@ if (
                         if ((G(T), n))
                             for (
                                 (i = T.lastChild) ||
-                                ((i = r('p', {}, S)), u(T, i));
+                                ((i = r('p', {}, z)), u(T, i));
                                 i.lastChild;
 
                             )
                                 (i = i.lastChild),
-                                    !Le &&
+                                    !Oe &&
                                         k(i, 'br') &&
                                         i.previousSibling &&
                                         (i = i.previousSibling);
-                        (e = S.createRange()),
+                        (e = z.createRange()),
                             H(i) ?
                                 e.selectNodeContents(i)
                             :   (e.setStartBefore(i), n && e.setStartAfter(i)),
@@ -78386,14 +75866,14 @@ if (
                 (_t.maximize = function (e) {
                     var t = 'sceditor-maximize';
                     return pe(e) ?
-                            z(o, t)
-                        :   ((e = !!e) && (fe = je.pageYOffset),
+                            S(o, t)
+                        :   ((e = !!e) && (fe = De.pageYOffset),
                             P(Re.documentElement, t, e),
                             P(Re.body, t, e),
                             P(o, t, e),
                             _t.width(e ? '100%' : kt.width, !1),
                             _t.height(e ? '100%' : kt.height, !1),
-                            e || je.scrollTo(0, fe),
+                            e || De.scrollTo(0, fe),
                             mt(),
                             _t);
                 }),
@@ -78411,7 +75891,7 @@ if (
                         var n = Re.createRange();
                         n.selectNodeContents(T);
                         var s = n.getBoundingClientRect(),
-                            a = S.documentElement.clientHeight - 1,
+                            a = z.documentElement.clientHeight - 1,
                             o = s.bottom - s.top,
                             r = _t.height() + 1 + (o - a);
                         t || -1 === ue.max || (r = Math.min(r, ue.max)),
@@ -78422,7 +75902,7 @@ if (
                     if (Y) {
                         Y.destroy(),
                             (Z = null),
-                            (O = null),
+                            (N = null),
                             (Y = null),
                             B && d(B),
                             m(Re, 'click', Xe);
@@ -78442,7 +75922,7 @@ if (
                     var l,
                         c = 'sceditor-' + t;
                     _t.closeDropDown(!0),
-                        (B && z(B, c)) ||
+                        (B && S(B, c)) ||
                             (!1 !== s &&
                                 a(
                                     h(i, ':not(input):not(textarea)'),
@@ -78503,7 +75983,7 @@ if (
                             r = n.items;
                         e.preventDefault();
                         for (var l = 0; l < o.length; l++) {
-                            if (je.FileReader && r && Oe.test(r[l].type))
+                            if (De.FileReader && r && Ne.test(r[l].type))
                                 return s(n.items[l].getAsFile());
                             a[o[l]] = n.getData(o[l]);
                         }
@@ -78530,17 +76010,17 @@ if (
                     }
                 }),
                 (Ve = function (e) {
-                    var t = r('div', {}, S);
+                    var t = r('div', {}, z);
                     Y.call('pasteRaw', e),
-                        D(o, 'pasteraw', e),
+                        j(o, 'pasteraw', e),
                         e.html ?
                             ((t.innerHTML = e.html), W(t))
                         :   (t.innerHTML = X(e.text || ''));
                     var n = { val: t.innerHTML };
                     'fragmentToSource' in i &&
-                        (n.val = i.fragmentToSource(n.val, S, J)),
+                        (n.val = i.fragmentToSource(n.val, z, J)),
                         Y.call('paste', n),
-                        D(o, 'paste', n),
+                        j(o, 'paste', n),
                         'fragmentToHtml' in i &&
                             (n.val = i.fragmentToHtml(n.val, J)),
                         Y.call('pasteHtml', n),
@@ -78558,7 +76038,7 @@ if (
                         (!i && c(Q, 'code')) ||
                             (Z.insertHTML(e, t),
                             Z.saveRange(),
-                            ze(),
+                            Se(),
                             v((n = h(T, '#sceditor-end-marker')[0])),
                             (s = T.scrollTop),
                             (a = K(n).top + 1.5 * n.offsetHeight - o),
@@ -78628,7 +76108,7 @@ if (
                         var o = Z.selectedHtml();
                         !1 !== n &&
                             'fragmentToSource' in i &&
-                            (o = i.fragmentToSource(o, S, J)),
+                            (o = i.fragmentToSource(o, z, J)),
                             (e += o + t);
                     }
                     return (
@@ -78647,7 +76127,7 @@ if (
                 }),
                 (_t.getWysiwygEditorValue = function (e) {
                     for (
-                        var t, n = r('div', {}, S), s = T.childNodes, a = 0;
+                        var t, n = r('div', {}, z), s = T.childNodes, a = 0;
                         a < s.length;
                         a++
                     )
@@ -78659,7 +76139,7 @@ if (
                         (t = n.innerHTML),
                         !1 !== e &&
                             i.hasOwnProperty('toSource') &&
-                            (t = i.toSource(t, S)),
+                            (t = i.toSource(t, z)),
                         t
                     );
                 }),
@@ -78676,7 +76156,7 @@ if (
                 (_t.setWysiwygEditorValue = function (e) {
                     e || (e = '<p>' + (Be ? '' : '<br />') + '</p>'),
                         (T.innerHTML = e),
-                        ze(),
+                        Se(),
                         nt(),
                         dt(),
                         mt();
@@ -78687,11 +76167,11 @@ if (
                 (_t.updateOriginal = function () {
                     e.value = _t.val();
                 }),
-                (ze = function () {
+                (Se = function () {
                     kt.emoticonsEnabled && oe(T, wt, kt.emoticonsCompat);
                 }),
                 (_t.inSourceMode = function () {
-                    return z(o, 'sourceMode');
+                    return S(o, 'sourceMode');
                 }),
                 (_t.sourceMode = function (e) {
                     var t = _t.inSourceMode();
@@ -78702,13 +76182,13 @@ if (
                 }),
                 (_t.toggleSourceMode = function () {
                     var e = _t.inSourceMode();
-                    (!Se && e) ||
+                    (!ze && e) ||
                         (e || (Z.saveRange(), Z.clear()),
                         _t.blur(),
                         e ?
                             _t.setWysiwygEditorValue(_t.getSourceEditorValue())
                         :   _t.setSourceEditorValue(_t.getWysiwygEditorValue()),
-                        (O = null),
+                        (N = null),
                         b(R),
                         b(f),
                         P(o, 'wysiwygMode', e),
@@ -78739,14 +76219,14 @@ if (
                             ));
                 }),
                 (Ee = function () {
-                    Be && (O = Z.selectedRange());
+                    Be && (N = Z.selectedRange());
                 }),
                 (_t.execCommand = function (e, t) {
                     var i = !1,
                         n = _t.commands[e];
                     if ((_t.focus(), !c(Z.parentNode(), 'code'))) {
                         try {
-                            i = S.execCommand(e, !1, t);
+                            i = z.execCommand(e, !1, t);
                         } catch (e) {}
                         !i &&
                             n &&
@@ -78776,15 +76256,15 @@ if (
                                     e = e.parentNode;
                                 e &&
                                     q(e, !0) &&
-                                    (Z.saveRange(), re(T, S), Z.restoreRange());
+                                    (Z.saveRange(), re(T, z), Z.restoreRange());
                             }
-                            D(o, 'selectionchanged');
+                            j(o, 'selectionchanged');
                         }
                         ie = !1;
                     }
                     ie ||
                         ((ie = !0),
-                        'onselectionchange' in S ? e() : setTimeout(e, 100));
+                        'onselectionchange' in z ? e() : setTimeout(e, 100));
                 }),
                 (at = function () {
                     var e,
@@ -78793,7 +76273,7 @@ if (
                         ((e = J),
                         (J = t),
                         (Q = Z.getFirstBlockParent(t)),
-                        D(o, 'nodechanged', { oldNode: e, newNode: J }));
+                        j(o, 'nodechanged', { oldNode: e, newNode: J }));
                 }),
                 (_t.currentNode = function () {
                     return J;
@@ -78805,7 +76285,7 @@ if (
                     var e,
                         t,
                         i = 'active',
-                        n = S,
+                        n = z,
                         s = _t.sourceMode();
                     if (_t.readOnly())
                         a(h(l, i), function (e, t) {
@@ -78841,11 +76321,11 @@ if (
                     if (
                         !e.defaultPrevented &&
                         (_t.closeDropDown(),
-                        13 === e.which && !k(Q, 'li,ul,ol') && F(Q))
+                        13 === e.which && !k(Q, 'li,ul,ol') && L(Q))
                     ) {
-                        O = null;
-                        var t = r('br', {}, S);
-                        if ((Z.insertNode(t), !Le)) {
+                        N = null;
+                        var t = r('br', {}, z);
+                        if ((Z.insertNode(t), !Oe)) {
                             var i = t.parentNode,
                                 n = i.lastChild;
                             n &&
@@ -78861,17 +76341,17 @@ if (
                     }
                 }),
                 (nt = function () {
-                    L(T, function (e) {
+                    O(T, function (e) {
                         if (
                             e.nodeType === ge &&
                             !/inline/.test(y(e, 'display')) &&
                             !k(e, '.sceditor-nlf') &&
-                            F(e)
+                            L(e)
                         ) {
-                            var t = r('p', {}, S);
+                            var t = r('p', {}, z);
                             return (
                                 (t.className = 'sceditor-nlf'),
-                                (t.innerHTML = Le ? '' : '<br />'),
+                                (t.innerHTML = Oe ? '' : '<br />'),
                                 u(T, t),
                                 !1
                             );
@@ -78887,7 +76367,7 @@ if (
                     _t.val(e.value);
                 }),
                 (Ye = function () {
-                    _t.closeDropDown(), (O = null);
+                    _t.closeDropDown(), (N = null);
                 }),
                 (_t._ = function () {
                     var e,
@@ -78939,11 +76419,11 @@ if (
                     if (me(e)) _t.bind('focus', e, t, i);
                     else if (_t.inSourceMode()) R.focus();
                     else {
-                        if (h(S, ':focus').length) return;
+                        if (h(z, ':focus').length) return;
                         var n,
                             s = Z.selectedRange();
                         ee || ot(),
-                            !Le &&
+                            !Oe &&
                                 s &&
                                 1 === s.endOffset &&
                                 s.collapsed &&
@@ -78955,7 +76435,7 @@ if (
                                 Z.selectRange(s)),
                             x.focus(),
                             T.focus(),
-                            O && (Z.selectRange(O), (O = null));
+                            N && (Z.selectRange(N), (N = null));
                     }
                     return tt(), _t;
                 }),
@@ -79012,12 +76492,12 @@ if (
                     ((kt.emoticonsEnabled = e), e) ?
                         (p(T, 'keypress', rt),
                         _t.sourceMode() ||
-                            (Z.saveRange(), ze(), dt(!1), Z.restoreRange()))
+                            (Z.saveRange(), Se(), dt(!1), Z.restoreRange()))
                     :   (a(
                             h(T, 'img[data-sceditor-emoticon]'),
                             function (e, t) {
                                 var i = w(t, 'sceditor-emoticon'),
-                                    n = S.createTextNode(i);
+                                    n = z.createTextNode(i);
                                 t.parentNode.replaceChild(n, t);
                             }
                         ),
@@ -79028,8 +76508,8 @@ if (
                 (_t.css = function (e) {
                     return (
                         de ||
-                            ((de = r('style', { id: 'inline' }, S)),
-                            u(S.head, de)),
+                            ((de = r('style', { id: 'inline' }, z)),
+                            u(z.head, de)),
                         he(e) ?
                             (de.styleSheet ?
                                 (de.styleSheet.cssText = e)
@@ -79190,7 +76670,7 @@ if (
                     }
                 }),
                 (ct = function () {
-                    for (var e = Q; !F(e) || q(e, !0); )
+                    for (var e = Q; !L(e) || q(e, !0); )
                         if (!(e = e.parentNode) || k(e, 'body')) return;
                     return e;
                 }),
@@ -79200,9 +76680,9 @@ if (
                             k(e, 'body') ||
                             (Z.saveRange(),
                             (e.className = ''),
-                            (O = null),
+                            (N = null),
                             _(e, 'style', ''),
-                            k(e, 'p,div,td') || N(e, 'p'),
+                            k(e, 'p,div,td') || F(e, 'p'),
                             Z.restoreRange()),
                         _t
                     );
@@ -79218,12 +76698,12 @@ if (
                         ($ = !1),
                             (e =
                                 !1 !== e &&
-                                !S.getElementById('sceditor-start-marker')),
+                                !z.getElementById('sceditor-start-marker')),
                             V && (clearTimeout(V), (V = !1)),
                             n && e && Z.saveRange(),
                             (t = i ? R.value : T.innerHTML) !== dt.lastVal &&
                                 ((dt.lastVal = t),
-                                D(o, 'valuechanged', {
+                                j(o, 'valuechanged', {
                                     rawValue: i ? _t.val() : t,
                                 })),
                             n && e && Z.removeMarkers();
@@ -79375,7 +76855,7 @@ if (
             })(),
             Te = '-ms-ime-align' in document.documentElement.style,
             Ce = /iPhone|iPod|iPad| wosbrowser\//i.test(ke),
-            Se =
+            ze =
                 (((ue = document.createElement('div')).contentEditable = !0),
                 'contentEditable' in document.documentElement &&
                     'true' === ue.contentEditable &&
@@ -79392,7 +76872,7 @@ if (
                     'UCWEB' === navigator.vendor && (de = !1),
                     xe <= 9 && (de = !0),
                     !de)),
-            ze =
+            Se =
                 /^(https?|s?ftp|mailto|spotify|skype|ssh|teamspeak|tel):|(\/\/)|data:image\/(png|bmp|gif|p?jpe?g);/i,
             Ae = {
                 html: '<!DOCTYPE html><html{attrs}><head><style>.ie * {min-height: auto !important} .ie table td {height:15px} @supports (-ms-ime-align:auto) { * { min-height: auto !important; } }</style><meta http-equiv="Content-Type" content="text/html;charset={charset}" /><link rel="stylesheet" type="text/css" href="{style}" /></head><body contenteditable="true" {spellcheck}><p></p></body></html>',
@@ -79515,7 +76995,7 @@ if (
                                     (s += '</div>');
                             }),
                             (a._htmlCache = s)),
-                            u(n, O(a._htmlCache)),
+                            u(n, N(a._htmlCache)),
                             p(n, 'click', 'a', function (t) {
                                 i(w(this, 'color')),
                                     e.closeDropDown(!0),
@@ -80083,7 +77563,7 @@ if (
             Me = {};
         ne.plugins = Me;
         var Ie = xe && xe < 11,
-            De = function (e, t, i) {
+            je = function (e, t, i) {
                 var n,
                     s,
                     a,
@@ -80111,11 +77591,11 @@ if (
                             (c = r.nextSibling));
                 return { node: r || c, offset: d, text: l };
             },
-            je = window,
+            De = window,
             Re = document,
             Be = xe,
-            Le = Be && Be < 11,
-            Oe = /^image\/(p?jpe?g|gif|png|bmp)$/i;
+            Oe = Be && Be < 11,
+            Ne = /^image\/(p?jpe?g|gif|png|bmp)$/i;
         (le.locale = {}),
             (le.formats = {}),
             (le.icons = {}),
@@ -80155,7 +77635,7 @@ if (
                 defaultOptions: we,
                 ie: xe,
                 ios: Ce,
-                isWysiwygSupported: Se,
+                isWysiwygSupported: ze,
                 regexEscape: Q,
                 escapeEntities: X,
                 escapeUriScheme: ee,
@@ -80168,10 +77648,10 @@ if (
                     width: M,
                     height: I,
                     traverse: B,
-                    rTraverse: L,
-                    parseHTML: O,
-                    hasStyling: F,
-                    convertElement: N,
+                    rTraverse: O,
+                    parseHTML: N,
+                    hasStyling: L,
+                    convertElement: F,
                     blockLevelList: ye,
                     canHaveChildren: H,
                     isInline: q,
@@ -80193,7 +77673,7 @@ if (
                 create: function (e, t) {
                     (t = t || {}),
                         l(e, '.sceditor-container') ||
-                            ((t.runWithoutWysiwygSupport || Se) &&
+                            ((t.runWithoutWysiwygSupport || ze) &&
                                 new le(e, t));
                 },
                 instance: function (e) {
@@ -80322,13 +77802,13 @@ if (
                     r = /\[([^\]\s=]+)(?:([^\]]+))?\]/,
                     l = /\[\/([^\[\]]+)\]/;
                 return (
-                    e === z &&
+                    e === S &&
                         (i = t.match(r)) &&
                         ((s = y(i[1])),
                         i[2] && (i[2] = i[2].trim()) && (n = a(i[2]))),
                     e === P && (i = t.match(l)) && (s = y(i[1])),
                     e === E && (s = '#newline'),
-                    (s && ((e !== z && e !== P) || S[s])) ||
+                    (s && ((e !== S && e !== P) || z[s])) ||
                         ((e = A), (s = '#')),
                     new o(e, s, t, n)
                 );
@@ -80355,7 +77835,7 @@ if (
                 return !1;
             }
             function c(e, t) {
-                var i = (e ? S[e.name] : {}).allowedChildren;
+                var i = (e ? z[e.name] : {}).allowedChildren;
                 return (
                     !k.opts.fixInvalidChildren ||
                     !i ||
@@ -80382,7 +77862,7 @@ if (
                         m = function (e) {
                             return (
                                 h() &&
-                                (i = S[h().name]) &&
+                                (i = z[h().name]) &&
                                 i.closedBy &&
                                 i.closedBy.indexOf(e) > -1
                             );
@@ -80397,11 +77877,11 @@ if (
                             ((t.name = '#'), (t.type = A)),
                         t.type)
                     ) {
-                        case z:
+                        case S:
                             m(t.name) && u.pop(),
                                 p(t),
                                 (
-                                    (i = S[t.name]) &&
+                                    (i = z[t.name]) &&
                                     !i.isSelfClosing &&
                                     (i.closedBy || l(t.name, P, e))
                                 ) ?
@@ -80417,7 +77897,7 @@ if (
                                 h() && t.name === h().name)
                             )
                                 (h().closing = t), u.pop();
-                            else if (l(t.name, z, u)) {
+                            else if (l(t.name, S, u)) {
                                 for (; (n = u.pop()); ) {
                                     if (n.name === t.name) {
                                         n.closing = t;
@@ -80430,7 +77910,7 @@ if (
                                 for (
                                     o &&
                                         o.type === E &&
-                                        (i = S[t.name]) &&
+                                        (i = z[t.name]) &&
                                         !1 === i.isInline &&
                                         (p(o), e.shift()),
                                         p(b(r)),
@@ -80447,7 +77927,7 @@ if (
                                 o &&
                                 m((o.type === P ? '/' : '') + o.name) &&
                                 ((o.type === P && o.name === h().name) ||
-                                    ((((i = S[h().name]) && i.breakAfter) ||
+                                    ((((i = z[h().name]) && i.breakAfter) ||
                                         (i &&
                                             !1 === i.isInline &&
                                             k.opts.breakAfterBlock &&
@@ -80470,7 +77950,7 @@ if (
                     c,
                     d,
                     u = e.length;
-                t && (o = S[t.name]);
+                t && (o = z[t.name]);
                 for (var p = u; p--; )
                     if ((n = e[p]))
                         if (n.type === E) {
@@ -80496,8 +77976,8 @@ if (
                                             (d = !0),
                                         o.breakStart && (d = !0))),
                                 s &&
-                                    s.type === z &&
-                                    (r = S[s.name]) &&
+                                    s.type === S &&
+                                    (r = z[s.name]) &&
                                     (i ?
                                         !1 === r.isInline && (d = !0)
                                     :   (!1 === r.isInline &&
@@ -80508,8 +77988,8 @@ if (
                                 !i &&
                                     !c &&
                                     a &&
-                                    a.type === z &&
-                                    (r = S[a.name]) &&
+                                    a.type === S &&
+                                    (r = z[a.name]) &&
                                     (!1 === r.isInline &&
                                         k.opts.breakBeforeBlock &&
                                         !1 !== r.breakBefore &&
@@ -80522,7 +78002,7 @@ if (
                                 continue;
                             }
                             d && e.splice(p, 1), (c = !1);
-                        } else n.type === z && h(n.children, n, i);
+                        } else n.type === S && h(n.children, n, i);
             }
             function p(e, t, i, n) {
                 var s,
@@ -80532,11 +78012,11 @@ if (
                     l,
                     d,
                     u = function (e) {
-                        var t = S[e.name];
+                        var t = z[e.name];
                         return !t || !1 !== t.isInline;
                     };
                 for (t = t || [], n = n || e, a = 0; a < e.length; a++)
-                    if ((s = e[a]) && s.type === z) {
+                    if ((s = e[a]) && s.type === S) {
                         if (i && !u(s)) {
                             if (
                                 ((d = (o = b(t)).splitAt(s)),
@@ -80572,7 +78052,7 @@ if (
                         n = function (e) {
                             for (var t = e.length; t--; ) {
                                 var i = e[t].type;
-                                if (i === z || i === P) return !1;
+                                if (i === S || i === P) return !1;
                                 if (i === A && /\S|\u00A0/.test(e[t].val))
                                     return !1;
                             }
@@ -80583,8 +78063,8 @@ if (
 
                 )
                     (t = e[s]) &&
-                        t.type === z &&
-                        ((i = S[t.name]),
+                        t.type === S &&
+                        ((i = z[t.name]),
                         m(t.children),
                         n(t.children) &&
                             i &&
@@ -80617,14 +78097,14 @@ if (
 
                 )
                     if ((a = e.shift())) {
-                        if (a.type === z)
+                        if (a.type === S)
                             (p = a.children[a.children.length - 1] || {}),
-                                (o = S[a.name]),
+                                (o = z[a.name]),
                                 (c = i && h(o)),
                                 (r = _(a.children, !1)),
                                 o && o.html ?
                                     (h(o) ||
-                                        !h(S[p.name]) ||
+                                        !h(z[p.name]) ||
                                         o.isPreFormatted ||
                                         o.skipLastLineBreak ||
                                         w ||
@@ -80663,7 +78143,7 @@ if (
                 for (var t, i, n, s, a, o, r, l, c, d, u = []; e.length > 0; )
                     if ((t = e.shift()))
                         if (
-                            ((s = !(!(n = S[t.name]) || !1 !== n.isInline)),
+                            ((s = !(!(n = z[t.name]) || !1 !== n.isInline)),
                             (a = n && n.isSelfClosing),
                             (r =
                                 (s &&
@@ -80690,9 +78170,9 @@ if (
                                 (n ? n.quoteType : null) ||
                                 k.opts.quoteType ||
                                 T.auto),
-                            n || t.type !== z)
+                            n || t.type !== S)
                         )
-                            if (t.type === z) {
+                            if (t.type === S) {
                                 if (
                                     (r && u.push('\n'),
                                     u.push('[' + t.name),
@@ -80756,7 +78236,7 @@ if (
                         o = [
                             { type: A, regex: /^([^\[\r\n]+|\[)/ },
                             { type: E, regex: /^(\r\n|\r|\n)/ },
-                            { type: z, regex: /^\[[^\[\]]+\]/ },
+                            { type: S, regex: /^\[[^\[\]]+\]/ },
                             { type: P, regex: /^\[\/[^\[\]]+\]/ },
                         ];
                     e: for (; e.length; ) {
@@ -80814,20 +78294,20 @@ if (
         }
         function d() {
             function e() {
-                b(S, function (e) {
+                b(z, function (e) {
                     var t,
-                        i = S[e].tags,
-                        n = S[e].styles;
+                        i = z[e].tags,
+                        n = z[e].styles;
                     i &&
                         b(i, function (i, n) {
-                            (t = !1 === S[e].isInline),
+                            (t = !1 === z[e].isInline),
                                 (m[i] = m[i] || {}),
                                 (m[i][t] = m[i][t] || {}),
                                 (m[i][t][e] = n);
                         }),
                         n &&
                             b(n, function (i, n) {
-                                (t = !1 === S[e].isInline),
+                                (t = !1 === z[e].isInline),
                                     (y[t] = y[t] || {}),
                                     (y[t][i] = y[t][i] || {}),
                                     (y[t][i][e] = n);
@@ -80844,7 +78324,7 @@ if (
                                 r(e.parentNode, i) !== s &&
                                 b(l, function (i, r) {
                                     (!r || r.indexOf(s.toString()) > -1) &&
-                                        ((o = S[i].format),
+                                        ((o = z[i].format),
                                         (t = n(o) ? o.call(h, e, t) : a(o, t)));
                                 });
                         }),
@@ -80897,7 +78377,7 @@ if (
                                         return (s = !0), !1;
                                 }),
                                 !s)) ||
-                                ((o = S[i].format),
+                                ((o = z[i].format),
                                 (t = n(o) ? o.call(h, e, t) : a(o, t)));
                         }),
                     t
@@ -81129,7 +78609,7 @@ if (
                 rtl: { txtExec: ['[rtl]', '[/rtl]'] },
                 ltr: { txtExec: ['[ltr]', '[/ltr]'] },
             },
-            S = {
+            z = {
                 'b': {
                     tags: { b: null, strong: null },
                     styles: {
@@ -81499,7 +78979,7 @@ if (
                 },
                 'ignore': {},
             },
-            z = 'open',
+            S = 'open',
             A = 'content',
             E = 'newline',
             P = 'close';
@@ -81540,24 +79020,24 @@ if (
                 quoteType: T.auto,
             }),
             (d.get = function (e) {
-                return S[e] || null;
+                return z[e] || null;
             }),
             (d.set = function (e, t) {
                 return (
                     e &&
                         t &&
-                        (((t = v(S[e] || {}, t)).remove = function () {
-                            delete S[e];
+                        (((t = v(z[e] || {}, t)).remove = function () {
+                            delete z[e];
                         }),
-                        (S[e] = t)),
+                        (z[e] = t)),
                     this
                 );
             }),
             (d.rename = function (e, t) {
-                return e in S && ((S[t] = S[e]), delete S[e]), this;
+                return e in z && ((z[t] = z[e]), delete z[e]), this;
             }),
             (d.remove = function (e) {
-                return e in S && delete S[e], this;
+                return e in z && delete z[e], this;
             }),
             (d.formatBBCodeString = t),
             (e.formats.bbcode = d),
@@ -84237,32 +81717,33 @@ var STORAGE_KEY_MOBILE_CLIENT_ID = 'mc_mobile_client_id',
             },
             leafletMissionPositionMarkerAdd: function (t) {
                 if (mission_position_markers_per_id.get(t.id)) return;
-                t.flavour_url = '/images/letter_p.png';
-                const i = function (e) {
-                    const t = mission_position_markers_per_id.get(
-                        e.target.poi_id
-                    );
+                var i = L.icon({
+                    iconUrl: '/images/letter_p.png',
+                    iconSize: [32, 37],
+                    iconAnchor: iconAnchorCalculate([32, 37]),
+                });
+                let n = L.marker([t.latitude, t.longitude], {
+                    icon: i,
+                }).bindTooltip(t.caption);
+                var s = function (e) {
                     confirm(
                         I18n.t('javascript.poi_delete', { caption: t.caption })
                     ) &&
-                        (mission_position_markers_per_id.delete(n.poi_id),
-                        xy_map.removeMarker(t),
+                        (map_pois_service.leafletMissionPositionMarkerDelete(
+                            e.target._leaflet_id
+                        ),
                         $.ajax({
-                            url: '/mission_positions/' + t.poi_id,
+                            url: '/mission_positions/' + t.id,
                             type: 'POST',
                             data: { _method: 'delete' },
                             cache: !1,
                         }));
                 };
-                let n = xy_map.createMapMarkerAddAddToMap(
-                    t,
-                    i,
-                    map_filters_service.getMapFiltersLayers().pois
-                );
-                (n.poi_id = t.id),
-                    (n.caption = t.caption),
+                n.on('click', s),
+                    (n.id = t.id),
+                    n.addTo(map_filters_service.getMapFiltersLayers().pois),
                     e.push(n),
-                    mission_position_markers_per_id.set(n.poi_id, n);
+                    mission_position_markers_per_id.set(n.id, n);
             },
             leafletMissionPositionMarkerDelete: function (e) {
                 let t = map_filters_service
@@ -84300,10 +81781,9 @@ var STORAGE_KEY_MOBILE_CLIENT_ID = 'mc_mobile_client_id',
                 n.addEventListener('select', i, n),
                     (n.element.className = 'mapkit-marker'),
                     map.addAnnotation(n),
-                    (n.caption = t.caption),
-                    (n.poi_id = t.id),
+                    (n.id = t.id),
                     e.push(n),
-                    mission_position_markers_per_id.set(n.poi_id, n);
+                    mission_position_markers_per_id.set(n.id, n);
             },
             mapkitMissionPositionMarkerDelete: function (e) {
                 const t = mission_position_markers_per_id.get(e);
@@ -84332,17 +81812,14 @@ var STORAGE_KEY_MOBILE_CLIENT_ID = 'mc_mobile_client_id',
                     (a = o.mission_types_with_filter_ids),
                     (t = o.user_id),
                     $.each(o.sorted_map_filters, function () {
-                        let e =
-                            o.canvas_layer ?
-                                xy_map.getCanvasLayer()
-                            :   L.layerGroup();
-                        (n[
-                            map_filters_service.decorateFilterText(
-                                this.text,
-                                this.filter_id
-                            )
-                        ] = e),
-                            (i[this.filter_id] = e);
+                        (filter_layer = L.layerGroup()),
+                            (n[
+                                map_filters_service.decorateFilterText(
+                                    this.text,
+                                    this.filter_id
+                                )
+                            ] = filter_layer),
+                            (i[this.filter_id] = filter_layer);
                     });
             },
             getMapFiltersLayersForMap: function () {
@@ -84360,9 +81837,7 @@ var STORAGE_KEY_MOBILE_CLIENT_ID = 'mc_mobile_client_id',
                     case null == e.user_id:
                         return i.alliance_buildings || map;
                     default:
-                        return xy_map.supportsCanvas ?
-                                xy_map.getCanvasLayer()
-                            :   map;
+                        return map;
                 }
             },
             getFilterLayerByMissionParams: function (e) {
@@ -84374,16 +81849,9 @@ var STORAGE_KEY_MOBILE_CLIENT_ID = 'mc_mobile_client_id',
                     case e.user_id != t || 'alliance_missions' === e.filter_id:
                         return i.alliance_missions;
                     default:
-                        return xy_map.supportsCanvas ?
-                                xy_map.getCanvasLayer()
-                            :   map;
+                        return map;
                 }
             },
-            getLayerByKey: function (e) {
-                return e && i[e] ?
-                        { key: e, layer: i[e] }
-                    :   { key: 'all', layer: map };
-            },
             onOverlayChanged: function (e) {
                 (filter_key = Object.keys(i).find(function (t) {
                     return i[t] === e.layer;
@@ -84452,14 +81920,12 @@ var STORAGE_KEY_MOBILE_CLIENT_ID = 'mc_mobile_client_id',
                     (o = !1);
             },
             decorateFilterText: function (t, i) {
-                var n = function (e, t, n) {
+                var n = function (e, t, i) {
                     return (
-                        "<a id='" +
-                        i +
-                        "' class='list__element list__element--" +
+                        "<a class='list__element list__element--" +
                         t +
                         ' ' +
-                        n +
+                        i +
                         "'>" +
                         e +
                         '</a>'
